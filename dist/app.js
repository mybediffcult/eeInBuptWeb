!function(e){function t(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.src=d.p+""+e+"."+g+".hot-update.js",t.appendChild(n)}function n(e){if("undefined"==typeof XMLHttpRequest)return e(new Error("No browser support"));try{var t=new XMLHttpRequest,n=d.p+""+g+".hot-update.json";t.open("GET",n,!0),t.timeout=1e4,t.send(null)}catch(t){return e(t)}t.onreadystatechange=function(){if(4===t.readyState)if(0===t.status)e(new Error("Manifest request to "+n+" timed out."));else if(404===t.status)e();else if(200!==t.status&&304!==t.status)e(new Error("Manifest request to "+n+" failed."));else{try{var r=JSON.parse(t.responseText)}catch(t){return void e(t)}e(null,r)}}}function r(e){function t(e,t){"ready"===E&&i("prepare"),P++,d.e(e,function(){function n(){P--,"prepare"===E&&(j[e]||c(e),0===P&&0===x&&l())}try{t.call(null,r)}finally{n()}})}var n=T[e];if(!n)return d;var r=function(t){return n.hot.active?T[t]?(T[t].parents.indexOf(e)<0&&T[t].parents.push(e),n.children.indexOf(t)<0&&n.children.push(t)):_=[e]:(console.warn("[HMR] unexpected require("+t+") from disposed module "+e),_=[]),d(t)};for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(h?Object.defineProperty(r,o,function(e){return{configurable:!0,enumerable:!0,get:function(){return d[e]},set:function(t){d[e]=t}}}(o)):r[o]=d[o]);return h?Object.defineProperty(r,"e",{enumerable:!0,value:t}):r.e=t,r}function o(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],active:!0,accept:function(e,n){if("undefined"==typeof e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n;else t._acceptedDependencies[e]=n},decline:function(e){if("undefined"==typeof e)t._selfDeclined=!0;else if("number"==typeof e)t._declinedDependencies[e]=!0;else for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:u,apply:f,status:function(e){return e?void O.push(e):E},addStatusHandler:function(e){O.push(e)},removeStatusHandler:function(e){var t=O.indexOf(e);t>=0&&O.splice(t,1)},data:w[e]};return t}function i(e){E=e;for(var t=0;t<O.length;t++)O[t].call(null,e)}function a(e){var t=+e+""===e;return t?+e:e}function u(e,t){if("idle"!==E)throw new Error("check() is only allowed in idle status");"function"==typeof e?(b=!1,t=e):(b=e,t=t||function(e){if(e)throw e}),i("check"),n(function(e,n){if(e)return t(e);if(!n)return i("idle"),void t(null,null);R={},N={},j={};for(var r=0;r<n.c.length;r++)N[n.c[r]]=!0;m=n.h,i("prepare"),y=t,v={};var o=0;c(o),"prepare"===E&&0===P&&0===x&&l()})}function s(e,t){if(N[e]&&R[e]){R[e]=!1;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(v[n]=t[n]);0===--x&&0===P&&l()}}function c(e){N[e]?(R[e]=!0,x++,t(e)):j[e]=!0}function l(){i("ready");var e=y;if(y=null,e)if(b)f(b,e);else{var t=[];for(var n in v)Object.prototype.hasOwnProperty.call(v,n)&&t.push(a(n));e(null,t)}}function f(t,n){function r(e){for(var t=[e],n={},r=t.slice();r.length>0;){var i=r.pop(),e=T[i];if(e&&!e.hot._selfAccepted){if(e.hot._selfDeclined)return new Error("Aborted because of self decline: "+i);if(0===i)return;for(var a=0;a<e.parents.length;a++){var u=e.parents[a],s=T[u];if(s.hot._declinedDependencies[i])return new Error("Aborted because of declined dependency: "+i+" in "+u);t.indexOf(u)>=0||(s.hot._acceptedDependencies[i]?(n[u]||(n[u]=[]),o(n[u],[i])):(delete n[u],t.push(u),r.push(u)))}}}return[t,n]}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.indexOf(r)<0&&e.push(r)}}if("ready"!==E)throw new Error("apply() is only allowed in ready status");"function"==typeof t?(n=t,t={}):t&&"object"==typeof t?n=n||function(e){if(e)throw e}:(t={},n=n||function(e){if(e)throw e});var u={},s=[],c={};for(var l in v)if(Object.prototype.hasOwnProperty.call(v,l)){var f=a(l),p=r(f);if(!p){if(t.ignoreUnaccepted)continue;return i("abort"),n(new Error("Aborted because "+f+" is not accepted"))}if(p instanceof Error)return i("abort"),n(p);c[f]=v[f],o(s,p[0]);for(var f in p[1])Object.prototype.hasOwnProperty.call(p[1],f)&&(u[f]||(u[f]=[]),o(u[f],p[1][f]))}for(var h=[],y=0;y<s.length;y++){var f=s[y];T[f]&&T[f].hot._selfAccepted&&h.push({module:f,errorHandler:T[f].hot._selfAccepted})}i("dispose");for(var b=s.slice();b.length>0;){var f=b.pop(),O=T[f];if(O){for(var x={},P=O.hot._disposeHandlers,j=0;j<P.length;j++){var R=P[j];R(x)}w[f]=x,O.hot.active=!1,delete T[f];for(var j=0;j<O.children.length;j++){var N=T[O.children[j]];if(N){var S=N.parents.indexOf(f);S>=0&&N.parents.splice(S,1)}}}}for(var f in u)if(Object.prototype.hasOwnProperty.call(u,f))for(var O=T[f],M=u[f],j=0;j<M.length;j++){var C=M[j],S=O.children.indexOf(C);S>=0&&O.children.splice(S,1)}i("apply"),g=m;for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(e[f]=c[f]);var k=null;for(var f in u)if(Object.prototype.hasOwnProperty.call(u,f)){for(var O=T[f],M=u[f],A=[],y=0;y<M.length;y++){var C=M[y],R=O.hot._acceptedDependencies[C];A.indexOf(R)>=0||A.push(R)}for(var y=0;y<A.length;y++){var R=A[y];try{R(u)}catch(e){k||(k=e)}}}for(var y=0;y<h.length;y++){var D=h[y],f=D.module;_=[f];try{d(f)}catch(e){if("function"==typeof D.errorHandler)try{D.errorHandler(e)}catch(e){k||(k=e)}else k||(k=e)}}return k?(i("fail"),n(k)):(i("idle"),void n(null,s))}function d(t){if(T[t])return T[t].exports;var n=T[t]={exports:{},id:t,loaded:!1,hot:o(t),parents:_,children:[]};return e[t].call(n.exports,n,n.exports,r(t)),n.loaded=!0,n.exports}var p=this.webpackHotUpdate;this.webpackHotUpdate=function(e,t){s(e,t),p&&p(e,t)};var h=!1;try{Object.defineProperty({},"x",{get:function(){}}),h=!0}catch(e){}var y,v,m,b=!0,g="c5e93ee66a4c2ded914e",w={},_=[],O=[],E="idle",x=0,P=0,j={},R={},N={},T={};return d.m=e,d.c=T,d.p="/dist/",d.h=function(){return g},r(0)(0)}([function(e,t,n){e.exports=n(56)},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){y&&p&&(y=!1,p.length?h=p.concat(h):v=-1,h.length&&u())}function u(){if(!y){var e=o(a);y=!0;for(var t=h.length;t;){for(p=h,h=[];++v<t;)p&&p[v].run();v=-1,t=h.length}p=null,y=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var l,f,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,h=[],y=!1,v=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new s(e,t)),1!==h.length||y||o(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t){e.exports=React},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(t.indexOf("deprecated")!==-1){if(s[t])return;s[t]=!0}t="[react-router] "+t;for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];u.default.apply(void 0,[e,t].concat(r))}function i(){s={}}t.__esModule=!0,t.default=o,t._resetWarned=i;var a=n(109),u=r(a),s={}},function(e,t,n){(function(t){"use strict";var n=function(e,n,r,o,i,a,u,s){if("production"!==t.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!e){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,o,i,a,u,s],f=0;c=new Error(n.replace(/%s/g,function(){return l[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};e.exports=n}).call(t,n(1))},function(e,t,n){(function(t){"use strict";var n=function(){};"production"!==t.env.NODE_ENV&&(n=function(e,t,n){var r=arguments.length;n=new Array(r>2?r-2:0);for(var o=2;o<r;o++)n[o-2]=arguments[o];if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(t.length<10||/^[s\W]*$/.test(t))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+t);if(!e){var i=0,a="Warning: "+t.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(a);try{throw new Error(a)}catch(e){}}}),e.exports=n}).call(t,n(1))},function(e,t){e.exports=antd},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return null==e||d.default.isValidElement(e)}function i(e){return o(e)||Array.isArray(e)&&e.every(o)}function a(e,t){return l({},e,t)}function u(e){var t=e.type,n=a(t.defaultProps,e.props);if(n.children){var r=s(n.children,n);r.length&&(n.childRoutes=r),delete n.children}return n}function s(e,t){var n=[];return d.default.Children.forEach(e,function(e){if(d.default.isValidElement(e))if(e.type.createRouteFromReactElement){var r=e.type.createRouteFromReactElement(e,t);r&&n.push(r)}else n.push(u(e))}),n}function c(e){return i(e)?e=s(e):e&&!Array.isArray(e)&&(e=[e]),e}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.isReactChildren=i,t.createRouteFromReactElement=u,t.createRoutesFromReactChildren=s,t.createRoutes=c;var f=n(2),d=r(f)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.createMemoryHistory=t.hashHistory=t.browserHistory=t.applyRouterMiddleware=t.formatPattern=t.useRouterHistory=t.match=t.routerShape=t.locationShape=t.PropTypes=t.RoutingContext=t.RouterContext=t.createRoutes=t.useRoutes=t.RouteContext=t.Lifecycle=t.History=t.Route=t.Redirect=t.IndexRoute=t.IndexRedirect=t.withRouter=t.IndexLink=t.Link=t.Router=void 0;var o=n(8);Object.defineProperty(t,"createRoutes",{enumerable:!0,get:function(){return o.createRoutes}});var i=n(33);Object.defineProperty(t,"locationShape",{enumerable:!0,get:function(){return i.locationShape}}),Object.defineProperty(t,"routerShape",{enumerable:!0,get:function(){return i.routerShape}});var a=n(14);Object.defineProperty(t,"formatPattern",{enumerable:!0,get:function(){return a.formatPattern}});var u=n(80),s=r(u),c=n(42),l=r(c),f=n(74),d=r(f),p=n(93),h=r(p),y=n(75),v=r(y),m=n(76),b=r(m),g=n(43),w=r(g),_=n(78),O=r(_),E=n(73),x=r(E),P=n(77),j=r(P),R=n(79),N=r(R),T=n(92),S=r(T),M=n(18),C=r(M),k=n(81),A=r(k),D=r(i),L=n(90),H=r(L),I=n(48),q=r(I),U=n(83),B=r(U),V=n(84),F=r(V),W=n(88),z=r(W),K=n(45),Y=r(K);t.Router=s.default,t.Link=l.default,t.IndexLink=d.default,t.withRouter=h.default,t.IndexRedirect=v.default,t.IndexRoute=b.default,t.Redirect=w.default,t.Route=O.default,t.History=x.default,t.Lifecycle=j.default,t.RouteContext=N.default,t.useRoutes=S.default,t.RouterContext=C.default,t.RoutingContext=A.default,t.PropTypes=D.default,t.match=H.default,t.useRouterHistory=q.default,t.applyRouterMiddleware=B.default,t.browserHistory=F.default,t.hashHistory=z.default,t.createMemoryHistory=Y.default},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=p[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(c(r.parts[i],t))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(c(r.parts[i],t));p[r.id]={id:r.id,refs:1,parts:a}}}}function o(e){for(var t=[],n={},r=0;r<e.length;r++){var o=e[r],i=o[0],a=o[1],u=o[2],s=o[3],c={css:a,media:u,sourceMap:s};n[i]?n[i].parts.push(c):t.push(n[i]={id:i,parts:[c]})}return t}function i(e,t){var n=v(),r=g[g.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),g.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=g.indexOf(e);t>=0&&g.splice(t,1)}function u(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function c(e,t){var n,r,o;if(t.singleton){var i=b++;n=m||(m=u(t)),r=l.bind(null,n,i,!1),o=l.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),r=d.bind(null,n),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=u(t),r=f.bind(null,n),o=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function l(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function f(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var p={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},y=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=h(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,b=0,g=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=y()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=o(e);return r(n,t),function(e){for(var i=[],a=0;a<n.length;a++){var u=n[a],s=p[u.id];s.refs--,i.push(s)}if(e){var c=o(e);r(c,t)}for(var a=0;a<i.length;a++){var s=i[a];if(0===s.refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete p[s.id]}}}};var w=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.match(/^https?:\/\/[^\/]*/);return null==t?e:e.substring(t[0].length)}function i(t){var n=o(t),r="",i="";"production"!==e.env.NODE_ENV?u.default(t===n,'A path must be pathname + search + hash only, not a fully qualified URL like "%s"',t):void 0;var a=n.indexOf("#");a!==-1&&(i=n.substring(a),n=n.substring(0,a));var s=n.indexOf("?");return s!==-1&&(r=n.substring(s),n=n.substring(0,s)),""===n&&(n="/"),{pathname:n,search:r,hash:i}}t.__esModule=!0,t.extractPath=o,t.parsePath=i;var a=n(5),u=r(a)}).call(t,n(1))},function(e,t,n){"use strict";function r(e,t,n){if(e[t])return new Error("<"+n+'> should not have a "'+t+'" prop')}t.__esModule=!0,t.routes=t.route=t.components=t.component=t.history=void 0,t.falsy=r;var o=n(2),i=o.PropTypes.func,a=o.PropTypes.object,u=o.PropTypes.arrayOf,s=o.PropTypes.oneOfType,c=o.PropTypes.element,l=o.PropTypes.shape,f=o.PropTypes.string,d=(t.history=l({listen:i.isRequired,push:i.isRequired,replace:i.isRequired,go:i.isRequired,goBack:i.isRequired,goForward:i.isRequired}),t.component=s([i,f])),p=(t.components=s([d,a]),t.route=s([a,c]));t.routes=s([p,u(p)])},function(e,t){"use strict";t.__esModule=!0;var n="PUSH";t.PUSH=n;var r="REPLACE";t.REPLACE=r;var o="POP";t.POP=o,t.default={PUSH:n,REPLACE:r,POP:o}},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function i(e){for(var t="",n=[],r=[],i=void 0,a=0,u=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|\*\*|\*|\(|\)/g;i=u.exec(e);)i.index!==a&&(r.push(e.slice(a,i.index)),t+=o(e.slice(a,i.index))),i[1]?(t+="([^/]+)",n.push(i[1])):"**"===i[0]?(t+="(.*)",n.push("splat")):"*"===i[0]?(t+="(.*?)",n.push("splat")):"("===i[0]?t+="(?:":")"===i[0]&&(t+=")?"),r.push(i[0]),a=u.lastIndex;return a!==e.length&&(r.push(e.slice(a,e.length)),t+=o(e.slice(a,e.length))),{pattern:e,regexpSource:t,paramNames:n,tokens:r}}function a(e){return p[e]||(p[e]=i(e)),p[e]}function u(e,t){"/"!==e.charAt(0)&&(e="/"+e);var n=a(e),r=n.regexpSource,o=n.paramNames,i=n.tokens;"/"!==e.charAt(e.length-1)&&(r+="/?"),"*"===i[i.length-1]&&(r+="$");var u=t.match(new RegExp("^"+r,"i"));if(null==u)return null;var s=u[0],c=t.substr(s.length);if(c){if("/"!==s.charAt(s.length-1))return null;c="/"+c}return{remainingPathname:c,paramNames:o,paramValues:u.slice(1).map(function(e){return e&&decodeURIComponent(e)})}}function s(e){return a(e).paramNames}function c(e,t){var n=u(e,t);if(!n)return null;var r=n.paramNames,o=n.paramValues,i={};return r.forEach(function(e,t){i[e]=o[t]}),i}function l(t,n){n=n||{};for(var r=a(t),o=r.tokens,i=0,u="",s=0,c=void 0,l=void 0,f=void 0,p=0,h=o.length;p<h;++p)c=o[p],"*"===c||"**"===c?(f=Array.isArray(n.splat)?n.splat[s++]:n.splat,null!=f||i>0?void 0:"production"!==e.env.NODE_ENV?(0,d.default)(!1,'Missing splat #%s for path "%s"',s,t):(0,d.default)(!1),null!=f&&(u+=encodeURI(f))):"("===c?i+=1:")"===c?i-=1:":"===c.charAt(0)?(l=c.substring(1),f=n[l],null!=f||i>0?void 0:"production"!==e.env.NODE_ENV?(0,d.default)(!1,'Missing "%s" parameter for path "%s"',l,t):(0,d.default)(!1),null!=f&&(u+=encodeURIComponent(f))):u+=c;return u.replace(/\/+/g,"/")}t.__esModule=!0,t.compilePattern=a,t.matchPattern=u,t.getParamNames=s,t.getParams=c,t.formatPattern=l;var f=n(4),d=r(f),p=Object.create(null)}).call(t,n(1))},function(e,t){"use strict";t.__esModule=!0;var n=!("undefined"==typeof window||!window.document||!window.document.createElement);t.canUseDOM=n},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return f.stringify(e).replace(/%20/g,"+")}function a(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"object"==typeof e[t]&&!Array.isArray(e[t])&&null!==e[t])return!0;return!1}function u(e){return function(){function t(e){if(null==e.query){var t=e.search;e.query=P(t.substring(1)),e[m]={search:t,searchBase:""}}return e}function n(e,t){var n,o=e[m],u=t?x(t):"";if(!o&&!u)return e;"production"!==r.env.NODE_ENV?l.default(x!==i||!a(t),"useQueries does not stringify nested query objects by default; use a custom stringifyQuery function"):void 0,"string"==typeof e&&(e=h.parsePath(e));var c=void 0;c=o&&e.search===o.search?o.searchBase:e.search||"";var f=c;return u&&(f+=(f?"&":"?")+u),s({},e,(n={search:f},n[m]={search:f,searchBase:c},n))}function o(e){return E.listenBefore(function(n,r){p.default(e,t(n),r)})}function u(e){return E.listen(function(n){e(t(n))})}function c(e){E.push(n(e,e.query))}function f(e){E.replace(n(e,e.query))}function d(e,t){return"production"!==r.env.NODE_ENV?l.default(!t,"the query argument to createPath is deprecated; use a location descriptor instead"):void 0,E.createPath(n(e,t||e.query))}function y(e,t){return"production"!==r.env.NODE_ENV?l.default(!t,"the query argument to createHref is deprecated; use a location descriptor instead"):void 0,E.createHref(n(e,t||e.query))}function g(e){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var a=E.createLocation.apply(E,[n(e,e.query)].concat(o));return e.query&&(a.query=e.query),t(a)}function w(e,t,n){"string"==typeof t&&(t=h.parsePath(t)),c(s({state:e},t,{query:n}))}function _(e,t,n){"string"==typeof t&&(t=h.parsePath(t)),f(s({state:e},t,{query:n}))}var O=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],E=e(O),x=O.stringifyQuery,P=O.parseQueryString;return"function"!=typeof x&&(x=i),"function"!=typeof P&&(P=b),s({},E,{listenBefore:o,listen:u,push:c,replace:f,createPath:d,createHref:y,createLocation:g,pushState:v.default(w,"pushState is deprecated; use push instead"),replaceState:v.default(_,"replaceState is deprecated; use replace instead")})}}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(5),l=o(c),f=n(72),d=n(31),p=o(d),h=n(11),y=n(30),v=o(y),m="$searchBase",b=f.parse;t.default=u,e.exports=t.default}).call(t,n(1))},function(e,t,n){!function(t,r){e.exports=r(n(2),n(35))}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.connect=t.connectAdvanced=t.Provider=void 0;var o=n(9),i=r(o),a=n(3),u=r(a),s=n(10),c=r(s);t.Provider=i.default,t.connectAdvanced=u.default,t.connect=c.default},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw Error(e)}catch(e){}}t.__esModule=!0,t.default=n},function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){var n={};for(var r in e)t.indexOf(r)<0&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function s(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=r.getDisplayName,l=void 0===s?function(e){return"ConnectAdvanced("+e+")"}:s,d=r.methodName,y=void 0===d?"connectAdvanced":d,m=r.renderCountProp,w=void 0===m?void 0:m,_=r.shouldHandleStateChanges,O=void 0===_||_,E=r.storeKey,x=void 0===E?"store":E,P=r.withRef,j=void 0!==P&&P,R=u(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),N=x+"Subscription",T=g++,S=(t={},t[x]=b.default,t[N]=h.PropTypes.instanceOf(v.default),t),M=(n={},n[N]=h.PropTypes.instanceOf(v.default),n);return function(t){(0,p.default)("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+t);var n=t.displayName||t.name||"Component",r=l(n),u=c({},R,{getDisplayName:l,methodName:y,renderCountProp:w,shouldHandleStateChanges:O,storeKey:x,withRef:j,displayName:r,wrappedComponentName:n,WrappedComponent:t}),s=function(n){function s(e,t){o(this,s);var a=i(this,n.call(this,e,t));return a.version=T,a.state={},a.renderCount=0,a.store=a.props[x]||a.context[x],a.parentSub=e[N]||t[N],a.setWrappedInstance=a.setWrappedInstance.bind(a),(0,p.default)(a.store,'Could not find "'+x+'" in either the context or '+('props of "'+r+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "'+x+'" as a prop to "'+r+'".')),a.getState=a.store.getState.bind(a.store),a.initSelector(),a.initSubscription(),a}return a(s,n),s.prototype.getChildContext=function(){var e;return e={},e[N]=this.subscription||this.parentSub,e},s.prototype.componentDidMount=function(){O&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},s.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},s.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},s.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.store=null,this.parentSub=null,this.selector.run=function(){}},s.prototype.getWrappedInstance=function(){return(0,p.default)(j,"To access the wrapped instance, you need to specify "+("{ withRef: true } in the options argument of the "+y+"() call.")),this.wrappedInstance},s.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},s.prototype.initSelector=function(){var t=this.store.dispatch,n=this.getState,r=e(t,u),o=this.selector={shouldComponentUpdate:!0,props:r(n(),this.props),run:function(e){try{var t=r(n(),e);(o.error||t!==o.props)&&(o.shouldComponentUpdate=!0,o.props=t,o.error=null)}catch(e){o.shouldComponentUpdate=!0,o.error=e}}}},s.prototype.initSubscription=function(){var e=this;O&&!function(){var t=e.subscription=new v.default(e.store,e.parentSub),n={};t.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=function(){this.componentDidUpdate=void 0,t.notifyNestedSubs()},this.setState(n)):t.notifyNestedSubs()}.bind(e)}()},s.prototype.isSubscribed=function(){return!!this.subscription&&this.subscription.isSubscribed()},s.prototype.addExtraProps=function(e){if(!j&&!w)return e;var t=c({},e);return j&&(t.ref=this.setWrappedInstance),w&&(t[w]=this.renderCount++),t},s.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return(0,h.createElement)(t,this.addExtraProps(e.props))},s}(h.Component);return s.WrappedComponent=t,s.displayName=r,s.childContextTypes=M,s.contextTypes=S,s.propTypes=S,(0,f.default)(s,t)}}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=s;var l=n(17),f=r(l),d=n(18),p=r(d),h=n(2),y=n(5),v=r(y),m=n(6),b=r(m),g=0},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(t,n){function r(){return o}var o=e(t,n);return r.dependsOnOwnProps=!1,r}}function i(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?!!e.dependsOnOwnProps:1!==e.length}function a(e,t){return function(t,n){var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=i(e),r.mapToProps=function(t,n){r.mapToProps=e;var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=i(o),o=r(t,n)),o},r}}t.__esModule=!0,t.wrapMapToPropsConstant=o,t.getDependsOnOwnProps=i,t.wrapMapToPropsFunc=a;var u=n(7);r(u)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){var e=[],t=[];return{clear:function(){t=o,e=o},notify:function(){for(var n=e=t,r=0;n.length>r;r++)n[r]()},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==o&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}t.__esModule=!0;var o=null,i={notify:function(){}},a=function(){function e(t,r){n(this,e),this.store=t,this.parentSub=r,this.unsubscribe=null,this.listeners=i}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return!!this.unsubscribe},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=r())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=i)},e}();t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var r=n(2);t.default=r.PropTypes.shape({subscribe:r.PropTypes.func.isRequired,dispatch:r.PropTypes.func.isRequired,getState:r.PropTypes.func.isRequired})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){(0,a.default)(e)||(0,s.default)(n+"() in "+t+" must return a plain object. Instead received "+e+".")}t.__esModule=!0,t.default=o;var i=n(27),a=r(i),u=n(1),s=r(u)},function(e,t,n){var r=n(25),o=r.Symbol;e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.default=void 0;var u=n(2),s=n(5),c=r(s),l=n(6),f=r(l),d=n(1),p=(r(d),function(e){function t(n,r){o(this,t);var a=i(this,e.call(this,n,r));return a.store=n.store,a}return a(t,e),t.prototype.getChildContext=function(){return{store:this.store,storeSubscription:null}},t.prototype.render=function(){return u.Children.only(this.props.children)},t}(u.Component));t.default=p,p.propTypes={store:f.default.isRequired,children:u.PropTypes.element.isRequired},p.childContextTypes={store:f.default.isRequired,storeSubscription:u.PropTypes.instanceOf(c.default)},p.displayName="Provider"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)<0&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function a(e,t){return e===t}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?l.default:t,r=e.mapStateToPropsFactories,u=void 0===r?v.default:r,c=e.mapDispatchToPropsFactories,f=void 0===c?h.default:c,p=e.mergePropsFactories,y=void 0===p?b.default:p,m=e.selectorFactory,g=void 0===m?w.default:m;return function(e,t,r){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=c.pure,p=void 0===l||l,h=c.areStatesEqual,v=void 0===h?a:h,m=c.areOwnPropsEqual,b=void 0===m?d.default:m,w=c.areStatePropsEqual,_=void 0===w?d.default:w,O=c.areMergedPropsEqual,E=void 0===O?d.default:O,x=o(c,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),P=i(e,u,"mapStateToProps"),j=i(t,f,"mapDispatchToProps"),R=i(r,y,"mergeProps");return n(g,s({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:!!e,initMapStateToProps:P,initMapDispatchToProps:j,initMergeProps:R,pure:p,areStatesEqual:v,areOwnPropsEqual:b,areStatePropsEqual:_,areMergedPropsEqual:E},x))}}t.__esModule=!0;var s=Object.assign||function(e){
for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createConnect=u;var c=n(3),l=r(c),f=n(16),d=r(f),p=n(11),h=r(p),y=n(12),v=r(y),m=n(13),b=r(m),g=n(14),w=r(g);t.default=u()},function(e,t,n){"use strict";function r(e){return"function"==typeof e?(0,u.wrapMapToPropsFunc)(e,"mapDispatchToProps"):void 0}function o(e){return e?void 0:(0,u.wrapMapToPropsConstant)(function(e){return{dispatch:e}})}function i(e){return e&&"object"==typeof e?(0,u.wrapMapToPropsConstant)(function(t){return(0,a.bindActionCreators)(e,t)}):void 0}t.__esModule=!0,t.whenMapDispatchToPropsIsFunction=r,t.whenMapDispatchToPropsIsMissing=o,t.whenMapDispatchToPropsIsObject=i;var a=n(28),u=n(4);t.default=[r,o,i]},function(e,t,n){"use strict";function r(e){return"function"==typeof e?(0,i.wrapMapToPropsFunc)(e,"mapStateToProps"):void 0}function o(e){return e?void 0:(0,i.wrapMapToPropsConstant)(function(){return{}})}t.__esModule=!0,t.whenMapStateToPropsIsFunction=r,t.whenMapStateToPropsIsMissing=o;var i=n(4);t.default=[r,o]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return s({},n,e,t)}function i(e){return function(t,n){var r=n.pure,o=n.areMergedPropsEqual,i=!1,a=void 0;return function(t,n,u){var s=e(t,n,u);return i?r&&o(s,a)||(a=s):(i=!0,a=s),a}}}function a(e){return"function"==typeof e?i(e):void 0}function u(e){return e?void 0:function(){return o}}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.defaultMergeProps=o,t.wrapMergePropsFunc=i,t.whenMergePropsIsFunction=a,t.whenMergePropsIsOmitted=u;var c=n(7);r(c),t.default=[a,u]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)<0&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function a(e,t,n,r,o){function i(o,i){return h=o,y=i,v=e(h,y),m=t(r,y),b=n(v,m,y),p=!0,b}function a(){return v=e(h,y),t.dependsOnOwnProps&&(m=t(r,y)),b=n(v,m,y)}function u(){return e.dependsOnOwnProps&&(v=e(h,y)),t.dependsOnOwnProps&&(m=t(r,y)),b=n(v,m,y)}function s(){var t=e(h,y),r=!d(t,v);return v=t,r&&(b=n(v,m,y)),b}function c(e,t){var n=!f(t,y),r=!l(e,h);return h=e,y=t,n&&r?a():n?u():r?s():b}var l=o.areStatesEqual,f=o.areOwnPropsEqual,d=o.areStatePropsEqual,p=!1,h=void 0,y=void 0,v=void 0,m=void 0,b=void 0;return function(e,t){return p?c(e,t):i(e,t)}}function u(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,u=t.initMergeProps,s=o(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),c=n(e,s),l=r(e,s),f=u(e,s),d=s.pure?a:i;return d(c,l,f,e,s)}t.__esModule=!0,t.impureFinalPropsSelectorFactory=i,t.pureFinalPropsSelectorFactory=a,t.default=u;var s=n(15);r(s)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){if(!e)throw Error("Unexpected value for "+t+" in "+n+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||e.hasOwnProperty("dependsOnOwnProps")||(0,u.default)("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}function i(e,t,n,r){o(e,"mapStateToProps",r),o(t,"mapDispatchToProps",r),o(n,"mergeProps",r)}t.__esModule=!0,t.default=i;var a=n(1),u=r(a)},function(e,t){"use strict";function n(e,t){if(e===t)return!0;var n=0,o=0;for(var i in e){if(r.call(e,i)&&e[i]!==t[i])return!1;n++}for(var a in t)r.call(t,a)&&o++;return n===o}t.__esModule=!0,t.default=n;var r=Object.prototype.hasOwnProperty},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,i){if("string"!=typeof t){var a=Object.getOwnPropertyNames(t);o&&(a=a.concat(Object.getOwnPropertySymbols(t)));for(var u=0;a.length>u;++u)if(!(n[a[u]]||r[a[u]]||i&&i[a[u]]))try{e[a[u]]=t[a[u]]}catch(e){}}return e}},function(e,t,n){"use strict";var r=function(e,t,n,r,o,i,a,u){if(!e){var s;if(void 0===t)s=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,u],l=0;s=Error(t.replace(/%s/g,function(){return c[l++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}};e.exports=r},function(e,t,n){function r(e){return null==e?void 0===e?s:u:c&&c in Object(e)?i(e):a(e)}var o=n(8),i=n(22),a=n(23),u="[object Null]",s="[object Undefined]",c=o?o.toStringTag:void 0;e.exports=r},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}()||Function("return this")())},function(e,t,n){var r=n(24),o=r(Object.getPrototypeOf,Object);e.exports=o},function(e,t,n){function r(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=u.call(e);return r&&(t?e[s]=n:delete e[s]),o}var o=n(8),i=Object.prototype,a=i.hasOwnProperty,u=i.toString,s=o?o.toStringTag:void 0;e.exports=r},function(e,t){function n(e){return o.call(e)}var r=Object.prototype,o=r.toString;e.exports=n},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){var r=n(20),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){function r(e){if(!a(e)||o(e)!=u)return!1;var t=i(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}var o=n(19),i=n(21),a=n(26),u="[object Object]",s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,d=l.call(Object);e.exports=r},function(e,n){e.exports=t}])})},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(4),s=o(u),c=n(2),l=o(c),f=n(19),d=o(f),p=n(87),h=o(p),y=n(8),v=n(3),m=o(v),b=l.default.PropTypes,g=b.array,w=b.func,_=b.object,O=l.default.createClass({displayName:"RouterContext",propTypes:{history:_,router:_.isRequired,location:_.isRequired,routes:g.isRequired,params:_.isRequired,components:g.isRequired,createElement:w.isRequired},getDefaultProps:function(){return{createElement:l.default.createElement}},childContextTypes:{history:_,location:_.isRequired,router:_.isRequired},getChildContext:function(){var e=this.props,t=e.router,n=e.history,o=e.location;return t||("production"!==r.env.NODE_ENV?(0,m.default)(!1,"`<RouterContext>` expects a `router` rather than a `history`"):void 0,t=a({},n,{setRouteLeaveHook:n.listenBeforeLeavingRoute}),delete t.listenBeforeLeavingRoute),"production"!==r.env.NODE_ENV&&(o=(0,d.default)(o,"`context.location` is deprecated, please use a route component's `props.location` instead. http://tiny.cc/router-accessinglocation")),{history:n,location:o,router:t}},createElement:function(e,t){return null==e?null:this.props.createElement(e,t)},render:function(){var e=this,t=this.props,n=t.history,o=t.location,u=t.routes,c=t.params,f=t.components,d=null;return f&&(d=f.reduceRight(function(t,r,s){if(null==r)return t;var l=u[s],f=(0,h.default)(l,c),d={history:n,location:o,params:c,route:l,routeParams:f,routes:u};if((0,y.isReactChildren)(t))d.children=t;else if(t)for(var p in t)Object.prototype.hasOwnProperty.call(t,p)&&(d[p]=t[p]);if("object"===("undefined"==typeof r?"undefined":i(r))){var v={};for(var m in r)Object.prototype.hasOwnProperty.call(r,m)&&(v[m]=e.createElement(r[m],a({key:m},d)));return v}return e.createElement(r,d)},d)),null===d||d===!1||l.default.isValidElement(d)?void 0:"production"!==r.env.NODE_ENV?(0,s.default)(!1,"The root route must render a single element"):(0,s.default)(!1),d}});t.default=O,e.exports=t.default}).call(t,n(1))},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.canUseMembrane=void 0;var o=n(3),i=r(o),a=t.canUseMembrane=!1,u=function(e){return e};if("production"!==e.env.NODE_ENV){try{Object.defineProperty({},"x",{get:function(){return!0}}).x&&(t.canUseMembrane=a=!0)}catch(e){}a&&(u=function(t,n){var r={},o=function(o){return Object.prototype.hasOwnProperty.call(t,o)?"function"==typeof t[o]?(r[o]=function(){return"production"!==e.env.NODE_ENV?(0,i.default)(!1,n):void 0,t[o].apply(t,arguments)},"continue"):void Object.defineProperty(r,o,{get:function(){return"production"!==e.env.NODE_ENV?(0,i.default)(!1,n):void 0,t[o]}}):"continue"};for(var a in t){o(a)}return r})}t.default=u}).call(t,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(35),o=n(60),i=(0,r.combineReducers)({login:o.login});t.default=i},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,".figure{border-radius:10px;-moz-border-radius:10px;-webkit-border-radius:10px;height:350px;line-height:300px;width:46%;border:1px solid;text-align:center;padding:1.9%;margin:35px 16% 0 10%;float:left;font-family:Microsoft YaHei;font-size:40px}",""])},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,".channel{border-radius:10px;-moz-border-radius:10px;-webkit-border-radius:10px;height:350px;width:12%;border:1px solid;text-align:center;padding:1.9%;margin:35px 0 0 16%;float:left;white-space:nowrap}.channel div{font-family:Microsoft YaHei;font-size:18px;margin:15px 0}",""])},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,".showList{margin:35px 16% 0;height:300px;font-size:18px;font-family:Microsoft YaHei}.showList .hotClass,.showList .newClass,.showList .newTrends{float:left;width:32%;height:300px}.showList .hotClass .blank,.showList .newClass .blank,.showList .newTrends .blank{height:2px;width:100%;background:blue;margin:5px 0}.showList .hotClass ul,.showList .newClass ul,.showList .newTrends ul{height:65%;margin:5% 0}.showList .hotClass ul li,.showList .newClass ul li,.showList .newTrends ul li{height:18px;line-height:18px;margin:5.5% 0;white-space:nowrap}.showList .hotClass ul li .content,.showList .newClass ul li .content,.showList .newTrends ul li .content{width:70%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;float:left}.showList .hotClass ul li .time,.showList .newClass ul li .time,.showList .newTrends ul li .time{width:30%;float:right}",""])},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,".title{background:blue;font-family:STKaiti;text-align:center}.title div{font-size:30px;padding:0 85px;line-height:60px;color:#fff;display:inline}",""])},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,"",""])},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,".container{padding:0 1%}.container .sign{top:20px;right:30px;position:absolute}.container .sign .ant-input-search-wrapper{margin-right:20px;width:170px}.container .sign .ant-btn-group{vertical-align:top}.container .company{margin:30px 0 15px 250px;height:80px;line-height:80px;font-size:25px}.container .company .img{border-radius:100%;border:1px solid;height:80px;width:80px;float:left;background-image:url("+n(108)+");background-repeat:no-repeat;background-size:cover}.container .company .name{float:left;padding-left:20px}",""])},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,".loginContainer{position:absolute;text-align:center;top:20%;margin:0 auto;width:450px;margin-left:-webkit-calc(50% - 225px);margin-left:-moz-calc(50% - 225px);margin-left:calc(50% - 225px)}.loginContainer .logo{margin-top:20px;font-size:50px}.loginContainer h2{margin-top:20px}.loginContainer .loginForm{margin-top:20px;background:#fff;padding-top:34px;border:1px solid #dfdbdb;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}.loginContainer .loginForm a{font-size:15px;float:right}.loginContainer .ant-col-offset-6{margin-left:20%}.loginContainer .ant-col-offset-6 .ant-btn-primary{width:150px}body{background:#f4f4f4!important}",""])},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,"body{font-family:Microsoft YaHei,STKaiti}body .channel-img{height:400px}body .footer{height:60px;line-height:60px;font-size:20px;margin:10px 16%}body .footer .friendUrl{width:60%;margin-right:10%;float:left;white-space:nowrap}body .footer .phone{width:30%;float:left;text-align:center}",""])},function(e,t){"use strict";function n(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function r(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)}function o(){return window.location.href.split("#")[1]||""}function i(e){window.location.replace(window.location.pathname+window.location.search+"#"+e)}function a(){return window.location.pathname+window.location.search+window.location.hash}function u(e){e&&window.history.go(e)}function s(e,t){t(window.confirm(e))}function c(){var e=navigator.userAgent;return(e.indexOf("Android 2.")===-1&&e.indexOf("Android 4.0")===-1||e.indexOf("Mobile Safari")===-1||e.indexOf("Chrome")!==-1||e.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)}function l(){var e=navigator.userAgent;return e.indexOf("Firefox")===-1}t.__esModule=!0,t.addEventListener=n,t.removeEventListener=r,t.getHashPath=o,t.replaceHashPath=i,t.getWindowPath=a,t.go=u,t.getUserConfirmation=s,t.supportsHistory=c,t.supportsGoWithoutReloadUsingHash=l},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return function(){return"production"!==r.env.NODE_ENV?u.default(!1,"[history] "+t):void 0,e.apply(this,arguments)}}t.__esModule=!0;var a=n(5),u=o(a);t.default=i,e.exports=t.default}).call(t,n(1))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var o=e(t,n);e.length<2?n(o):"production"!==r.env.NODE_ENV?u.default(void 0===o,'You should not "return" in a transition hook with a callback argument; call the callback instead'):void 0}t.__esModule=!0;var a=n(5),u=o(a);t.default=i,e.exports=t.default}).call(t,n(1))},function(e,t){"use strict";function n(e,t,n){function r(){return a=!0,u?void(c=[].concat(Array.prototype.slice.call(arguments))):void n.apply(this,arguments)}function o(){if(!a&&(s=!0,!u)){for(u=!0;!a&&i<e&&s;)s=!1,t.call(this,i++,o,r);return u=!1,a?void n.apply(this,c):void(i>=e&&s&&(a=!0,n()))}}var i=0,a=!1,u=!1,s=!1,c=void 0;o()}function r(e,t,n){function r(e,t,r){a||(t?(a=!0,n(t)):(i[e]=r,a=++u===o,a&&n(null,i)))}var o=e.length,i=[];if(0===o)return n(null,i);var a=!1,u=0;e.forEach(function(e,n){t(e,n,function(e,t){r(n,e,t)})})}t.__esModule=!0,t.loopAsync=n,t.mapAsync=r},function(e,t,n){(function(e){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.router=t.routes=t.route=t.components=t.component=t.location=t.history=t.falsy=t.locationShape=t.routerShape=void 0;var i=n(2),a=n(19),u=o(a),s=n(12),c=r(s),l=n(3),f=o(l),d=i.PropTypes.func,p=i.PropTypes.object,h=i.PropTypes.shape,y=i.PropTypes.string,v=t.routerShape=h({push:d.isRequired,replace:d.isRequired,go:d.isRequired,goBack:d.isRequired,goForward:d.isRequired,setRouteLeaveHook:d.isRequired,isActive:d.isRequired}),m=t.locationShape=h({pathname:y.isRequired,search:y.isRequired,state:p,action:y.isRequired,key:y}),b=t.falsy=c.falsy,g=t.history=c.history,w=t.location=m,_=t.component=c.component,O=t.components=c.components,E=t.route=c.route,x=t.routes=c.routes,P=t.router=v;"production"!==e.env.NODE_ENV&&!function(){var n=function(t,n){return function(){return"production"!==e.env.NODE_ENV?(0,f.default)(!1,n):void 0,t.apply(void 0,arguments)}},r=function(e){return n(e,"This prop type is not intended for external use, and was previously exported by mistake. These internal prop types are deprecated for external use, and will be removed in a later version.")},o=function(e,t){return n(e,"The `"+t+"` prop type is now exported as `"+t+"Shape` to avoid name conflicts. This export is deprecated and will be removed in a later version.")};t.falsy=b=r(b),t.history=g=r(g),t.component=_=r(_),t.components=O=r(O),t.route=E=r(E),t.routes=x=r(x),t.location=w=o(w,"location"),t.router=P=o(P,"router")}();var j={falsy:b,history:g,location:w,component:_,components:O,route:E,router:P};"production"!==e.env.NODE_ENV&&(j=(0,u.default)(j,"The default export from `react-router/lib/PropTypes` is deprecated. Please use the named exports instead.")),t.default=j}).call(t,n(1))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function a(e,t){function n(t){var n=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],o=arguments.length<=2||void 0===arguments[2]?null:arguments[2],i=void 0;return n&&n!==!0||null!==o?("production"!==r.env.NODE_ENV?(0,c.default)(!1,"`isActive(pathname, query, indexOnly) is deprecated; use `isActive(location, indexOnly)` with a location descriptor instead. http://tiny.cc/router-isActivedeprecated"):void 0,t={pathname:t,query:n},i=o||!1):(t=e.createLocation(t),i=n),(0,h.default)(t,i,_.location,_.routes,_.params)}function o(e,n){O&&O.location===e?a(O,n):(0,b.default)(t,e,function(t,r){t?n(t):r?a(u({},r,{location:e}),n):n()})}function a(e,t){function n(n,o){return n||o?r(n,o):void(0,v.default)(e,function(n,r){n?t(n):t(null,null,_=u({},e,{components:r}))})}function r(e,n){e?t(e):t(null,n)}var o=(0,f.default)(_,e),i=o.leaveRoutes,a=o.changeRoutes,s=o.enterRoutes;(0,d.runLeaveHooks)(i,_),i.filter(function(e){return s.indexOf(e)===-1}).forEach(m),(0,d.runChangeHooks)(a,_,e,function(t,o){return t||o?r(t,o):void(0,d.runEnterHooks)(s,e,n)})}function s(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1];return e.__id__||t&&(e.__id__=E++)}function l(e){return e.reduce(function(e,t){return e.push.apply(e,x[s(t)]),e},[])}function p(e,n){(0,b.default)(t,e,function(t,r){if(null==r)return void n();O=u({},r,{location:e});for(var o=l((0,f.default)(_,O).leaveRoutes),i=void 0,a=0,s=o.length;null==i&&a<s;++a)i=o[a](e);n(i)})}function y(){if(_.routes){for(var e=l(_.routes),t=void 0,n=0,r=e.length;"string"!=typeof t&&n<r;++n)t=e[n]();return t}}function m(e){var t=s(e,!1);t&&(delete x[t],i(x)||(P&&(P(),P=null),j&&(j(),j=null)))}function g(t,n){var o=s(t),a=x[o];if(a)a.indexOf(n)===-1&&("production"!==r.env.NODE_ENV?(0,c.default)(!1,"adding multiple leave hooks for the same route is deprecated; manage multiple confirmations in your own code instead"):void 0,a.push(n));else{var u=!i(x);x[o]=[n],u&&(P=e.listenBefore(p),e.listenBeforeUnload&&(j=e.listenBeforeUnload(y)))}return function(){var e=x[o];if(e){var r=e.filter(function(e){return e!==n});0===r.length?m(t):x[o]=r}}}function w(t){return e.listen(function(n){_.location===n?t(null,_):o(n,function(o,i,a){o?t(o):i?e.replace(i):a?t(null,a):"production"!==r.env.NODE_ENV?(0,c.default)(!1,'Location "%s" did not match any routes',n.pathname+n.search+n.hash):void 0})})}var _={},O=void 0,E=1,x=Object.create(null),P=void 0,j=void 0;return{isActive:n,match:o,listenBeforeLeavingRoute:g,listen:w}}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=a;var s=n(3),c=o(s),l=n(85),f=o(l),d=n(82),p=n(89),h=o(p),y=n(86),v=o(y),m=n(91),b=o(m);e.exports=t.default}).call(t,n(1))},function(e,t,n){!function(t,n){e.exports=n()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var o=n(2),i=r(o),a=n(7),u=r(a),s=n(6),c=r(s),l=n(5),f=r(l),d=n(1),p=r(d),h=n(3);r(h),t.createStore=i.default,t.combineReducers=u.default,t.bindActionCreators=c.default,t.applyMiddleware=f.default,t.compose=p.default},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var r=t[t.length-1],o=t.slice(0,-1);return function(){return o.reduceRight(function(e,t){return t(e)},r.apply(void 0,arguments))}}t.__esModule=!0,t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){function r(){m===v&&(m=v.slice())}function i(){return y}function u(e){if("function"!=typeof e)throw Error("Expected listener to be a function.");var t=!0;return r(),m.push(e),function(){if(t){t=!1,r();var n=m.indexOf(e);m.splice(n,1)}}}function l(e){if(!(0,a.default)(e))throw Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(b)throw Error("Reducers may not dispatch actions.");try{b=!0,y=h(y,e)}finally{b=!1}for(var t=v=m,n=0;t.length>n;n++)t[n]();return e}function f(e){if("function"!=typeof e)throw Error("Expected the nextReducer to be a function.");h=e,l({type:c.INIT})}function d(){var e,t=u;return e={subscribe:function(e){function n(){e.next&&e.next(i())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[s.default]=function(){return this},e}var p;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw Error("Expected the enhancer to be a function.");return n(o)(e,t)}if("function"!=typeof e)throw Error("Expected the reducer to be a function.");var h=e,y=t,v=[],m=v,b=!1;return l({type:c.INIT}),p={dispatch:l,subscribe:u,getState:i,replaceReducer:f},p[s.default]=d,p}t.__esModule=!0,t.ActionTypes=void 0,t.default=o;var i=n(4),a=r(i),u=n(12),s=r(u),c=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw Error(e)}catch(e){}}t.__esModule=!0,t.default=n},function(e,t,n){function r(e){if(!a(e)||p.call(e)!=u||i(e))return!1;var t=o(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}var o=n(8),i=n(9),a=n(11),u="[object Object]",s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,d=l.call(Object),p=c.toString;e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){return function(n,r,o){var a=e(n,r,o),s=a.dispatch,c=[],l={getState:a.getState,dispatch:function(e){return s(e)}};return c=t.map(function(e){return e(l)}),s=u.default.apply(void 0,c)(a.dispatch),i({},a,{dispatch:s})}}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var a=n(1),u=r(a)},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function r(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),o={},i=0;r.length>i;i++){var a=r[i],u=e[a];"function"==typeof u&&(o[a]=n(u,t))}return o}t.__esModule=!0,t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t&&t.type,r=n&&'"'+n+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function i(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:u.ActionTypes.INIT});if(void 0===r)throw Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if(void 0===n(void 0,{type:o}))throw Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+u.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function a(e){for(var t=Object.keys(e),n={},r=0;t.length>r;r++){var a=t[r];"function"==typeof e[a]&&(n[a]=e[a])}var u,s=Object.keys(n);try{i(n)}catch(e){u=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(u)throw u;for(var r=!1,i={},a=0;s.length>a;a++){var c=s[a],l=n[c],f=e[c],d=l(f,t);if(void 0===d){var p=o(c,t);throw Error(p)}i[c]=d,r=r||d!==f}return r?i:e}}t.__esModule=!0,t.default=a;var u=n(2),s=n(4),c=(r(s),n(3));r(c)},function(e,t,n){var r=n(10),o=r(Object.getPrototypeOf,Object);e.exports=o},function(e,t){function n(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}e.exports=n},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t){function n(e){return!!e&&"object"==typeof e}e.exports=n},function(e,t,n){e.exports=n(13)},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=r(o),a=void 0;void 0!==e?a=e:"undefined"!=typeof window&&(a=window);var u=(0,i.default)(a);t.default=u}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n}])})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.REQUEST_LOGIN="REQUEST_LOGIN",t.RECEIVE_LOGIN="RECEIVE_LOGIN"},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return c+e}function i(t,n){try{null==n?window.sessionStorage.removeItem(o(t)):window.sessionStorage.setItem(o(t),JSON.stringify(n))}catch(t){if(t.name===f)return void("production"!==e.env.NODE_ENV?s.default(!1,"[history] Unable to save state; sessionStorage is not available due to security settings"):void 0);if(l.indexOf(t.name)>=0&&0===window.sessionStorage.length)return void("production"!==e.env.NODE_ENV?s.default(!1,"[history] Unable to save state; sessionStorage is not available in Safari private mode"):void 0);throw t}}function a(t){var n=void 0;try{n=window.sessionStorage.getItem(o(t))}catch(t){if(t.name===f)return"production"!==e.env.NODE_ENV?s.default(!1,"[history] Unable to read state; sessionStorage is not available due to security settings"):void 0,null}if(n)try{return JSON.parse(n)}catch(e){}return null}t.__esModule=!0,t.saveState=i,t.readState=a;var u=n(5),s=r(u),c="@@History/",l=["QuotaExceededError","QUOTA_EXCEEDED_ERR"],f="SecurityError"}).call(t,n(1))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){return c.canUseDOM?void 0:"production"!==r.env.NODE_ENV?s.default(!1,"DOM history needs a DOM"):s.default(!1),n.listen(e)}var n=d.default(a({getUserConfirmation:l.getUserConfirmation},e,{go:l.go}));return a({},n,{listen:t})}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(4),s=o(u),c=n(15),l=n(29),f=n(40),d=o(f);t.default=i,e.exports=t.default}).call(t,n(1))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return"string"==typeof e&&"/"===e.charAt(0)}function a(){var e=g.getHashPath();return!!i(e)||(g.replaceHashPath("/"+e),!1)}function u(e,t,n){return e+(e.indexOf("?")===-1?"?":"&")+(t+"="+n)}function s(e,t){return e.replace(new RegExp("[?&]?"+t+"=[a-zA-Z0-9]+"),"")}function c(e,t){var n=e.match(new RegExp("\\?.*?\\b"+t+"=(.+?)\\b"));return n&&n[1]}function l(){function e(){var e=g.getHashPath(),t=void 0,n=void 0;T?(t=c(e,T),e=s(e,T),t?n=w.readState(t):(n=null,t=S.createKey(),g.replaceHashPath(u(e,T,t)))):t=n=null;var r=m.parsePath(e);return S.createLocation(f({},r,{state:n}),void 0,t)}function t(t){function n(){a()&&r(e())}var r=t.transitionTo;return a(),g.addEventListener(window,"hashchange",n),function(){g.removeEventListener(window,"hashchange",n)}}function n(e){var t=e.basename,n=e.pathname,o=e.search,i=e.state,a=e.action,s=e.key;if(a!==v.POP){var c=(t||"")+n+o;T?(c=u(c,T,s),w.saveState(s,i)):e.key=e.state=null;var l=g.getHashPath();a===v.PUSH?l!==c?window.location.hash=c:"production"!==r.env.NODE_ENV?p.default(!1,"You cannot PUSH the same path using hash history"):void 0:l!==c&&g.replaceHashPath(c)}}function o(e){1===++M&&(C=t(S));var n=S.listenBefore(e);return function(){n(),0===--M&&C()}}function i(e){1===++M&&(C=t(S));var n=S.listen(e);return function(){n(),0===--M&&C()}}function l(e){"production"!==r.env.NODE_ENV?p.default(T||null==e.state,"You cannot use state without a queryKey it will be dropped"):void 0,S.push(e)}function d(e){"production"!==r.env.NODE_ENV?p.default(T||null==e.state,"You cannot use state without a queryKey it will be dropped"):void 0,S.replace(e)}function h(e){"production"!==r.env.NODE_ENV?p.default(k,"Hash history go(n) causes a full page reload in this browser"):void 0,S.go(e)}function _(e){return"#"+S.createHref(e)}function x(e){1===++M&&(C=t(S)),S.registerTransitionHook(e)}function P(e){S.unregisterTransitionHook(e),0===--M&&C()}function j(e,t){"production"!==r.env.NODE_ENV?p.default(T||null==e,"You cannot use state without a queryKey it will be dropped"):void 0,S.pushState(e,t)}function R(e,t){"production"!==r.env.NODE_ENV?p.default(T||null==e,"You cannot use state without a queryKey it will be dropped"):void 0,S.replaceState(e,t)}var N=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];b.canUseDOM?void 0:"production"!==r.env.NODE_ENV?y.default(!1,"Hash history needs a DOM"):y.default(!1);var T=N.queryKey;(void 0===T||T)&&(T="string"==typeof T?T:E);var S=O.default(f({},N,{getCurrentLocation:e,finishTransition:n,saveState:w.saveState})),M=0,C=void 0,k=g.supportsGoWithoutReloadUsingHash();return f({},S,{listenBefore:o,listen:i,push:l,replace:d,go:h,createHref:_,registerTransitionHook:x,unregisterTransitionHook:P,pushState:j,replaceState:R})}t.__esModule=!0;var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=n(5),p=o(d),h=n(4),y=o(h),v=n(13),m=n(11),b=n(15),g=n(29),w=n(37),_=n(38),O=o(_),E="_k";t.default=l,e.exports=t.default}).call(t,n(1))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return Math.random().toString(36).substr(2,e)}function a(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.key===t.key&&d.default(e.state,t.state)}function u(){function e(e){return U.push(e),
function(){U=U.filter(function(t){return t!==e})}}function t(){return W&&W.action===y.POP?B.indexOf(W.key):F?B.indexOf(F.key):-1}function n(e){var n=t();F=e,F.action===y.PUSH?B=[].concat(B.slice(0,n+1),[F.key]):F.action===y.REPLACE&&(B[n]=F.key),V.forEach(function(e){e(F)})}function o(e){if(V.push(e),F)e(F);else{var t=A();B=[t.key],n(t)}return function(){V=V.filter(function(t){return t!==e})}}function u(e,t){h.loopAsync(U.length,function(t,n,r){g.default(U[t],e,function(e){null!=e?r(e):n()})},function(e){I&&"string"==typeof e?I(e,function(e){t(e!==!1)}):t(e!==!1)})}function c(e){F&&a(F,e)||(W=e,u(e,function(t){if(W===e)if(t){if(e.action===y.PUSH){var r=x(F),o=x(e);o===r&&d.default(F.state,e.state)&&(e.action=y.REPLACE)}D(e)!==!1&&n(e)}else if(F&&e.action===y.POP){var i=B.indexOf(F.key),a=B.indexOf(e.key);i!==-1&&a!==-1&&H(i-a)}}))}function f(e){c(j(e,y.PUSH,E()))}function v(e){c(j(e,y.REPLACE,E()))}function b(){H(-1)}function w(){H(1)}function E(){return i(q)}function x(e){if(null==e||"string"==typeof e)return e;var t=e.pathname,n=e.search,r=e.hash,o=t;return n&&(o+=n),r&&(o+=r),o}function P(e){return x(e)}function j(e,t){var n=arguments.length<=2||void 0===arguments[2]?E():arguments[2];return"object"==typeof t&&("production"!==r.env.NODE_ENV?l.default(!1,"The state (2nd) argument to history.createLocation is deprecated; use a location descriptor instead"):void 0,"string"==typeof e&&(e=p.parsePath(e)),e=s({},e,{state:t}),t=n,n=arguments[3]||E()),m.default(e,t,n)}function R(e){F?(N(F,e),n(F)):N(A(),e)}function N(e,t){e.state=s({},e.state,t),L(e.key,e.state)}function T(e){U.indexOf(e)===-1&&U.push(e)}function S(e){U=U.filter(function(t){return t!==e})}function M(e,t){"string"==typeof t&&(t=p.parsePath(t)),f(s({state:e},t))}function C(e,t){"string"==typeof t&&(t=p.parsePath(t)),v(s({state:e},t))}var k=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],A=k.getCurrentLocation,D=k.finishTransition,L=k.saveState,H=k.go,I=k.getUserConfirmation,q=k.keyLength;"number"!=typeof q&&(q=O);var U=[],B=[],V=[],F=void 0,W=void 0;return{listenBefore:e,listen:o,transitionTo:c,push:f,replace:v,go:H,goBack:b,goForward:w,createKey:E,createPath:x,createHref:P,createLocation:j,setState:_.default(R,"setState is deprecated; use location.key to save state instead"),registerTransitionHook:_.default(T,"registerTransitionHook is deprecated; use listenBefore instead"),unregisterTransitionHook:_.default(S,"unregisterTransitionHook is deprecated; use the callback returned from listenBefore instead"),pushState:_.default(M,"pushState is deprecated; use push instead"),replaceState:_.default(C,"replaceState is deprecated; use replace instead")}}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(5),l=o(c),f=n(63),d=o(f),p=n(11),h=n(66),y=n(13),v=n(68),m=o(v),b=n(31),g=o(b),w=n(30),_=o(w),O=6;t.default=u,e.exports=t.default}).call(t,n(1))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(){function t(){if(!E){if(null==O&&c.canUseDOM){var e=document.getElementsByTagName("base")[0],t=e&&e.getAttribute("href");null!=t&&(O=t,"production"!==r.env.NODE_ENV?s.default(!1,"Automatically setting basename using <base href> is deprecated and will be removed in the next major release. The semantics of <base href> are subtly different from basename. Please pass the basename explicitly in the options to createHistory"):void 0)}E=!0}}function n(e){return t(),O&&null==e.basename&&(0===e.pathname.indexOf(O)?(e.pathname=e.pathname.substring(O.length),e.basename=O,""===e.pathname&&(e.pathname="/")):e.basename=""),e}function o(e){if(t(),!O)return e;"string"==typeof e&&(e=l.parsePath(e));var n=e.pathname,r="/"===O.slice(-1)?O:O+"/",o="/"===n.charAt(0)?n.slice(1):n,i=r+o;return a({},e,{pathname:i})}function i(e){return _.listenBefore(function(t,r){d.default(e,n(t),r)})}function u(e){return _.listen(function(t){e(n(t))})}function f(e){_.push(o(e))}function p(e){_.replace(o(e))}function y(e){return _.createPath(o(e))}function v(e){return _.createHref(o(e))}function m(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return n(_.createLocation.apply(_,[o(e)].concat(r)))}function b(e,t){"string"==typeof t&&(t=l.parsePath(t)),f(a({state:e},t))}function g(e,t){"string"==typeof t&&(t=l.parsePath(t)),p(a({state:e},t))}var w=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],_=e(w),O=w.basename,E=!1;return a({},_,{listenBefore:i,listen:u,push:f,replace:p,createPath:y,createHref:v,createLocation:m,pushState:h.default(b,"pushState is deprecated; use push instead"),replaceState:h.default(g,"replaceState is deprecated; use replace instead")})}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(5),s=o(u),c=n(15),l=n(11),f=n(31),d=o(f),p=n(30),h=o(p);t.default=i,e.exports=t.default}).call(t,n(1))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){return 0===e.button}function u(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function s(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function c(e,t){var n=t.query,r=t.hash,o=t.state;return n||r||o?{pathname:e,query:n,hash:r,state:o}:e}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=n(2),d=o(f),p=n(3),h=o(p),y=n(4),v=o(y),m=n(33),b=d.default.PropTypes,g=b.bool,w=b.object,_=b.string,O=b.func,E=b.oneOfType,x=d.default.createClass({displayName:"Link",contextTypes:{router:m.routerShape},propTypes:{to:E([_,w]),query:w,hash:_,state:w,activeStyle:w,activeClassName:_,onlyActiveOnIndex:g.isRequired,onClick:O,target:_},getDefaultProps:function(){return{onlyActiveOnIndex:!1,style:{}}},handleClick:function(e){if(this.props.onClick&&this.props.onClick(e),!e.defaultPrevented&&(this.context.router?void 0:"production"!==r.env.NODE_ENV?(0,v.default)(!1,"<Link>s rendered outside of a router context cannot navigate."):(0,v.default)(!1),!u(e)&&a(e)&&!this.props.target)){e.preventDefault();var t=this.props,n=t.to,o=t.query,i=t.hash,s=t.state,l=c(n,{query:o,hash:i,state:s});this.context.router.push(l)}},render:function(){var e=this.props,t=e.to,n=e.query,o=e.hash,a=e.state,u=e.activeClassName,f=e.activeStyle,p=e.onlyActiveOnIndex,y=i(e,["to","query","hash","state","activeClassName","activeStyle","onlyActiveOnIndex"]);"production"!==r.env.NODE_ENV?(0,h.default)(!(n||o||a),"the `query`, `hash`, and `state` props on `<Link>` are deprecated, use `<Link to={{ pathname, query, hash, state }}/>. http://tiny.cc/router-isActivedeprecated"):void 0;var v=this.context.router;if(v){if(null==t)return d.default.createElement("a",y);var m=c(t,{query:n,hash:o,state:a});y.href=v.createHref(m),(u||null!=f&&!s(f))&&v.isActive(m,p)&&(u&&(y.className?y.className+=" "+u:y.className=u),f&&(y.style=l({},y.style,f)))}return d.default.createElement("a",l({},y,{onClick:this.handleClick}))}});t.default=x,e.exports=t.default}).call(t,n(1))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(2),a=o(i),u=n(4),s=o(u),c=n(8),l=n(14),f=n(12),d=a.default.PropTypes,p=d.string,h=d.object,y=a.default.createClass({displayName:"Redirect",statics:{createRouteFromReactElement:function(e){var t=(0,c.createRouteFromReactElement)(e);return t.from&&(t.path=t.from),t.onEnter=function(e,n){var r=e.location,o=e.params,i=void 0;if("/"===t.to.charAt(0))i=(0,l.formatPattern)(t.to,o);else if(t.to){var a=e.routes.indexOf(t),u=y.getRoutePattern(e.routes,a-1),s=u.replace(/\/*$/,"/")+t.to;i=(0,l.formatPattern)(s,o)}else i=r.pathname;n({pathname:i,query:t.query||r.query,state:t.state||r.state})},t},getRoutePattern:function(e,t){for(var n="",r=t;r>=0;r--){var o=e[r],i=o.path||"";if(n=i.replace(/\/*$/,"/")+n,0===i.indexOf("/"))break}return"/"+n}},propTypes:{path:p,from:p,to:p.isRequired,query:h,state:h,onEnter:f.falsy,children:f.falsy},render:function(){"production"!==r.env.NODE_ENV?(0,s.default)(!1,"<Redirect> elements are for router configuration only and should not be rendered"):(0,s.default)(!1)}});t.default=y,e.exports=t.default}).call(t,n(1))},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return a({},e,{setRouteLeaveHook:t.listenBeforeLeavingRoute,isActive:t.isActive})}function i(t,n){return t=a({},t,n),"production"!==e.env.NODE_ENV&&(t=(0,s.default)(t,"`props.history` and `context.history` are deprecated. Please use `context.router`. http://tiny.cc/router-contextchanges")),t}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createRouterObject=o,t.createRoutingHistory=i;var u=n(19),s=r(u)}).call(t,n(1))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=(0,l.default)(e),n=function(){return t},r=(0,a.default)((0,s.default)(n))(e);return r.__v2_compatible__=!0,r}t.__esModule=!0,t.default=o;var i=n(16),a=r(i),u=n(41),s=r(u),c=n(69),l=r(c);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=function(e){var t=void 0;return a&&(t=(0,i.default)(e)()),t};var o=n(48),i=r(o),a=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=t.default},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("production"!==r.env.NODE_ENV&&u.canUseMembrane){var n=a({},e),o=function(e){return Object.prototype.hasOwnProperty.call(t,e)?void Object.defineProperty(n,e,{get:function(){return"production"!==r.env.NODE_ENV?(0,c.default)(!1,"Accessing location properties directly from the first argument to `getComponent`, `getComponents`, `getChildRoutes`, and `getIndexRoute` is deprecated. That argument is now the router state (`nextState` or `partialNextState`) rather than the location. To access the location, use `nextState.location` or `partialNextState.location`."):void 0,t[e]}}):"continue"};for(var i in t){o(i)}return n}return a({},e,t)}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var u=n(19),s=n(3),c=o(s);e.exports=t.default}).call(t,n(1))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(t){var n=(0,a.default)((0,s.default)(e))(t);return n.__v2_compatible__=!0,n}}t.__esModule=!0,t.default=o;var i=n(16),a=r(i),u=n(41),s=r(u);e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.repeat=function(e,t){return new Array(t+1).join(e)},r=t.pad=function(e,t){return n("0",t-e.toString().length)+e};t.formatTime=function(e){return r(e.getHours(),2)+":"+r(e.getMinutes(),2)+":"+r(e.getSeconds(),2)+"."+r(e.getMilliseconds(),3)},t.timer="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(t){s.message.loading("..."),u.default.login(e,function(e){t({type:i.RECEIVE_LOGIN,config:e})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.getLogin=o;var i=n(36),a=n(51),u=r(a),s=n(6)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(71),i=r(o),a=n(6),u=n(9);t.default={login:function(e,t){u.browserHistory.push("/eeInBuptWeb/dashboard"),a.message.success("");var n=new FormData;for(name in e)n.append(name,e[name]);(0,i.default)("/feeler2/login/submit",{method:"POST",credentials:"same-origin",body:n}).then(function(e){return e.json().then(function(e){switch(e.errCode){case 0:a.message.success(""),u.browserHistory.push("/eeInBuptWeb/dashboard"),t(e.data);break;case 1001e3:a.message.error("");break;case 1001001:a.message.error("");break;default:a.message.error(e.msg)}})})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s);n(6),n(9);n(100);var l=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return a(t,e),u(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"figure"},"...")}}]),t}(s.Component);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),l=(n(6),n(9));n(101);var f=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return a(t,e),u(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"channel"},c.default.createElement("div",{onClick:function(){l.browserHistory.push()},style:{fontSize:"40px",color:"purple"}},""),c.default.createElement("div",{onClick:function(){l.browserHistory.push()}},"/"),c.default.createElement("div",{onClick:function(){l.browserHistory.push()}},""),c.default.createElement("div",{onClick:function(){l.browserHistory.push()}},""),c.default.createElement("div",{onClick:function(){l.browserHistory.push()}},""))}}]),t}(s.Component);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s);n(6),n(9);n(102);var l=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props.trendsList.map(function(e,t){return c.default.createElement("li",{key:t},c.default.createElement("div",{className:"content"},e.content)," ",c.default.createElement("div",{className:"time"},"[",e.time,"] "))}),t=this.props.newClassList.map(function(e,t){return c.default.createElement("li",{key:t},c.default.createElement("div",{className:"content"},e.content)," ",c.default.createElement("div",{className:"time"},"[",e.time,"] "))}),n=this.props.hotClassList.map(function(e,t){return c.default.createElement("li",{key:t},c.default.createElement("div",{className:"content"},e.content)," ",c.default.createElement("div",{className:"time"},"[",e.time,"] "))});return c.default.createElement("div",{className:"showList"},c.default.createElement("div",{className:"newTrends"},c.default.createElement("h3",null,""),c.default.createElement("div",{className:"blank"}),c.default.createElement("ul",null,e),c.default.createElement("div",{className:"blank"})),c.default.createElement("div",{className:"newClass",style:{margin:"0 2%"}},c.default.createElement("h3",null,""),c.default.createElement("div",{className:"blank"}),c.default.createElement("ul",null,t),c.default.createElement("div",{className:"blank"})),c.default.createElement("div",{className:"hotClass"},c.default.createElement("h3",null,""),c.default.createElement("div",{className:"blank"}),c.default.createElement("ul",null,n),c.default.createElement("div",{className:"blank"})))}}]),t}(s.Component);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),l=(n(6),n(9));n(103);var f=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return a(t,e),u(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"title"},c.default.createElement("div",{onClick:function(){l.browserHistory.push()}},""),c.default.createElement("div",{onClick:function(){l.browserHistory.push()}},""),c.default.createElement("div",{onClick:function(){l.browserHistory.push()}},""),c.default.createElement("div",{onClick:function(){l.browserHistory.push()}},""),c.default.createElement("div",{onClick:function(){l.browserHistory.push()}},""))}}]),t}(s.Component);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n(113);var o=n(2),i=r(o),a=n(111),u=n(17),s=n(9),c=n(61),l=r(c);n(107);var f=n(58),d=r(f),p=n(57),h=(r(p),n(59)),y=r(h),v=(0,l.default)();(0,a.render)(i.default.createElement(u.Provider,{store:v},i.default.createElement(s.Router,{history:s.browserHistory},i.default.createElement(s.Route,{path:"/",component:Dashboards}),i.default.createElement(s.Route,{path:"/login",component:y.default}),i.default.createElement(s.Route,{path:"/register"}),i.default.createElement(s.Route,{path:"/eeInBuptWeb/dashboard",component:d.default}))),document.getElementById("root"))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),l=(n(17),n(112)),f=r(l);n(104);var d=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return a(t,e),u(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"container"},c.default.createElement("div",{className:"title"},c.default.createElement("div",{className:"title-name title-left"},""),c.default.createElement("div",{className:"title-right"},c.default.createElement("div",{className:"login"},c.default.createElement("span",null,""),"/",c.default.createElement("span",null,"")),c.default.createElement("div",{className:"time"},(0,f.default)().format("MM/DD/YYYY"),"$nbsp;",(0,f.default)().format("HH:mm")))))}}]),t}(s.Component);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),l=(n(17),n(9)),f=n(6);n(105);var d=n(55),p=r(d),h=n(53),y=r(h),v=n(52),m=r(v),b=n(54),g=r(b),w=f.Input.Search,_=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.handleSign=n.handleSign.bind(n),n}return a(t,e),u(t,[{key:"handleSign",value:function(e){}},{key:"render",value:function(){var e=[{content:"12323131231313213131231313123123",time:"2016-11-28"},{content:"",time:"2016-11-28"},{content:"",time:"2016-11-28"},{content:"",time:"2016-11-28"},{content:"",time:"2016-11-28"}],t=[{content:"",time:"2016-11-28"},{content:"",time:"2016-11-28"},{content:"",time:"2016-11-28"},{content:"",time:"2016-11-28"},{content:"",time:"2016-11-28"}],n=[{content:"",time:"2016-11-28"},{content:"",time:"2016-11-28"},{content:"",time:"2016-11-28"},{content:"",time:"2016-11-28"},{content:"",time:"2016-11-28"}];return c.default.createElement("div",{className:"container"},c.default.createElement("div",{className:"sign"},c.default.createElement(w,{placeholder:"",onSearch:function(e){return console.log(e)}}),c.default.createElement(f.Button.Group,{size:"default"},c.default.createElement(f.Button,{type:"primary",onClick:function(){return l.browserHistory.push("/login")}},c.default.createElement(f.Icon,{type:"user",onClick:function(){return l.browserHistory.push("/login")}}),""),c.default.createElement(f.Button,{onClick:function(){return l.browserHistory.push("/")}},""))),c.default.createElement("div",{className:"company"},c.default.createElement("div",{className:"img"}),c.default.createElement("div",{className:"name"},c.default.createElement("h1",null,""))),c.default.createElement(p.default,null),c.default.createElement("div",{className:"channel-img"},c.default.createElement(y.default,null),c.default.createElement(m.default,null)),c.default.createElement("div",null,c.default.createElement(g.default,{trendsList:e,newClassList:t,hotClassList:n})),c.default.createElement("div",{className:"footer"},c.default.createElement("div",{className:"friendUrl"},":",c.default.createElement("a",{href:"http://www.bjmu.edu.cn/"},""),c.default.createElement("em",null,"|"),c.default.createElement("a",{href:"http://www.cctf.org.cn/"},""),c.default.createElement("em",null,"|"),c.default.createElement("a",{href:"http://www.bddyyy.com.cn/"},""),c.default.createElement("em",null,"|"),c.default.createElement("a",{href:"http://bdfck.cnkme.com/"},"")),c.default.createElement("div",{className:"phone",onClick:function(){return l.browserHistory.push("/login")}},c.default.createElement(f.Icon,{type:"phone",onClick:function(){return l.browserHistory.push("/login")}}),"",c.default.createElement("a",null,"13520405471"))))}}]),t}(s.Component);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{login:e.login}}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(106);var f=n(2),d=r(f),p=(n(9),n(17)),h=n(6),y=n(50),v=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={username:"",password:""},e.handlePressEnter=e.handlePressEnter.bind(e),e}return u(t,e),l(t,[{key:"componentDidMount",value:function(){document.documentElement.addEventListener("keydown",this.handlePressEnter)}},{key:"componentWillUnmount",value:function(){document.documentElement.removeEventListener("keydown",this.handlePressEnter)}},{key:"handlePressEnter",value:function(e){13==e.keyCode&&this.handleSubmit()}},{key:"handleChange",value:function(e){var t=e.target.value,n=e.target.name;this.setState(o({},n,t))}},{key:"handleSubmit",value:function(){var e={email:this.state.username,pwd:this.state.password};""==e.email?h.message.error("",2):""==e.pwd?h.message.error("",2):this.props.dispatch((0,y.getLogin)(e))}},{key:"render",value:function(){var e={labelCol:{span:6},wrapperCol:{span:14}},t=h.Form.Item;return d.default.createElement("div",{className:"loginContainer"},d.default.createElement(h.Icon,{type:"apple",className:"logo"}),d.default.createElement("h2",null,"eeInBuptWeb"),d.default.createElement(h.Form,{horizontal:!0,className:"loginForm"},d.default.createElement(t,c({},e,{label:""}),d.default.createElement(h.Input,{onChange:this.handleChange.bind(this),name:"username"})),d.default.createElement(t,c({},e,{label:""}),d.default.createElement(h.Input,{type:"password",onChange:this.handleChange.bind(this),name:"password"})),d.default.createElement(t,{wrapperCol:{offset:6,span:14}},d.default.createElement(h.Button,{type:"primary",onClick:this.handleSubmit.bind(this)},""),d.default.createElement("a",{src:""},""))))}}]),t}(f.Component);v.propTypes={login:f.PropTypes.shape({}).isRequired},t.default=(0,p.connect)(s)(v)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.login,t=arguments[1];switch(t.type){case o.RECEIVE_LOGIN:return Object.assign({},e,t.login);default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.login=r;var o=n(36),i=(n(6),{login:{}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(t){var r=(0,i.createStore)(f.default,t,(0,i.applyMiddleware)(u.default,(0,c.default)()));return e.hot.accept(20,function(){var e=n(20).default;r.replaceReducer(e)}),r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(35),a=n(98),u=r(a),s=n(97),c=r(s),l=n(20),f=r(l)},function(e,t,n){var r,o;(function(n){!function(n,i){"use strict";r=[],o=function(){return i()}.apply(t,r),!(void 0!==o&&(e.exports=o))}(this,function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function o(e,t,n){o.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function i(e,t){i.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function a(e,t){a.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function u(e,t,n){u.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function s(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"undefined"!=typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(t,n,r,f,d,p,h){d=d||[];var y=d.slice(0);if("undefined"!=typeof p){if(f){if("function"==typeof f&&f(y,p))return;if("object"==typeof f){if(f.prefilter&&f.prefilter(y,p))return;if(f.normalize){var v=f.normalize(y,p,t,n);v&&(t=v[0],n=v[1])}}}y.push(p)}"regexp"===c(t)&&"regexp"===c(n)&&(t=t.toString(),n=n.toString());var m=typeof t,b=typeof n;if("undefined"===m)"undefined"!==b&&r(new i(y,n));else if("undefined"===b)r(new a(y,t));else if(c(t)!==c(n))r(new o(y,t,n));else if("[object Date]"===Object.prototype.toString.call(t)&&"[object Date]"===Object.prototype.toString.call(n)&&t-n!==0)r(new o(y,t,n));else if("object"===m&&null!==t&&null!==n){if(h=h||[],h.indexOf(t)<0){if(h.push(t),Array.isArray(t)){var g;t.length;for(g=0;g<t.length;g++)g>=n.length?r(new u(y,g,new a(e,t[g]))):l(t[g],n[g],r,f,y,g,h);for(;g<n.length;)r(new u(y,g,new i(e,n[g++])));
}else{var w=Object.keys(t),_=Object.keys(n);w.forEach(function(o,i){var a=_.indexOf(o);a>=0?(l(t[o],n[o],r,f,y,o,h),_=s(_,a)):l(t[o],e,r,f,y,o,h)}),_.forEach(function(t){l(e,n[t],r,f,y,t,h)})}h.length=h.length-1}}else t!==n&&("number"===m&&isNaN(t)&&isNaN(n)||r(new o(y,t,n)))}function f(t,n,r,o){return o=o||[],l(t,n,function(e){e&&o.push(e)},r),o.length?o:e}function d(e,t,n){if(n.path&&n.path.length){var r,o=e[t],i=n.path.length-1;for(r=0;r<i;r++)o=o[n.path[r]];switch(n.kind){case"A":d(o[n.path[r]],n.index,n.item);break;case"D":delete o[n.path[r]];break;case"E":case"N":o[n.path[r]]=n.rhs}}else switch(n.kind){case"A":d(e[t],n.index,n.item);break;case"D":e=s(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function p(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,o=-1,i=n.path?n.path.length-1:0;++o<i;)"undefined"==typeof r[n.path[o]]&&(r[n.path[o]]="number"==typeof n.path[o]?[]:{}),r=r[n.path[o]];switch(n.kind){case"A":d(n.path?r[n.path[o]]:r,n.index,n.item);break;case"D":delete r[n.path[o]];break;case"E":case"N":r[n.path[o]]=n.rhs}}}function h(e,t,n){if(n.path&&n.path.length){var r,o=e[t],i=n.path.length-1;for(r=0;r<i;r++)o=o[n.path[r]];switch(n.kind){case"A":h(o[n.path[r]],n.index,n.item);break;case"D":o[n.path[r]]=n.lhs;break;case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}else switch(n.kind){case"A":h(e[t],n.index,n.item);break;case"D":e[t]=n.lhs;break;case"E":e[t]=n.lhs;break;case"N":e=s(e,t)}return e}function y(e,t,n){if(e&&t&&n&&n.kind){var r,o,i=e;for(o=n.path.length-1,r=0;r<o;r++)"undefined"==typeof i[n.path[r]]&&(i[n.path[r]]={}),i=i[n.path[r]];switch(n.kind){case"A":h(i[n.path[r]],n.index,n.item);break;case"D":i[n.path[r]]=n.lhs;break;case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}}function v(e,t,n){if(e&&t){var r=function(r){n&&!n(e,t,r)||p(e,t,r)};l(e,t,r)}}var m,b,g=[];return m="object"==typeof n&&n?n:"undefined"!=typeof window?window:{},b=m.DeepDiff,b&&g.push(function(){"undefined"!=typeof b&&m.DeepDiff===f&&(m.DeepDiff=b,b=e)}),t(o,r),t(i,r),t(a,r),t(u,r),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:v,enumerable:!0},applyChange:{value:p,enumerable:!0},revertChange:{value:y,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof b},enumerable:!0},noConflict:{value:function(){return g&&(g.forEach(function(e){e()}),g=null),f},enumerable:!0}}),f})}).call(t,function(){return this}())},function(e,t,n){function r(e){return null===e||void 0===e}function o(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}function i(e,t,n){var i,l;if(r(e)||r(t))return!1;if(e.prototype!==t.prototype)return!1;if(s(e))return!!s(t)&&(e=a.call(e),t=a.call(t),c(e,t,n));if(o(e)){if(!o(t))return!1;if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}try{var f=u(e),d=u(t)}catch(e){return!1}if(f.length!=d.length)return!1;for(f.sort(),d.sort(),i=f.length-1;i>=0;i--)if(f[i]!=d[i])return!1;for(i=f.length-1;i>=0;i--)if(l=f[i],!c(e[l],t[l],n))return!1;return typeof e==typeof t}var a=Array.prototype.slice,u=n(65),s=n(64),c=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:i(e,t,n))}},function(e,t){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var o="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=o?n:r,t.supported=n,t.unsupported=r},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports="function"==typeof Object.keys?Object.keys:n,t.shim=n},function(e,t){"use strict";function n(e,t,n){function o(){return u=!0,s?void(l=[].concat(r.call(arguments))):void n.apply(this,arguments)}function i(){if(!u&&(c=!0,!s)){for(s=!0;!u&&a<e&&c;)c=!1,t.call(this,a++,i,o);return s=!1,u?void n.apply(this,l):void(a>=e&&c&&(u=!0,n()))}}var a=0,u=!1,s=!1,c=!1,l=void 0;i()}t.__esModule=!0;var r=Array.prototype.slice;t.loopAsync=n},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){try{e=e||window.history.state||{}}catch(t){e={}}var t=d.getWindowPath(),n=e,r=n.key,o=void 0;r?o=p.readState(r):(o=null,r=w.createKey(),b&&window.history.replaceState(a({},e,{key:r}),null));var i=l.parsePath(t);return w.createLocation(a({},i,{state:o}),void 0,r)}function t(t){function n(t){void 0!==t.state&&r(e(t.state))}var r=t.transitionTo;return d.addEventListener(window,"popstate",n),function(){d.removeEventListener(window,"popstate",n)}}function n(e){var t=e.basename,n=e.pathname,r=e.search,o=e.hash,i=e.state,a=e.action,u=e.key;if(a!==c.POP){p.saveState(u,i);var s=(t||"")+n+r+o,l={key:u};if(a===c.PUSH){if(g)return window.location.href=s,!1;window.history.pushState(l,null,s)}else{if(g)return window.location.replace(s),!1;window.history.replaceState(l,null,s)}}}function o(e){1===++_&&(O=t(w));var n=w.listenBefore(e);return function(){n(),0===--_&&O()}}function i(e){1===++_&&(O=t(w));var n=w.listen(e);return function(){n(),0===--_&&O()}}function u(e){1===++_&&(O=t(w)),w.registerTransitionHook(e)}function h(e){w.unregisterTransitionHook(e),0===--_&&O()}var v=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];f.canUseDOM?void 0:"production"!==r.env.NODE_ENV?s.default(!1,"Browser history needs a DOM"):s.default(!1);var m=v.forceRefresh,b=d.supportsHistory(),g=!b||m,w=y.default(a({},v,{getCurrentLocation:e,finishTransition:n,saveState:p.saveState})),_=0,O=void 0;return a({},w,{listenBefore:o,listen:i,registerTransitionHook:u,unregisterTransitionHook:h})}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(4),s=o(u),c=n(13),l=n(11),f=n(15),d=n(29),p=n(37),h=n(38),y=o(h);t.default=i,e.exports=t.default}).call(t,n(1))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(){var e=arguments.length<=0||void 0===arguments[0]?"/":arguments[0],t=arguments.length<=1||void 0===arguments[1]?c.POP:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],o=arguments.length<=3||void 0===arguments[3]?null:arguments[3];"string"==typeof e&&(e=l.parsePath(e)),"object"==typeof t&&("production"!==r.env.NODE_ENV?s.default(!1,"The state (2nd) argument to createLocation is deprecated; use a location descriptor instead"):void 0,e=a({},e,{state:t}),t=n||c.POP,n=o);var i=e.pathname||"/",u=e.search||"",f=e.hash||"",d=e.state||null;return{pathname:i,search:u,hash:f,state:d,action:t,key:n}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(5),s=o(u),c=n(13),l=n(11);t.default=i,e.exports=t.default}).call(t,n(1))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return e.filter(function(e){return e.state}).reduce(function(e,t){return e[t.key]=t.state,e},{})}function a(){function e(e,t){g[e]=t}function t(e){return g[e]}function n(){var e=m[b],n=e.basename,r=e.pathname,o=e.search,i=(n||"")+r+(o||""),a=void 0,s=void 0;e.key?(a=e.key,s=t(a)):(a=h.createKey(),s=null,e.key=a);var c=d.parsePath(i);return h.createLocation(u({},c,{state:s}),void 0,a)}function o(e){var t=b+e;return t>=0&&t<m.length}function a(e){if(e){if(!o(e))return void("production"!==r.env.NODE_ENV?c.default(!1,"Cannot go(%s) there is not enough history",e):void 0);b+=e;var t=n();h.transitionTo(u({},t,{action:p.POP}))}}function s(t){switch(t.action){case p.PUSH:b+=1,b<m.length&&m.splice(b),m.push(t),e(t.key,t.state);break;case p.REPLACE:m[b]=t,e(t.key,t.state)}}var l=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];Array.isArray(l)?l={entries:l}:"string"==typeof l&&(l={entries:[l]});var h=y.default(u({},l,{getCurrentLocation:n,finishTransition:s,saveState:e,go:a})),v=l,m=v.entries,b=v.current;"string"==typeof m?m=[m]:Array.isArray(m)||(m=["/"]),m=m.map(function(e){var t=h.createKey();return"string"==typeof e?{pathname:e,key:t}:"object"==typeof e&&e?u({},e,{key:t}):void("production"!==r.env.NODE_ENV?f.default(!1,"Unable to create history entry from %s",e):f.default(!1))}),null==b?b=m.length-1:b>=0&&b<m.length?void 0:"production"!==r.env.NODE_ENV?f.default(!1,"Current index must be >= 0 and < %s, was %s",m.length,b):f.default(!1);var g=i(m);return h}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(5),c=o(s),l=n(4),f=o(l),d=n(11),p=n(13),h=n(40),y=o(h);t.default=a,e.exports=t.default}).call(t,n(1))},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,i){if("string"!=typeof t){var a=Object.getOwnPropertyNames(t);o&&(a=a.concat(Object.getOwnPropertySymbols(t)));for(var u=0;u<a.length;++u)if(!(n[a[u]]||r[a[u]]||i&&i[a[u]]))try{e[a[u]]=t[a[u]]}catch(e){}}return e}},function(e,t,n){n(110),e.exports=self.fetch.bind(self)},function(e,t,n){"use strict";var r=n(99);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e){return"string"!=typeof e?{}:(e=e.trim().replace(/^(\?|#|&)/,""),e?e.split("&").reduce(function(e,t){var n=t.replace(/\+/g," ").split("="),r=n.shift(),o=n.length>0?n.join("="):void 0;return r=decodeURIComponent(r),o=void 0===o?null:decodeURIComponent(o),e.hasOwnProperty(r)?Array.isArray(e[r])?e[r].push(o):e[r]=[e[r],o]:e[r]=o,e},{}):{})},t.stringify=function(e){return e?Object.keys(e).sort().map(function(t){var n=e[t];return void 0===n?"":null===n?t:Array.isArray(n)?n.slice().sort().map(function(e){return r(t)+"="+r(e)}).join("&"):r(t)+"="+r(n)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(3),a=o(i),u=n(12),s={contextTypes:{history:u.history},componentWillMount:function(){"production"!==r.env.NODE_ENV?(0,a.default)(!1,"the `History` mixin is deprecated, please access `context.router` with your own `contextTypes`. http://tiny.cc/router-historymixin"):void 0,this.history=this.context.history}};t.default=s,e.exports=t.default}).call(t,n(1))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(2),a=r(i),u=n(42),s=r(u),c=a.default.createClass({displayName:"IndexLink",render:function(){return a.default.createElement(s.default,o({},this.props,{onlyActiveOnIndex:!0}))}});t.default=c,e.exports=t.default},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(2),a=o(i),u=n(3),s=o(u),c=n(4),l=o(c),f=n(43),d=o(f),p=n(12),h=a.default.PropTypes,y=h.string,v=h.object,m=a.default.createClass({displayName:"IndexRedirect",statics:{createRouteFromReactElement:function(e,t){t?t.indexRoute=d.default.createRouteFromReactElement(e):"production"!==r.env.NODE_ENV?(0,s.default)(!1,"An <IndexRedirect> does not make sense at the root of your route config"):void 0}},propTypes:{to:y.isRequired,query:v,state:v,onEnter:p.falsy,children:p.falsy},render:function(){"production"!==r.env.NODE_ENV?(0,l.default)(!1,"<IndexRedirect> elements are for router configuration only and should not be rendered"):(0,l.default)(!1)}});t.default=m,e.exports=t.default}).call(t,n(1))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(2),a=o(i),u=n(3),s=o(u),c=n(4),l=o(c),f=n(8),d=n(12),p=a.default.PropTypes.func,h=a.default.createClass({displayName:"IndexRoute",statics:{createRouteFromReactElement:function(e,t){t?t.indexRoute=(0,f.createRouteFromReactElement)(e):"production"!==r.env.NODE_ENV?(0,s.default)(!1,"An <IndexRoute> does not make sense at the root of your route config"):void 0}},propTypes:{path:d.falsy,component:d.component,components:d.components,getComponent:p,getComponents:p},render:function(){"production"!==r.env.NODE_ENV?(0,l.default)(!1,"<IndexRoute> elements are for router configuration only and should not be rendered"):(0,l.default)(!1)}});t.default=h,e.exports=t.default}).call(t,n(1))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(3),a=o(i),u=n(2),s=o(u),c=n(4),l=o(c),f=s.default.PropTypes.object,d={contextTypes:{history:f.isRequired,route:f},propTypes:{route:f},componentDidMount:function(){"production"!==r.env.NODE_ENV?(0,a.default)(!1,"the `Lifecycle` mixin is deprecated, please use `context.router.setRouteLeaveHook(route, hook)`. http://tiny.cc/router-lifecyclemixin"):void 0,this.routerWillLeave?void 0:"production"!==r.env.NODE_ENV?(0,l.default)(!1,"The Lifecycle mixin requires you to define a routerWillLeave method"):(0,l.default)(!1);var e=this.props.route||this.context.route;e?void 0:"production"!==r.env.NODE_ENV?(0,l.default)(!1,"The Lifecycle mixin must be used on either a) a <Route component> or b) a descendant of a <Route component> that uses the RouteContext mixin"):(0,l.default)(!1),this._unlistenBeforeLeavingRoute=this.context.history.listenBeforeLeavingRoute(e,this.routerWillLeave)},componentWillUnmount:function(){this._unlistenBeforeLeavingRoute&&this._unlistenBeforeLeavingRoute()}};t.default=d,e.exports=t.default}).call(t,n(1))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(2),a=o(i),u=n(4),s=o(u),c=n(8),l=n(12),f=a.default.PropTypes,d=f.string,p=f.func,h=a.default.createClass({displayName:"Route",statics:{createRouteFromReactElement:c.createRouteFromReactElement},propTypes:{path:d,component:l.component,components:l.components,getComponent:p,getComponents:p},render:function(){"production"!==r.env.NODE_ENV?(0,s.default)(!1,"<Route> elements are for router configuration only and should not be rendered"):(0,s.default)(!1)}});t.default=h,e.exports=t.default}).call(t,n(1))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(3),a=o(i),u=n(2),s=o(u),c=s.default.PropTypes.object,l={propTypes:{route:c.isRequired},childContextTypes:{route:c.isRequired},getChildContext:function(){return{route:this.props.route}},componentWillMount:function(){"production"!==r.env.NODE_ENV?(0,a.default)(!1,"The `RouteContext` mixin is deprecated. You can provide `this.props.route` on context with your own `contextTypes`. http://tiny.cc/router-routecontextmixin"):void 0}};t.default=l,e.exports=t.default}).call(t,n(1))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){return!e||!e.__v2_compatible__}function u(e){return e&&e.getCurrentLocation}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(39),l=o(c),f=n(16),d=o(f),p=n(4),h=o(p),y=n(2),v=o(y),m=n(34),b=o(m),g=n(12),w=n(18),_=o(w),O=n(8),E=n(44),x=n(3),P=o(x),j=v.default.PropTypes,R=j.func,N=j.object,T=v.default.createClass({displayName:"Router",propTypes:{history:N,children:g.routes,routes:g.routes,render:R,createElement:R,onError:R,onUpdate:R,parseQueryString:R,stringifyQuery:R,matchContext:N},getDefaultProps:function(){return{render:function(e){return v.default.createElement(_.default,e)}}},getInitialState:function(){return{location:null,routes:null,params:null,components:null}},handleError:function(e){if(!this.props.onError)throw e;this.props.onError.call(this,e)},componentWillMount:function(){var e=this,t=this.props,n=t.parseQueryString,o=t.stringifyQuery;"production"!==r.env.NODE_ENV?(0,P.default)(!(n||o),"`parseQueryString` and `stringifyQuery` are deprecated. Please create a custom history. http://tiny.cc/router-customquerystring"):void 0;var i=this.createRouterObjects(),a=i.history,u=i.transitionManager,s=i.router;this._unlisten=u.listen(function(t,n){t?e.handleError(t):e.setState(n,e.props.onUpdate)}),this.history=a,this.router=s},createRouterObjects:function(){var e=this.props.matchContext;if(e)return e;var t=this.props.history,n=this.props,o=n.routes,i=n.children;u(t)?"production"!==r.env.NODE_ENV?(0,h.default)(!1,"You have provided a history object created with history v3.x. This version of React Router is not compatible with v3 history objects. Please use history v2.x instead."):(0,h.default)(!1):void 0,a(t)&&(t=this.wrapDeprecatedHistory(t));var s=(0,b.default)(t,(0,O.createRoutes)(o||i)),c=(0,E.createRouterObject)(t,s),l=(0,E.createRoutingHistory)(t,s);return{history:l,transitionManager:s,router:c}},wrapDeprecatedHistory:function(e){var t=this.props,n=t.parseQueryString,o=t.stringifyQuery,i=void 0;return e?("production"!==r.env.NODE_ENV?(0,P.default)(!1,"It appears you have provided a deprecated history object to `<Router/>`, please use a history provided by React Router with `import { browserHistory } from 'react-router'` or `import { hashHistory } from 'react-router'`. If you are using a custom history please create it with `useRouterHistory`, see http://tiny.cc/router-usinghistory for details."):void 0,i=function(){return e}):("production"!==r.env.NODE_ENV?(0,P.default)(!1,"`Router` no longer defaults the history prop to hash history. Please use the `hashHistory` singleton instead. http://tiny.cc/router-defaulthistory"):void 0,i=l.default),(0,d.default)(i)({parseQueryString:n,stringifyQuery:o})},componentWillReceiveProps:function(e){"production"!==r.env.NODE_ENV?(0,P.default)(e.history===this.props.history,"You cannot change <Router history>; it will be ignored"):void 0,"production"!==r.env.NODE_ENV?(0,P.default)((e.routes||e.children)===(this.props.routes||this.props.children),"You cannot change <Router routes>; it will be ignored"):void 0},componentWillUnmount:function(){this._unlisten&&this._unlisten()},render:function e(){var t=this.state,n=t.location,r=t.routes,o=t.params,a=t.components,u=this.props,c=u.createElement,e=u.render,l=i(u,["createElement","render"]);return null==n?null:(Object.keys(T.propTypes).forEach(function(e){return delete l[e]}),e(s({},l,{history:this.history,router:this.router,location:n,routes:r,params:o,components:a,createElement:c})))}});t.default=T,e.exports=t.default}).call(t,n(1))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(2),a=o(i),u=n(18),s=o(u),c=n(3),l=o(c),f=a.default.createClass({displayName:"RoutingContext",componentWillMount:function(){"production"!==r.env.NODE_ENV?(0,l.default)(!1,"`RoutingContext` has been renamed to `RouterContext`. Please use `import { RouterContext } from 'react-router'`. http://tiny.cc/router-routercontext"):void 0},render:function(){return a.default.createElement(s.default,this.props)}});t.default=f,e.exports=t.default}).call(t,n(1))},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];if(e.apply(t,o),e.length<n){var a=o[o.length-1];a()}}}function i(e){return e.reduce(function(e,t){return t.onEnter&&e.push(o(t.onEnter,t,3)),e},[])}function a(e){return e.reduce(function(e,t){return t.onChange&&e.push(o(t.onChange,t,4)),e},[])}function u(t,n,r){function o(t,n,r){return n?("production"!==e.env.NODE_ENV?(0,p.default)(!1,"`replaceState(state, pathname, query) is deprecated; use `replace(location)` with a location descriptor instead. http://tiny.cc/router-isActivedeprecated"):void 0,void(i={pathname:n,query:r,state:t})):void(i=t)}if(!t)return void r();var i=void 0;(0,f.loopAsync)(t,function(e,t,r){n(e,o,function(e){e||i?r(e,i):t()})},r)}function s(e,t,n){var r=i(e);return u(r.length,function(e,n,o){r[e](t,n,o)},n)}function c(e,t,n,r){var o=a(e);return u(o.length,function(e,r,i){o[e](t,n,r,i)},r)}function l(e,t){for(var n=0,r=e.length;n<r;++n)e[n].onLeave&&e[n].onLeave.call(e[n],t)}t.__esModule=!0,t.runEnterHooks=s,t.runChangeHooks=c,t.runLeaveHooks=l;var f=n(32),d=n(3),p=r(d)}).call(t,n(1))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(2),u=o(a),s=n(18),c=o(s),l=n(3),f=o(l);t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];"production"!==r.env.NODE_ENV&&t.forEach(function(e,t){"production"!==r.env.NODE_ENV?(0,f.default)(e.renderRouterContext||e.renderRouteComponent,"The middleware specified at index "+t+" does not appear to be a valid React Router middleware."):void 0});var o=t.map(function(e){return e.renderRouterContext}).filter(Boolean),s=t.map(function(e){return e.renderRouteComponent}).filter(Boolean),l=function(){var e=arguments.length<=0||void 0===arguments[0]?a.createElement:arguments[0];return function(t,n){return s.reduceRight(function(e,t){return t(e,n)},e(t,n))}};return function(e){return o.reduceRight(function(t,n){return n(t,e)},u.default.createElement(c.default,i({},e,{createElement:l(e.createElement)})))}},e.exports=t.default}).call(t,n(1))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(67),i=r(o),a=n(46),u=r(a);t.default=(0,u.default)(i.default),e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){if(!e.path)return!1;var r=(0,i.getParamNames)(e.path);return r.some(function(e){return t.params[e]!==n.params[e]})}function o(e,t){var n=e&&e.routes,o=t.routes,i=void 0,a=void 0,u=void 0;return n?!function(){var s=!1;i=n.filter(function(n){if(s)return!0;var i=o.indexOf(n)===-1||r(n,e,t);return i&&(s=!0),i}),i.reverse(),u=[],a=[],o.forEach(function(e){var t=n.indexOf(e)===-1,r=i.indexOf(e)!==-1;t||r?u.push(e):a.push(e)})}():(i=[],a=[],u=o),{leaveRoutes:i,changeRoutes:a,enterRoutes:u}}t.__esModule=!0;var i=n(14);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){if(t.component||t.components)return void n(null,t.component||t.components);var r=t.getComponent||t.getComponents;if(!r)return void n();var o=e.location,i=(0,s.default)(e,o);r.call(t,i,n)}function i(e,t){(0,a.mapAsync)(e.routes,function(t,n,r){o(e,t,r)},t)}t.__esModule=!0;var a=n(32),u=n(47),s=r(u);t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n={};return e.path?((0,o.getParamNames)(e.path).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}),n):n}t.__esModule=!0;var o=n(14);t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(39),i=r(o),a=n(46),u=r(a);t.default=(0,u.default)(i.default),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(e==t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return r(e,t[n])});if("object"===("undefined"==typeof e?"undefined":s(e))){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))if(void 0===e[n]){if(void 0!==t[n])return!1}else{if(!Object.prototype.hasOwnProperty.call(t,n))return!1;if(!r(e[n],t[n]))return!1}return!0}return String(e)===String(t)}function o(e,t){return"/"!==t.charAt(0)&&(t="/"+t),"/"!==e.charAt(e.length-1)&&(e+="/"),"/"!==t.charAt(t.length-1)&&(t+="/"),t===e}function i(e,t,n){for(var r=e,o=[],i=[],a=0,u=t.length;a<u;++a){var s=t[a],l=s.path||"";if("/"===l.charAt(0)&&(r=e,o=[],i=[]),null!==r&&l){var f=(0,c.matchPattern)(l,r);if(f?(r=f.remainingPathname,o=[].concat(o,f.paramNames),i=[].concat(i,f.paramValues)):r=null,""===r)return o.every(function(e,t){return String(i[t])===String(n[e])})}}return!1}function a(e,t){return null==t?null==e:null==e||r(e,t)}function u(e,t,n,r,u){var s=e.pathname,c=e.query;return null!=n&&("/"!==s.charAt(0)&&(s="/"+s),!!(o(s,n.pathname)||!t&&i(s,r,u))&&a(c,n.query))}t.__esModule=!0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.default=u;var c=n(14);e.exports=t.default},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){var n=e.history,o=e.routes,a=e.location,c=i(e,["history","routes","location"]);n||a?void 0:"production"!==r.env.NODE_ENV?(0,l.default)(!1,"match needs a history or a location"):(0,l.default)(!1),n=n?n:(0,d.default)(c);var f=(0,h.default)(n,(0,y.createRoutes)(o)),p=void 0;a?a=n.createLocation(a):p=n.listen(function(e){a=e});var m=(0,v.createRouterObject)(n,f);n=(0,v.createRoutingHistory)(n,f),f.match(a,function(e,r,o){t(e,r&&m.createLocation(r,s.REPLACE),o&&u({},o,{history:n,router:m,matchContext:{history:n,transitionManager:f,router:m}})),p&&p()})}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(13),c=n(4),l=o(c),f=n(45),d=o(f),p=n(34),h=o(p),y=n(8),v=n(44);t.default=a,e.exports=t.default}).call(t,n(1))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r,o){if(e.childRoutes)return[null,e.childRoutes];if(!e.getChildRoutes)return[];var i=!0,a=void 0,u={location:t,params:s(n,r)},c=(0,y.default)(u,t);return e.getChildRoutes(c,function(e,t){return t=!e&&(0,g.createRoutes)(t),i?void(a=[e,t]):void o(e,t)}),i=!1,a}function a(e,t,n,r,o){if(e.indexRoute)o(null,e.indexRoute);else if(e.getIndexRoute){var i={location:t,params:s(n,r)},u=(0,y.default)(i,t);e.getIndexRoute(u,function(e,t){o(e,!e&&(0,g.createRoutes)(t)[0])})}else e.childRoutes?!function(){var i=e.childRoutes.filter(function(e){return!e.path});(0,p.loopAsync)(i.length,function(e,o,u){a(i[e],t,n,r,function(t,n){if(t||n){var r=[i[e]].concat(Array.isArray(n)?n:[n]);u(t,r)}else o()})},function(e,t){o(null,t)})}():o()}function u(e,t,n){return t.reduce(function(e,t,r){var o=n&&n[r];return Array.isArray(e[t])?e[t].push(o):t in e?e[t]=[e[t],o]:e[t]=o,e},e)}function s(e,t){return u({},e,t)}function c(e,t,n,o,u,c){var f=e.path||"";if("/"===f.charAt(0)&&(n=t.pathname,o=[],u=[]),null!==n&&f){try{var p=(0,v.matchPattern)(f,n);p?(n=p.remainingPathname,o=[].concat(o,p.paramNames),u=[].concat(u,p.paramValues)):n=null}catch(e){c(e)}if(""===n){var h=function(){var n={routes:[e],params:s(o,u)};return a(e,t,o,u,function(e,t){if(e)c(e);else{if(Array.isArray(t)){var o;"production"!==r.env.NODE_ENV?(0,b.default)(t.every(function(e){return!e.path}),"Index routes should not have paths"):void 0,(o=n.routes).push.apply(o,t)}else t&&("production"!==r.env.NODE_ENV?(0,b.default)(!t.path,"Index routes should not have paths"):void 0,n.routes.push(t));c(null,n)}}),{v:void 0}}();if("object"===("undefined"==typeof h?"undefined":d(h)))return h.v}}if(null!=n||e.childRoutes){var y=function(r,i){r?c(r):i?l(i,t,function(t,n){t?c(t):n?(n.routes.unshift(e),c(null,n)):c()},n,o,u):c()},m=i(e,t,o,u,y);m&&y.apply(void 0,m)}else c()}function l(e,t,n,r){var o=arguments.length<=4||void 0===arguments[4]?[]:arguments[4],i=arguments.length<=5||void 0===arguments[5]?[]:arguments[5];void 0===r&&("/"!==t.pathname.charAt(0)&&(t=f({},t,{pathname:"/"+t.pathname})),r=t.pathname),(0,p.loopAsync)(e.length,function(n,a,u){c(e[n],t,r,o,i,function(e,t){e||t?u(e,t):a()})},n)}t.__esModule=!0;var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.default=l;var p=n(32),h=n(47),y=o(h),v=n(14),m=n(3),b=o(m),g=n(8);e.exports=t.default}).call(t,n(1))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){return"production"!==r.env.NODE_ENV?(0,p.default)(!1,"`useRoutes` is deprecated. Please use `createTransitionManager` instead."):void 0,function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.routes,r=i(t,["routes"]),o=(0,c.default)(e)(r),a=(0,f.default)(o,n);return u({},o,a)}}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(16),c=o(s),l=n(34),f=o(l),d=n(3),p=o(d);t.default=a,e.exports=t.default}).call(t,n(1))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return e.displayName||e.name||"Component"}function a(e,t){var n=t&&t.withRef,o=f.default.createClass({displayName:"WithRouter",contextTypes:{router:h.routerShape},propTypes:{router:h.routerShape},getWrappedInstance:function(){return n?void 0:"production"!==r.env.NODE_ENV?(0,c.default)(!1,"To access the wrapped instance, you need to specify `{ withRef: true }` as the second argument of the withRouter() call."):(0,c.default)(!1),this.wrappedInstance},render:function(){var t=this,r=this.props.router||this.context.router,o=u({},this.props,{router:r});return n&&(o.ref=function(e){t.wrappedInstance=e}),f.default.createElement(e,o)}});return o.displayName="withRouter("+i(e)+")",o.WrappedComponent=e,(0,p.default)(o,e)}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=a;var s=n(4),c=o(s),l=n(2),f=o(l),d=n(70),p=o(d),h=n(33);e.exports=t.default}).call(t,n(1))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function a(e,t,n,r){switch("undefined"==typeof e?"undefined":i(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,o(n)):e[r];case"function":return e(t);default:return e}}function u(e){var t=e.timestamp,n=e.duration;return function(e,r,o){var i=["action"];return t&&i.push("@ "+r),i.push(e.type),n&&i.push("(in "+o.toFixed(2)+" ms)"),i.join(" ")}}function s(e,t){var n=t.logger,r=t.actionTransformer,o=t.titleFormatter,i=void 0===o?u(t):o,s=t.collapsed,l=t.colors,d=t.level,p=t.diff;e.forEach(function(t,o){var u=t.started,h=t.startedTime,y=t.action,v=t.prevState,m=t.error,b=t.took,g=t.nextState,w=e[o+1];w&&(g=w.prevState,b=w.started-u);var _=r(y),O="function"==typeof s?s(function(){return g},y):s,E=(0,c.formatTime)(h),x=l.title?"color: "+l.title(_)+";":null,P=i(_,E,b);try{O?l.title?n.groupCollapsed("%c "+P,x):n.groupCollapsed(P):l.title?n.group("%c "+P,x):n.group(P);
}catch(e){n.log(P)}var j=a(d,_,[v],"prevState"),R=a(d,_,[_],"action"),N=a(d,_,[m,v],"error"),T=a(d,_,[g],"nextState");j&&(l.prevState?n[j]("%c prev state","color: "+l.prevState(v)+"; font-weight: bold",v):n[j]("prev state",v)),R&&(l.action?n[R]("%c action","color: "+l.action(_)+"; font-weight: bold",_):n[R]("action",_)),m&&N&&(l.error?n[N]("%c error","color: "+l.error(m,v)+"; font-weight: bold",m):n[N]("error",m)),T&&(l.nextState?n[T]("%c next state","color: "+l.nextState(g)+"; font-weight: bold",g):n[T]("next state",g)),p&&(0,f.default)(v,g,n,O);try{n.groupEnd()}catch(e){n.log(" log end ")}})}Object.defineProperty(t,"__esModule",{value:!0}),t.printBuffer=s;var c=n(49),l=n(96),f=r(l)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return"color: "+c[e].color+"; font-weight: bold"}function i(e){var t=e.kind,n=e.path,r=e.lhs,o=e.rhs,i=e.index,a=e.item;switch(t){case"E":return n.join(".")+" "+r+"  "+o;case"N":return n.join(".")+" "+o;case"D":return""+n.join(".");case"A":return[n.join(".")+"["+i+"]",a];default:return null}}function a(e,t,n,r){var a=(0,s.default)(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}a?a.forEach(function(e){var t=e.kind,r=i(e);n.log("%c "+c[t].text,o(t),r)}):n.log(" no diff ");try{n.groupEnd()}catch(e){n.log(" diff end  ")}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var u=n(62),s=r(u),c={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=i({},c.default,e),n=t.logger,r=t.transformer,o=t.stateTransformer,s=t.errorTransformer,l=t.predicate,f=t.logErrors,d=t.diffPredicate;if("undefined"==typeof n)return function(){return function(e){return function(t){return e(t)}}};r&&console.error("Option 'transformer' is deprecated, use 'stateTransformer' instead!");var p=[];return function(e){var n=e.getState;return function(e){return function(r){if("function"==typeof l&&!l(n,r))return e(r);var c={};p.push(c),c.started=u.timer.now(),c.startedTime=new Date,c.prevState=o(n()),c.action=r;var h=void 0;if(f)try{h=e(r)}catch(e){c.error=s(e)}else h=e(r);c.took=u.timer.now()-c.started,c.nextState=o(n());var y=t.diff&&"function"==typeof d?d(n,r):t.diff;if((0,a.printBuffer)(p,i({},t,{diff:y})),p.length=0,c.error)throw c.error;return h}}}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(94),u=n(49),s=n(95),c=r(s);t.default=o,e.exports=t.default},function(e,t){"use strict";function n(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}t.__esModule=!0;var r=n();r.withExtraArgument=n,t.default=r},function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,n){var r=n(21);"string"==typeof r&&(r=[[e.id,r,""]]);var o=n(10)(r,{});r.locals&&(e.exports=r.locals),r.locals||e.hot.accept(21,function(){var t=n(21);"string"==typeof t&&(t=[[e.id,t,""]]),o(t)}),e.hot.dispose(function(){o()})},function(e,t,n){var r=n(22);"string"==typeof r&&(r=[[e.id,r,""]]);var o=n(10)(r,{});r.locals&&(e.exports=r.locals),r.locals||e.hot.accept(22,function(){var t=n(22);"string"==typeof t&&(t=[[e.id,t,""]]),o(t)}),e.hot.dispose(function(){o()})},function(e,t,n){var r=n(23);"string"==typeof r&&(r=[[e.id,r,""]]);var o=n(10)(r,{});r.locals&&(e.exports=r.locals),r.locals||e.hot.accept(23,function(){var t=n(23);"string"==typeof t&&(t=[[e.id,t,""]]),o(t)}),e.hot.dispose(function(){o()})},function(e,t,n){var r=n(24);"string"==typeof r&&(r=[[e.id,r,""]]);var o=n(10)(r,{});r.locals&&(e.exports=r.locals),r.locals||e.hot.accept(24,function(){var t=n(24);"string"==typeof t&&(t=[[e.id,t,""]]),o(t)}),e.hot.dispose(function(){o()})},function(e,t,n){var r=n(25);"string"==typeof r&&(r=[[e.id,r,""]]);var o=n(10)(r,{});r.locals&&(e.exports=r.locals),r.locals||e.hot.accept(25,function(){var t=n(25);"string"==typeof t&&(t=[[e.id,t,""]]),o(t)}),e.hot.dispose(function(){o()})},function(e,t,n){var r=n(26);"string"==typeof r&&(r=[[e.id,r,""]]);var o=n(10)(r,{});r.locals&&(e.exports=r.locals),r.locals||e.hot.accept(26,function(){var t=n(26);"string"==typeof t&&(t=[[e.id,t,""]]),o(t)}),e.hot.dispose(function(){o()})},function(e,t,n){var r=n(27);"string"==typeof r&&(r=[[e.id,r,""]]);var o=n(10)(r,{});r.locals&&(e.exports=r.locals),r.locals||e.hot.accept(27,function(){var t=n(27);"string"==typeof t&&(t=[[e.id,t,""]]),o(t)}),e.hot.dispose(function(){o()})},function(e,t,n){var r=n(28);"string"==typeof r&&(r=[[e.id,r,""]]);var o=n(10)(r,{});r.locals&&(e.exports=r.locals),r.locals||e.hot.accept(28,function(){var t=n(28);"string"==typeof t&&(t=[[e.id,t,""]]),o(t)}),e.hot.dispose(function(){o()})},function(e,t,n){e.exports=n.p+"5cb8797f8b1bd4e2b650435bf2f7487a.jpg"},function(e,t,n){(function(t){"use strict";var n=function(){};"production"!==t.env.NODE_ENV&&(n=function(e,t,n){var r=arguments.length;n=new Array(r>2?r-2:0);for(var o=2;o<r;o++)n[o-2]=arguments[o];if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(t.length<10||/^[s\W]*$/.test(t))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+t);if(!e){var i=0,a="Warning: "+t.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(a);try{throw new Error(a)}catch(e){}}}),e.exports=n}).call(t,n(1))},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function u(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function s(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(m.arrayBuffer&&m.blob&&g(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!w(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}),this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return _.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var n=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function y(e){var t=new o;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t}function v(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new o(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(m.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=function(e){return e&&DataView.prototype.isPrototypeOf(e)},w=ArrayBuffer.isView||function(e){return e&&b.indexOf(Object.prototype.toString.call(e))>-1};o.prototype.append=function(e,r){e=t(e),r=n(r);var o=this.map[e];this.map[e]=o?o+","+r:r},o.prototype.delete=function(e){delete this.map[t(e)]},o.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,r){this.map[t(e)]=n(r)},o.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},o.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},o.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},o.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},m.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},f.call(p.prototype),f.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var O=[301,302,303,307,308];v.redirect=function(e,t){if(O.indexOf(t)===-1)throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.Headers=o,e.Request=p,e.Response=v,e.fetch=function(e,t){return new Promise(function(n,r){var o=new p(e,t),i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:y(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;n(new v(t,e))},i.onerror=function(){r(new TypeError("Network request failed"))},i.ontimeout=function(){r(new TypeError("Network request failed"))},i.open(o.method,o.url,!0),"include"===o.credentials&&(i.withCredentials=!0),"responseType"in i&&m.blob&&(i.responseType="blob"),o.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t){e.exports=ReactDOM},function(e,t){e.exports=moment},function(e,t){e.exports=!0}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYXBwLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCBjNWU5M2VlNjZhNGMyZGVkOTE0ZSIsIndlYnBhY2s6Ly8vLi9+L25vZGUtbGlicy1icm93c2VyL34vcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcIlJlYWN0XCIiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yb3V0ZXIvbGliL3JvdXRlcldhcm5pbmcuanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbnZhcmlhbnQvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9+L2hpc3Rvcnkvfi93YXJuaW5nL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiYW50ZFwiIiwid2VicGFjazovLy8uL34vY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yb3V0ZXIvbGliL1JvdXRlVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yb3V0ZXIvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2hpc3RvcnkvbGliL1BhdGhVdGlscy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvSW50ZXJuYWxQcm9wVHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9oaXN0b3J5L2xpYi9BY3Rpb25zLmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi9QYXR0ZXJuVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9oaXN0b3J5L2xpYi9FeGVjdXRpb25FbnZpcm9ubWVudC5qcyIsIndlYnBhY2s6Ly8vLi9+L2hpc3RvcnkvbGliL3VzZVF1ZXJpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yZWR1eC9kaXN0L3JlYWN0LXJlZHV4Lm1pbi5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvUm91dGVyQ29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllcy5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL3JlZHVjZXJzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9hcHAvY29tcG9uZW50cy9DZmlndXJlL2luZGV4LnNjc3MiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2FwcC9jb21wb25lbnRzL0NoYW5uZWwvaW5kZXguc2NzcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL2NvbXBvbmVudHMvU2hvd0xpc3QvaW5kZXguc2NzcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL2NvbXBvbmVudHMvVGl0bGUvaW5kZXguc2NzcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL3BhZ2VzL0ZpcnN0UGFnZS9pbmRleC5zY3NzIiwid2VicGFjazovLy8uL3B1YmxpYy9hcHAvcGFnZXMvSW5kZXgvaW5kZXguc2NzcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL3BhZ2VzL0xvZ2luL0xvZ2luLnNjc3MiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2FwcC9zdHlsZXNoZWV0cy9pbmRleC5zY3NzIiwid2VicGFjazovLy8uL34vaGlzdG9yeS9saWIvRE9NVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9oaXN0b3J5L2xpYi9kZXByZWNhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9oaXN0b3J5L2xpYi9ydW5UcmFuc2l0aW9uSG9vay5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvQXN5bmNVdGlscy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvUHJvcFR5cGVzLmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4L2Rpc3QvcmVkdXgubWluLmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9hcHAvYWN0aW9ucy9BY3Rpb25zVHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9oaXN0b3J5L2xpYi9ET01TdGF0ZVN0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9oaXN0b3J5L2xpYi9jcmVhdGVET01IaXN0b3J5LmpzIiwid2VicGFjazovLy8uL34vaGlzdG9yeS9saWIvY3JlYXRlSGFzaEhpc3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9oaXN0b3J5L2xpYi9jcmVhdGVIaXN0b3J5LmpzIiwid2VicGFjazovLy8uL34vaGlzdG9yeS9saWIvdXNlQmFzZW5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yb3V0ZXIvbGliL0xpbmsuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yb3V0ZXIvbGliL1JlZGlyZWN0LmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi9Sb3V0ZXJVdGlscy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvY3JlYXRlTWVtb3J5SGlzdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvY3JlYXRlUm91dGVySGlzdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvbWFrZVN0YXRlV2l0aExvY2F0aW9uLmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi91c2VSb3V0ZXJIaXN0b3J5LmpzIiwid2VicGFjazovLy8uL34vcmVkdXgtbG9nZ2VyL2xpYi9oZWxwZXJzLmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9hcHAvYWN0aW9ucy9mZXRjaExvZ2luSW5mby5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL2FwaS9sb2dpbi5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL2NvbXBvbmVudHMvQ2ZpZ3VyZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL2NvbXBvbmVudHMvQ2hhbm5lbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL2NvbXBvbmVudHMvU2hvd0xpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2FwcC9jb21wb25lbnRzL1RpdGxlL1RpdGxlLmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9hcHAvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2FwcC9wYWdlcy9GaXJzdFBhZ2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2FwcC9wYWdlcy9JbmRleC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL3BhZ2VzL0xvZ2luL0xvZ2luLmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9hcHAvcmVkdWNlcnMvbG9naW4uanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2FwcC9zdG9yZS9jb25maWd1cmVTdG9yZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2RlZXAtZGlmZi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2RlZXAtZXF1YWwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9kZWVwLWVxdWFsL2xpYi9pc19hcmd1bWVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9kZWVwLWVxdWFsL2xpYi9rZXlzLmpzIiwid2VicGFjazovLy8uL34vaGlzdG9yeS9saWIvQXN5bmNVdGlscy5qcyIsIndlYnBhY2s6Ly8vLi9+L2hpc3RvcnkvbGliL2NyZWF0ZUJyb3dzZXJIaXN0b3J5LmpzIiwid2VicGFjazovLy8uL34vaGlzdG9yeS9saWIvY3JlYXRlTG9jYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9oaXN0b3J5L2xpYi9jcmVhdGVNZW1vcnlIaXN0b3J5LmpzIiwid2VicGFjazovLy8uL34vaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9pc29tb3JwaGljLWZldGNoL2ZldGNoLW5wbS1icm93c2VyaWZ5LmpzIiwid2VicGFjazovLy8uL34vcXVlcnktc3RyaW5nL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi9IaXN0b3J5LmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi9JbmRleExpbmsuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yb3V0ZXIvbGliL0luZGV4UmVkaXJlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yb3V0ZXIvbGliL0luZGV4Um91dGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yb3V0ZXIvbGliL0xpZmVjeWNsZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvUm91dGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yb3V0ZXIvbGliL1JvdXRlQ29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvUm91dGVyLmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi9Sb3V0aW5nQ29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvVHJhbnNpdGlvblV0aWxzLmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi9hcHBseVJvdXRlck1pZGRsZXdhcmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yb3V0ZXIvbGliL2Jyb3dzZXJIaXN0b3J5LmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi9jb21wdXRlQ2hhbmdlZFJvdXRlcy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvZ2V0Q29tcG9uZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvZ2V0Um91dGVQYXJhbXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yb3V0ZXIvbGliL2hhc2hIaXN0b3J5LmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi9pc0FjdGl2ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvbWF0Y2guanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yb3V0ZXIvbGliL21hdGNoUm91dGVzLmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi91c2VSb3V0ZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yb3V0ZXIvbGliL3dpdGhSb3V0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWR1eC1sb2dnZXIvbGliL2NvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWR1eC1sb2dnZXIvbGliL2RlZmF1bHRzLmpzIiwid2VicGFjazovLy8uL34vcmVkdXgtbG9nZ2VyL2xpYi9kaWZmLmpzIiwid2VicGFjazovLy8uL34vcmVkdXgtbG9nZ2VyL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4LXRodW5rL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L3N0cmljdC11cmktZW5jb2RlL2luZGV4LmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9hcHAvY29tcG9uZW50cy9DZmlndXJlL2luZGV4LnNjc3M/YWM0ZCIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL2NvbXBvbmVudHMvQ2hhbm5lbC9pbmRleC5zY3NzP2U1MTkiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2FwcC9jb21wb25lbnRzL1Nob3dMaXN0L2luZGV4LnNjc3M/MWRhMyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL2NvbXBvbmVudHMvVGl0bGUvaW5kZXguc2Nzcz9kZTk5Iiwid2VicGFjazovLy8uL3B1YmxpYy9hcHAvcGFnZXMvRmlyc3RQYWdlL2luZGV4LnNjc3M/MmM5NSIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL3BhZ2VzL0luZGV4L2luZGV4LnNjc3M/NzJmZCIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL3BhZ2VzL0xvZ2luL0xvZ2luLnNjc3M/ZDEyNiIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL3N0eWxlc2hlZXRzL2luZGV4LnNjc3M/MjY3ZiIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL2ltYWdlcy82OTcuanBnIiwid2VicGFjazovLy8uL34vd2FybmluZy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL34vd2hhdHdnLWZldGNoL2ZldGNoLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcIlJlYWN0RE9NXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwibW9tZW50XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwidHJ1ZVwiIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJob3REb3dubG9hZFVwZGF0ZUNodW5rIiwiY2h1bmtJZCIsImhlYWQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwic2NyaXB0IiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJjaGFyc2V0Iiwic3JjIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInAiLCJob3RDdXJyZW50SGFzaCIsImFwcGVuZENoaWxkIiwiaG90RG93bmxvYWRNYW5pZmVzdCIsImNhbGxiYWNrIiwiWE1MSHR0cFJlcXVlc3QiLCJFcnJvciIsInJlcXVlc3QiLCJyZXF1ZXN0UGF0aCIsIm9wZW4iLCJ0aW1lb3V0Iiwic2VuZCIsImVyciIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJ1cGRhdGUiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJlIiwiaG90Q3JlYXRlUmVxdWlyZSIsIm1vZHVsZUlkIiwiZW5zdXJlIiwiaG90U3RhdHVzIiwiaG90U2V0U3RhdHVzIiwiaG90Q2h1bmtzTG9hZGluZyIsImZpbmlzaENodW5rTG9hZGluZyIsImhvdFdhaXRpbmdGaWxlc01hcCIsImhvdEVuc3VyZVVwZGF0ZUNodW5rIiwiaG90V2FpdGluZ0ZpbGVzIiwiaG90VXBkYXRlRG93bmxvYWRlZCIsImNhbGwiLCJmbiIsIm1lIiwiaW5zdGFsbGVkTW9kdWxlcyIsImhvdCIsImFjdGl2ZSIsInBhcmVudHMiLCJpbmRleE9mIiwicHVzaCIsImNoaWxkcmVuIiwiaG90Q3VycmVudFBhcmVudHMiLCJjb25zb2xlIiwid2FybiIsIm5hbWUiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbkRlZmluZVByb3BlcnR5IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwic2V0IiwidmFsdWUiLCJob3RDcmVhdGVNb2R1bGUiLCJfYWNjZXB0ZWREZXBlbmRlbmNpZXMiLCJfZGVjbGluZWREZXBlbmRlbmNpZXMiLCJfc2VsZkFjY2VwdGVkIiwiX3NlbGZEZWNsaW5lZCIsIl9kaXNwb3NlSGFuZGxlcnMiLCJhY2NlcHQiLCJkZXAiLCJpIiwibGVuZ3RoIiwiZGVjbGluZSIsImRpc3Bvc2UiLCJhZGREaXNwb3NlSGFuZGxlciIsInJlbW92ZURpc3Bvc2VIYW5kbGVyIiwiaWR4Iiwic3BsaWNlIiwiY2hlY2siLCJob3RDaGVjayIsImFwcGx5IiwiaG90QXBwbHkiLCJsIiwiaG90U3RhdHVzSGFuZGxlcnMiLCJhZGRTdGF0dXNIYW5kbGVyIiwicmVtb3ZlU3RhdHVzSGFuZGxlciIsImRhdGEiLCJob3RDdXJyZW50TW9kdWxlRGF0YSIsIm5ld1N0YXR1cyIsInRvTW9kdWxlSWQiLCJpZCIsImlzTnVtYmVyIiwiaG90QXBwbHlPblVwZGF0ZSIsImhvdFJlcXVlc3RlZEZpbGVzTWFwIiwiaG90QXZhaWxpYmxlRmlsZXNNYXAiLCJjIiwiaG90VXBkYXRlTmV3SGFzaCIsImgiLCJob3RDYWxsYmFjayIsImhvdFVwZGF0ZSIsImhvdEFkZFVwZGF0ZUNodW5rIiwibW9yZU1vZHVsZXMiLCJvdXRkYXRlZE1vZHVsZXMiLCJvcHRpb25zIiwiZ2V0QWZmZWN0ZWRTdHVmZiIsIm1vZHVsZSIsIm91dGRhdGVkRGVwZW5kZW5jaWVzIiwicXVldWUiLCJzbGljZSIsInBvcCIsInBhcmVudElkIiwicGFyZW50IiwiYWRkQWxsVG9TZXQiLCJhIiwiYiIsIml0ZW0iLCJhcHBsaWVkVXBkYXRlIiwicmVzdWx0IiwiaWdub3JlVW5hY2NlcHRlZCIsIm91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcyIsImVycm9ySGFuZGxlciIsImRpc3Bvc2VIYW5kbGVycyIsImoiLCJjYiIsImNoaWxkIiwibW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMiLCJkZXBlbmRlbmN5IiwiZXJyb3IiLCJjYWxsYmFja3MiLCJleHBvcnRzIiwibG9hZGVkIiwicGFyZW50SG90VXBkYXRlQ2FsbGJhY2siLCJ0aGlzIiwieCIsIm0iLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJjYWNoZWRTZXRUaW1lb3V0Iiwic2V0VGltZW91dCIsInJ1bkNsZWFyVGltZW91dCIsIm1hcmtlciIsImNhY2hlZENsZWFyVGltZW91dCIsImNsZWFyVGltZW91dCIsImNsZWFuVXBOZXh0VGljayIsImRyYWluaW5nIiwiY3VycmVudFF1ZXVlIiwiY29uY2F0IiwicXVldWVJbmRleCIsImRyYWluUXVldWUiLCJsZW4iLCJydW4iLCJJdGVtIiwiYXJyYXkiLCJub29wIiwicHJvY2VzcyIsIm5leHRUaWNrIiwiYXJncyIsIkFycmF5IiwiYXJndW1lbnRzIiwidGl0bGUiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJSZWFjdCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlcldhcm5pbmciLCJmYWxzZVRvV2FybiIsIm1lc3NhZ2UiLCJ3YXJuZWQiLCJfbGVuIiwiX2tleSIsIl93YXJuaW5nMiIsInVuZGVmaW5lZCIsIl9yZXNldFdhcm5lZCIsIl93YXJuaW5nIiwiaW52YXJpYW50IiwiY29uZGl0aW9uIiwiZm9ybWF0IiwiZCIsImYiLCJOT0RFX0VOViIsImFyZ0luZGV4IiwicmVwbGFjZSIsImZyYW1lc1RvUG9wIiwid2FybmluZyIsImtleSIsInRlc3QiLCJhbnRkIiwibGlzdCIsInRvU3RyaW5nIiwiam9pbiIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiaXNWYWxpZENoaWxkIiwib2JqZWN0IiwiX3JlYWN0MiIsImlzVmFsaWRFbGVtZW50IiwiaXNSZWFjdENoaWxkcmVuIiwiaXNBcnJheSIsImV2ZXJ5IiwiY3JlYXRlUm91dGUiLCJkZWZhdWx0UHJvcHMiLCJwcm9wcyIsIl9leHRlbmRzIiwiY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50IiwiZWxlbWVudCIsInJvdXRlIiwiY2hpbGRSb3V0ZXMiLCJjcmVhdGVSb3V0ZXNGcm9tUmVhY3RDaGlsZHJlbiIsInBhcmVudFJvdXRlIiwicm91dGVzIiwiQ2hpbGRyZW4iLCJmb3JFYWNoIiwiY3JlYXRlUm91dGVzIiwiYXNzaWduIiwidGFyZ2V0Iiwic291cmNlIiwiX3JlYWN0IiwiY3JlYXRlTWVtb3J5SGlzdG9yeSIsImhhc2hIaXN0b3J5IiwiYnJvd3Nlckhpc3RvcnkiLCJhcHBseVJvdXRlck1pZGRsZXdhcmUiLCJmb3JtYXRQYXR0ZXJuIiwidXNlUm91dGVySGlzdG9yeSIsIm1hdGNoIiwicm91dGVyU2hhcGUiLCJsb2NhdGlvblNoYXBlIiwiUHJvcFR5cGVzIiwiUm91dGluZ0NvbnRleHQiLCJSb3V0ZXJDb250ZXh0IiwidXNlUm91dGVzIiwiUm91dGVDb250ZXh0IiwiTGlmZWN5Y2xlIiwiSGlzdG9yeSIsIlJvdXRlIiwiUmVkaXJlY3QiLCJJbmRleFJvdXRlIiwiSW5kZXhSZWRpcmVjdCIsIndpdGhSb3V0ZXIiLCJJbmRleExpbmsiLCJMaW5rIiwiUm91dGVyIiwiX1JvdXRlVXRpbHMiLCJfUHJvcFR5cGVzMiIsIl9QYXR0ZXJuVXRpbHMiLCJfUm91dGVyMiIsIl9Sb3V0ZXIzIiwiX0xpbmsyIiwiX0xpbmszIiwiX0luZGV4TGluazIiLCJfSW5kZXhMaW5rMyIsIl93aXRoUm91dGVyMiIsIl93aXRoUm91dGVyMyIsIl9JbmRleFJlZGlyZWN0MiIsIl9JbmRleFJlZGlyZWN0MyIsIl9JbmRleFJvdXRlMiIsIl9JbmRleFJvdXRlMyIsIl9SZWRpcmVjdDIiLCJfUmVkaXJlY3QzIiwiX1JvdXRlMiIsIl9Sb3V0ZTMiLCJfSGlzdG9yeTIiLCJfSGlzdG9yeTMiLCJfTGlmZWN5Y2xlMiIsIl9MaWZlY3ljbGUzIiwiX1JvdXRlQ29udGV4dDIiLCJfUm91dGVDb250ZXh0MyIsIl91c2VSb3V0ZXMyIiwiX3VzZVJvdXRlczMiLCJfUm91dGVyQ29udGV4dDIiLCJfUm91dGVyQ29udGV4dDMiLCJfUm91dGluZ0NvbnRleHQyIiwiX1JvdXRpbmdDb250ZXh0MyIsIl9Qcm9wVHlwZXMzIiwiX21hdGNoMiIsIl9tYXRjaDMiLCJfdXNlUm91dGVySGlzdG9yeTIiLCJfdXNlUm91dGVySGlzdG9yeTMiLCJfYXBwbHlSb3V0ZXJNaWRkbGV3YXJlMiIsIl9hcHBseVJvdXRlck1pZGRsZXdhcmUzIiwiX2Jyb3dzZXJIaXN0b3J5MiIsIl9icm93c2VySGlzdG9yeTMiLCJfaGFzaEhpc3RvcnkyIiwiX2hhc2hIaXN0b3J5MyIsIl9jcmVhdGVNZW1vcnlIaXN0b3J5MiIsIl9jcmVhdGVNZW1vcnlIaXN0b3J5MyIsImFkZFN0eWxlc1RvRG9tIiwic3R5bGVzIiwiZG9tU3R5bGUiLCJzdHlsZXNJbkRvbSIsInJlZnMiLCJwYXJ0cyIsImFkZFN0eWxlIiwibGlzdFRvU3R5bGVzIiwibmV3U3R5bGVzIiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJwYXJ0IiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGVFbGVtZW50IiwiZ2V0SGVhZEVsZW1lbnQiLCJsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCIsInN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJjcmVhdGVMaW5rRWxlbWVudCIsImxpbmtFbGVtZW50IiwicmVsIiwicmVtb3ZlIiwic2luZ2xldG9uIiwic3R5bGVJbmRleCIsInNpbmdsZXRvbkNvdW50ZXIiLCJzaW5nbGV0b25FbGVtZW50IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsImJpbmQiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJCbG9iIiwiYnRvYSIsInVwZGF0ZUxpbmsiLCJocmVmIiwiYXBwbHlUb1RhZyIsIm5ld09iaiIsImluZGV4Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJyZXBsYWNlVGV4dCIsImNzc05vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImNoaWxkTm9kZXMiLCJzZXRBdHRyaWJ1dGUiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInN0cmluZ2lmeSIsImJsb2IiLCJvbGRTcmMiLCJtZW1vaXplIiwibWVtbyIsImlzT2xkSUUiLCJ3aW5kb3ciLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ0b0xvd2VyQ2FzZSIsIm5ld0xpc3QiLCJtYXlSZW1vdmUiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsIkJvb2xlYW4iLCJleHRyYWN0UGF0aCIsInN0cmluZyIsInN1YnN0cmluZyIsInBhcnNlUGF0aCIsInBhdGgiLCJwYXRobmFtZSIsInNlYXJjaCIsImhhc2giLCJoYXNoSW5kZXgiLCJzZWFyY2hJbmRleCIsImZhbHN5IiwicHJvcE5hbWUiLCJjb21wb25lbnROYW1lIiwiY29tcG9uZW50cyIsImNvbXBvbmVudCIsImhpc3RvcnkiLCJmdW5jIiwiYXJyYXlPZiIsIm9uZU9mVHlwZSIsInNoYXBlIiwibGlzdGVuIiwiaXNSZXF1aXJlZCIsImdvIiwiZ29CYWNrIiwiZ29Gb3J3YXJkIiwiUFVTSCIsIlJFUExBQ0UiLCJQT1AiLCJlc2NhcGVSZWdFeHAiLCJfY29tcGlsZVBhdHRlcm4iLCJwYXR0ZXJuIiwicmVnZXhwU291cmNlIiwicGFyYW1OYW1lcyIsInRva2VucyIsImxhc3RJbmRleCIsIm1hdGNoZXIiLCJleGVjIiwiY29tcGlsZVBhdHRlcm4iLCJDb21waWxlZFBhdHRlcm5zQ2FjaGUiLCJtYXRjaFBhdHRlcm4iLCJjaGFyQXQiLCJfY29tcGlsZVBhdHRlcm4yIiwiUmVnRXhwIiwibWF0Y2hlZFBhdGgiLCJyZW1haW5pbmdQYXRobmFtZSIsInN1YnN0ciIsInBhcmFtVmFsdWVzIiwibWFwIiwidiIsImRlY29kZVVSSUNvbXBvbmVudCIsImdldFBhcmFtTmFtZXMiLCJnZXRQYXJhbXMiLCJwYXJhbXMiLCJwYXJhbU5hbWUiLCJfY29tcGlsZVBhdHRlcm4zIiwicGFyZW5Db3VudCIsInNwbGF0SW5kZXgiLCJ0b2tlbiIsInBhcmFtVmFsdWUiLCJzcGxhdCIsIl9pbnZhcmlhbnQyIiwiZW5jb2RlVVJJIiwiX2ludmFyaWFudCIsImNyZWF0ZSIsImNhblVzZURPTSIsImRlZmF1bHRTdHJpbmdpZnlRdWVyeSIsInF1ZXJ5IiwiX3F1ZXJ5U3RyaW5nIiwiaXNOZXN0ZWRPYmplY3QiLCJ1c2VRdWVyaWVzIiwiY3JlYXRlSGlzdG9yeSIsImFkZFF1ZXJ5IiwibG9jYXRpb24iLCJwYXJzZVF1ZXJ5U3RyaW5nIiwiU0VBUkNIX0JBU0VfS0VZIiwic2VhcmNoQmFzZSIsImFwcGVuZFF1ZXJ5IiwiX2V4dGVuZHMyIiwic2VhcmNoQmFzZVNwZWMiLCJxdWVyeVN0cmluZyIsInN0cmluZ2lmeVF1ZXJ5IiwiX1BhdGhVdGlscyIsImxpc3RlbkJlZm9yZSIsImhvb2siLCJfcnVuVHJhbnNpdGlvbkhvb2syIiwibGlzdGVuZXIiLCJjcmVhdGVQYXRoIiwiY3JlYXRlSHJlZiIsImNyZWF0ZUxvY2F0aW9uIiwiZnVsbExvY2F0aW9uIiwicHVzaFN0YXRlIiwic3RhdGUiLCJyZXBsYWNlU3RhdGUiLCJkZWZhdWx0UGFyc2VRdWVyeVN0cmluZyIsIl9kZXByZWNhdGUyIiwiX3J1blRyYW5zaXRpb25Ib29rIiwiX2RlcHJlY2F0ZSIsInQiLCJyIiwibiIsIm8iLCJjb25uZWN0IiwiY29ubmVjdEFkdmFuY2VkIiwiUHJvdmlkZXIiLCJzIiwidSIsIlR5cGVFcnJvciIsIlJlZmVyZW5jZUVycm9yIiwiY29uc3RydWN0b3IiLCJ3cml0YWJsZSIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiZ2V0RGlzcGxheU5hbWUiLCJtZXRob2ROYW1lIiwicmVuZGVyQ291bnRQcm9wIiwiTyIsInciLCJzaG91bGRIYW5kbGVTdGF0ZUNoYW5nZXMiLCJnIiwiUyIsInN0b3JlS2V5IiwiVCIsIk0iLCJ3aXRoUmVmIiwiXyIsIkMiLCJFIiwiUCIsImluc3RhbmNlT2YiLCJ5IiwicSIsImRpc3BsYXlOYW1lIiwid3JhcHBlZENvbXBvbmVudE5hbWUiLCJXcmFwcGVkQ29tcG9uZW50IiwicmVuZGVyQ291bnQiLCJzdG9yZSIsImNvbnRleHQiLCJwYXJlbnRTdWIiLCJzZXRXcmFwcGVkSW5zdGFuY2UiLCJnZXRTdGF0ZSIsImluaXRTZWxlY3RvciIsImluaXRTdWJzY3JpcHRpb24iLCJnZXRDaGlsZENvbnRleHQiLCJzdWJzY3JpcHRpb24iLCJjb21wb25lbnREaWRNb3VudCIsInRyeVN1YnNjcmliZSIsInNlbGVjdG9yIiwic2hvdWxkQ29tcG9uZW50VXBkYXRlIiwiZm9yY2VVcGRhdGUiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJ0cnlVbnN1YnNjcmliZSIsImdldFdyYXBwZWRJbnN0YW5jZSIsIndyYXBwZWRJbnN0YW5jZSIsImRpc3BhdGNoIiwib25TdGF0ZUNoYW5nZSIsImNvbXBvbmVudERpZFVwZGF0ZSIsIm5vdGlmeU5lc3RlZFN1YnMiLCJzZXRTdGF0ZSIsImlzU3Vic2NyaWJlZCIsImFkZEV4dHJhUHJvcHMiLCJyZWYiLCJyZW5kZXIiLCJDb21wb25lbnQiLCJjaGlsZENvbnRleHRUeXBlcyIsImNvbnRleHRUeXBlcyIsInByb3BUeXBlcyIsImRlcGVuZHNPbk93blByb3BzIiwibWFwVG9Qcm9wcyIsIndyYXBNYXBUb1Byb3BzQ29uc3RhbnQiLCJnZXREZXBlbmRzT25Pd25Qcm9wcyIsIndyYXBNYXBUb1Byb3BzRnVuYyIsImNsZWFyIiwibm90aWZ5Iiwic3Vic2NyaWJlIiwidW5zdWJzY3JpYmUiLCJsaXN0ZW5lcnMiLCJhZGROZXN0ZWRTdWIiLCJTeW1ib2wiLCJzdG9yZVN1YnNjcmlwdGlvbiIsIm9ubHkiLCJjb25uZWN0SE9DIiwibWFwU3RhdGVUb1Byb3BzRmFjdG9yaWVzIiwibWFwRGlzcGF0Y2hUb1Byb3BzRmFjdG9yaWVzIiwibWVyZ2VQcm9wc0ZhY3RvcmllcyIsInNlbGVjdG9yRmFjdG9yeSIsInB1cmUiLCJhcmVTdGF0ZXNFcXVhbCIsImFyZU93blByb3BzRXF1YWwiLCJhcmVTdGF0ZVByb3BzRXF1YWwiLCJhcmVNZXJnZWRQcm9wc0VxdWFsIiwiaW5pdE1hcFN0YXRlVG9Qcm9wcyIsImluaXRNYXBEaXNwYXRjaFRvUHJvcHMiLCJpbml0TWVyZ2VQcm9wcyIsImNyZWF0ZUNvbm5lY3QiLCJiaW5kQWN0aW9uQ3JlYXRvcnMiLCJ3aGVuTWFwRGlzcGF0Y2hUb1Byb3BzSXNGdW5jdGlvbiIsIndoZW5NYXBEaXNwYXRjaFRvUHJvcHNJc01pc3NpbmciLCJ3aGVuTWFwRGlzcGF0Y2hUb1Byb3BzSXNPYmplY3QiLCJ3aGVuTWFwU3RhdGVUb1Byb3BzSXNGdW5jdGlvbiIsIndoZW5NYXBTdGF0ZVRvUHJvcHNJc01pc3NpbmciLCJkZWZhdWx0TWVyZ2VQcm9wcyIsIndyYXBNZXJnZVByb3BzRnVuYyIsIndoZW5NZXJnZVByb3BzSXNGdW5jdGlvbiIsIndoZW5NZXJnZVByb3BzSXNPbWl0dGVkIiwiaW1wdXJlRmluYWxQcm9wc1NlbGVjdG9yRmFjdG9yeSIsInB1cmVGaW5hbFByb3BzU2VsZWN0b3JGYWN0b3J5IiwiZ2V0RGVmYXVsdFByb3BzIiwibWl4aW5zIiwiY2FsbGVyIiwiYXJpdHkiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwidG9TdHJpbmdUYWciLCJGdW5jdGlvbiIsImdldFByb3RvdHlwZU9mIiwic2VsZiIsIl90eXBlb2YiLCJpdGVyYXRvciIsIl9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzIiwiX2RlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMyIiwiX2dldFJvdXRlUGFyYW1zIiwiX2dldFJvdXRlUGFyYW1zMiIsIl9yb3V0ZXJXYXJuaW5nIiwiX3JvdXRlcldhcm5pbmcyIiwiX1JlYWN0JFByb3BUeXBlcyIsImNyZWF0ZUNsYXNzIiwicm91dGVyIiwiX3Byb3BzIiwic2V0Um91dGVMZWF2ZUhvb2siLCJsaXN0ZW5CZWZvcmVMZWF2aW5nUm91dGUiLCJfdGhpcyIsIl9wcm9wczIiLCJyZWR1Y2VSaWdodCIsInJvdXRlUGFyYW1zIiwicHJvcCIsImVsZW1lbnRzIiwiY2FuVXNlTWVtYnJhbmUiLCJkZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzIiwibWVtYnJhbmUiLCJfbG9vcCIsIl9yZWR1eCIsIl9sb2dpbiIsInJvb3RSZWR1Y2VyIiwiY29tYmluZVJlZHVjZXJzIiwibG9naW4iLCJhZGRFdmVudExpc3RlbmVyIiwibm9kZSIsImV2ZW50IiwiYXR0YWNoRXZlbnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGV0YWNoRXZlbnQiLCJnZXRIYXNoUGF0aCIsInNwbGl0IiwicmVwbGFjZUhhc2hQYXRoIiwiZ2V0V2luZG93UGF0aCIsImdldFVzZXJDb25maXJtYXRpb24iLCJjb25maXJtIiwic3VwcG9ydHNIaXN0b3J5IiwidWEiLCJzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCIsImRlcHJlY2F0ZSIsInJ1blRyYW5zaXRpb25Ib29rIiwibG9vcEFzeW5jIiwidHVybnMiLCJ3b3JrIiwiZG9uZSIsImlzRG9uZSIsInN5bmMiLCJkb25lQXJncyIsIm5leHQiLCJoYXNOZXh0IiwiY3VycmVudFR1cm4iLCJtYXBBc3luYyIsInZhbHVlcyIsImRvbmVDb3VudCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX0ludGVybmFsUHJvcFR5cGVzIiwiSW50ZXJuYWxQcm9wVHlwZXMiLCJpc0FjdGl2ZSIsImFjdGlvbiIsImRlcHJlY2F0ZVByb3BUeXBlIiwicHJvcFR5cGUiLCJkZXByZWNhdGVJbnRlcm5hbFByb3BUeXBlIiwiZGVwcmVjYXRlUmVuYW1lZFByb3BUeXBlIiwiZGVmYXVsdEV4cG9ydCIsImhhc0FueVByb3BlcnRpZXMiLCJjcmVhdGVUcmFuc2l0aW9uTWFuYWdlciIsImluZGV4T25seU9yRGVwcmVjYXRlZFF1ZXJ5IiwiZGVwcmVjYXRlZEluZGV4T25seSIsImluZGV4T25seSIsIl9pc0FjdGl2ZTMiLCJwYXJ0aWFsTmV4dFN0YXRlIiwiZmluaXNoTWF0Y2giLCJfbWF0Y2hSb3V0ZXMyIiwibmV4dFN0YXRlIiwiZmluaXNoRW50ZXJIb29rcyIsInJlZGlyZWN0SW5mbyIsImhhbmRsZUVycm9yT3JSZWRpcmVjdCIsIl9nZXRDb21wb25lbnRzMiIsIl9jb21wdXRlQ2hhbmdlZFJvdXRlcyIsIl9jb21wdXRlQ2hhbmdlZFJvdXRlczMiLCJsZWF2ZVJvdXRlcyIsImNoYW5nZVJvdXRlcyIsImVudGVyUm91dGVzIiwiX1RyYW5zaXRpb25VdGlscyIsInJ1bkxlYXZlSG9va3MiLCJyZW1vdmVMaXN0ZW5CZWZvcmVIb29rc0ZvclJvdXRlIiwicnVuQ2hhbmdlSG9va3MiLCJydW5FbnRlckhvb2tzIiwiZ2V0Um91dGVJRCIsIl9faWRfXyIsIlJvdXRlR3VpZCIsImdldFJvdXRlSG9va3NGb3JSb3V0ZXMiLCJyZWR1Y2UiLCJob29rcyIsIlJvdXRlSG9va3MiLCJ0cmFuc2l0aW9uSG9vayIsImJlZm9yZVVubG9hZEhvb2siLCJyb3V0ZUlEIiwidW5saXN0ZW5CZWZvcmUiLCJ1bmxpc3RlbkJlZm9yZVVubG9hZCIsInRoZXJlV2VyZU5vUm91dGVIb29rcyIsImxpc3RlbkJlZm9yZVVubG9hZCIsIm5ld0hvb2tzIiwicmVkaXJlY3RMb2NhdGlvbiIsIl9jb21wdXRlQ2hhbmdlZFJvdXRlczIiLCJfaXNBY3RpdmUyIiwiX2dldENvbXBvbmVudHMiLCJfbWF0Y2hSb3V0ZXMiLCJjb21wb3NlIiwiYXBwbHlNaWRkbGV3YXJlIiwiY3JlYXRlU3RvcmUiLCJJTklUIiwicmVwbGFjZVJlZHVjZXIiLCJBY3Rpb25UeXBlcyIsImtleXMiLCJNYXRoIiwicmFuZG9tIiwib2JzZXJ2YWJsZSIsIlJFUVVFU1RfTE9HSU4iLCJSRUNFSVZFX0xPR0lOIiwiY3JlYXRlS2V5IiwiS2V5UHJlZml4Iiwic2F2ZVN0YXRlIiwic2Vzc2lvblN0b3JhZ2UiLCJyZW1vdmVJdGVtIiwic2V0SXRlbSIsIlNlY3VyaXR5RXJyb3IiLCJRdW90YUV4Y2VlZGVkRXJyb3JzIiwicmVhZFN0YXRlIiwianNvbiIsImdldEl0ZW0iLCJjcmVhdGVET01IaXN0b3J5IiwiX0V4ZWN1dGlvbkVudmlyb25tZW50IiwiX2NyZWF0ZUhpc3RvcnkyIiwiX0RPTVV0aWxzIiwiX2NyZWF0ZUhpc3RvcnkiLCJpc0Fic29sdXRlUGF0aCIsImVuc3VyZVNsYXNoIiwiYWRkUXVlcnlTdHJpbmdWYWx1ZVRvUGF0aCIsInN0cmlwUXVlcnlTdHJpbmdWYWx1ZUZyb21QYXRoIiwiZ2V0UXVlcnlTdHJpbmdWYWx1ZUZyb21QYXRoIiwiY3JlYXRlSGFzaEhpc3RvcnkiLCJnZXRDdXJyZW50TG9jYXRpb24iLCJxdWVyeUtleSIsIl9ET01TdGF0ZVN0b3JhZ2UiLCJzdGFydEhhc2hDaGFuZ2VMaXN0ZW5lciIsIl9yZWYiLCJoYXNoQ2hhbmdlTGlzdGVuZXIiLCJ0cmFuc2l0aW9uVG8iLCJmaW5pc2hUcmFuc2l0aW9uIiwiYmFzZW5hbWUiLCJfQWN0aW9ucyIsImN1cnJlbnRIYXNoIiwibGlzdGVuZXJDb3VudCIsInN0b3BIYXNoQ2hhbmdlTGlzdGVuZXIiLCJ1bmxpc3RlbiIsImdvSXNTdXBwb3J0ZWRXaXRob3V0UmVsb2FkIiwicmVnaXN0ZXJUcmFuc2l0aW9uSG9vayIsInVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vayIsIkRlZmF1bHRRdWVyeUtleSIsIl9jcmVhdGVET01IaXN0b3J5MiIsIl9jcmVhdGVET01IaXN0b3J5IiwiY3JlYXRlUmFuZG9tS2V5IiwibG9jYXRpb25zQXJlRXF1YWwiLCJfZGVlcEVxdWFsMiIsInRyYW5zaXRpb25Ib29rcyIsImdldEN1cnJlbnQiLCJwZW5kaW5nTG9jYXRpb24iLCJhbGxLZXlzIiwidXBkYXRlTG9jYXRpb24iLCJuZXdMb2NhdGlvbiIsImN1cnJlbnQiLCJjaGFuZ2VMaXN0ZW5lcnMiLCJfbG9jYXRpb24iLCJjb25maXJtVHJhbnNpdGlvblRvIiwiX0FzeW5jVXRpbHMiLCJvayIsIm5leHRMb2NhdGlvbiIsInByZXZQYXRoIiwibmV4dFBhdGgiLCJwcmV2SW5kZXgiLCJuZXh0SW5kZXgiLCJrZXlMZW5ndGgiLCJfY3JlYXRlTG9jYXRpb24zIiwidXBkYXRlTG9jYXRpb25TdGF0ZSIsIkRlZmF1bHRLZXlMZW5ndGgiLCJfZGVlcEVxdWFsIiwiX2NyZWF0ZUxvY2F0aW9uMiIsInVzZUJhc2VuYW1lIiwiY2hlY2tCYXNlSHJlZiIsImNoZWNrZWRCYXNlSHJlZiIsImJhc2UiLCJiYXNlSHJlZiIsImdldEF0dHJpYnV0ZSIsImFkZEJhc2VuYW1lIiwicHJlcGVuZEJhc2VuYW1lIiwicG5hbWUiLCJub3JtYWxpemVkQmFzZW5hbWUiLCJub3JtYWxpemVkUGF0aG5hbWUiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJpc0xlZnRDbGlja0V2ZW50IiwiYnV0dG9uIiwiaXNNb2RpZmllZEV2ZW50IiwibWV0YUtleSIsImFsdEtleSIsImN0cmxLZXkiLCJzaGlmdEtleSIsImlzRW1wdHlPYmplY3QiLCJjcmVhdGVMb2NhdGlvbkRlc2NyaXB0b3IiLCJ0byIsIl9Qcm9wVHlwZXMiLCJib29sIiwiYWN0aXZlU3R5bGUiLCJhY3RpdmVDbGFzc05hbWUiLCJvbmx5QWN0aXZlT25JbmRleCIsIm9uQ2xpY2siLCJzdHlsZSIsImhhbmRsZUNsaWNrIiwiZGVmYXVsdFByZXZlbnRlZCIsInByZXZlbnREZWZhdWx0IiwiY2xhc3NOYW1lIiwic3RhdGljcyIsImZyb20iLCJvbkVudGVyIiwicm91dGVJbmRleCIsInBhcmVudFBhdHRlcm4iLCJnZXRSb3V0ZVBhdHRlcm4iLCJjcmVhdGVSb3V0ZXJPYmplY3QiLCJ0cmFuc2l0aW9uTWFuYWdlciIsImNyZWF0ZVJvdXRpbmdIaXN0b3J5IiwibWVtb3J5SGlzdG9yeSIsIl91c2VRdWVyaWVzMiIsIl91c2VCYXNlbmFtZTIiLCJfX3YyX2NvbXBhdGlibGVfXyIsIl91c2VRdWVyaWVzIiwiX3VzZUJhc2VuYW1lIiwiX2NyZWF0ZU1lbW9yeUhpc3RvcnkiLCJfdXNlUm91dGVySGlzdG9yeSIsIm1ha2VTdGF0ZVdpdGhMb2NhdGlvbiIsInN0YXRlV2l0aExvY2F0aW9uIiwicmVwZWF0Iiwic3RyIiwidGltZXMiLCJwYWQiLCJudW0iLCJtYXhMZW5ndGgiLCJmb3JtYXRUaW1lIiwidGltZSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJnZXRNaWxsaXNlY29uZHMiLCJ0aW1lciIsInBlcmZvcm1hbmNlIiwibm93IiwiRGF0ZSIsImdldExvZ2luIiwiX2FudGQiLCJsb2FkaW5nIiwiX2xvZ2luMiIsImNvbmZpZyIsIl9BY3Rpb25zVHlwZXMiLCJfaXNvbW9ycGhpY0ZldGNoIiwiX2lzb21vcnBoaWNGZXRjaDIiLCJfcmVhY3RSb3V0ZXIiLCJzdWNjZXNzIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsIm1ldGhvZCIsImNyZWRlbnRpYWxzIiwiYm9keSIsInRoZW4iLCJyZXNwb25zZSIsImVyckNvZGUiLCJtc2ciLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVzY3JpcHRvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIkNmaWd1cmUiLCJfQ29tcG9uZW50IiwiQ2hhbm5lbCIsImZvbnRTaXplIiwiY29sb3IiLCJTaG93TGlzdCIsInRyZW5kc0xpc3QiLCJjb250ZW50IiwibmV3Q2xhc3NMaXN0IiwiaG90Q2xhc3NMaXN0IiwibWFyZ2luIiwiVGl0bGUiLCJfcmVhY3REb20iLCJfcmVhY3RSZWR1eCIsIl9jb25maWd1cmVTdG9yZSIsIl9jb25maWd1cmVTdG9yZTIiLCJfaW5kZXgiLCJfaW5kZXgyIiwiX2luZGV4MyIsIl9Mb2dpbiIsIl9Mb2dpbjIiLCJEYXNoYm9hcmRzIiwiZ2V0RWxlbWVudEJ5SWQiLCJfbW9tZW50IiwiX21vbWVudDIiLCJIb21lUGFnZSIsIl9UaXRsZSIsIl9UaXRsZTIiLCJfaW5kZXg0IiwiX2luZGV4NSIsIl9pbmRleDYiLCJTZWFyY2giLCJJbnB1dCIsIkluZGV4IiwiaGFuZGxlU2lnbiIsInBsYWNlaG9sZGVyIiwib25TZWFyY2giLCJsb2ciLCJCdXR0b24iLCJHcm91cCIsInNpemUiLCJJY29uIiwiX2RlZmluZVByb3BlcnR5IiwibWFwU3RhdGVUb1Byb3BzIiwiX2ZldGNoTG9naW5JbmZvIiwiTG9naW4iLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiaGFuZGxlUHJlc3NFbnRlciIsImRvY3VtZW50RWxlbWVudCIsImV2dCIsImtleUNvZGUiLCJoYW5kbGVTdWJtaXQiLCJlbWFpbCIsInB3ZCIsImZvcm1JdGVtTGF5b3V0IiwibGFiZWxDb2wiLCJzcGFuIiwid3JhcHBlckNvbCIsIkZvcm1JdGVtIiwiRm9ybSIsImhvcml6b250YWwiLCJsYWJlbCIsIm9uQ2hhbmdlIiwiaGFuZGxlQ2hhbmdlIiwib2Zmc2V0IiwiaW5pdGlhbFN0YXRlIiwiY29uZmlndXJlU3RvcmUiLCJfcmVkdWNlcnMyIiwiX3JlZHV4VGh1bmsyIiwiX3JlZHV4TG9nZ2VyMiIsIm5leHRSb290UmVkdWNlciIsIl9yZWR1eFRodW5rIiwiX3JlZHV4TG9nZ2VyIiwiX3JlZHVjZXJzIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fIiwiZ2xvYmFsIiwicm9vdCIsImZhY3RvcnkiLCJpbmhlcml0cyIsImN0b3IiLCJzdXBlckN0b3IiLCJzdXBlcl8iLCJEaWZmIiwia2luZCIsIkRpZmZFZGl0Iiwib3JpZ2luIiwiRGlmZk5ldyIsIkRpZmZEZWxldGVkIiwiRGlmZkFycmF5IiwiYXJyYXlSZW1vdmUiLCJhcnIiLCJyZXN0IiwicmVhbFR5cGVPZiIsInN1YmplY3QiLCJkZWVwRGlmZiIsImxocyIsInJocyIsImNoYW5nZXMiLCJwcmVmaWx0ZXIiLCJzdGFjayIsImN1cnJlbnRQYXRoIiwibm9ybWFsaXplIiwiYWx0IiwibHR5cGUiLCJydHlwZSIsImFrZXlzIiwicGtleXMiLCJrIiwib3RoZXIiLCJpc05hTiIsImFjY3VtdWxhdGVEaWZmIiwiYWNjdW0iLCJkaWZmIiwiYXBwbHlBcnJheUNoYW5nZSIsImNoYW5nZSIsIml0IiwiYXBwbHlDaGFuZ2UiLCJsYXN0IiwicmV2ZXJ0QXJyYXlDaGFuZ2UiLCJyZXZlcnRDaGFuZ2UiLCJhcHBseURpZmYiLCIkc2NvcGUiLCJjb25mbGljdCIsImNvbmZsaWN0UmVzb2x1dGlvbiIsIkRlZXBEaWZmIiwib2JzZXJ2YWJsZURpZmYiLCJpc0NvbmZsaWN0Iiwibm9Db25mbGljdCIsImlzVW5kZWZpbmVkT3JOdWxsIiwiaXNCdWZmZXIiLCJjb3B5Iiwib2JqRXF1aXYiLCJvcHRzIiwiaXNBcmd1bWVudHMiLCJwU2xpY2UiLCJkZWVwRXF1YWwiLCJrYSIsIm9iamVjdEtleXMiLCJrYiIsInNvcnQiLCJhY3R1YWwiLCJleHBlY3RlZCIsImdldFRpbWUiLCJzdHJpY3QiLCJzdXBwb3J0ZWQiLCJ1bnN1cHBvcnRlZCIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwic3VwcG9ydHNBcmd1bWVudHNDbGFzcyIsInNoaW0iLCJfc2xpY2UiLCJjcmVhdGVCcm93c2VySGlzdG9yeSIsImhpc3RvcnlTdGF0ZSIsIl9oaXN0b3J5U3RhdGUiLCJpc1N1cHBvcnRlZCIsInN0YXJ0UG9wU3RhdGVMaXN0ZW5lciIsInBvcFN0YXRlTGlzdGVuZXIiLCJ1c2VSZWZyZXNoIiwic3RvcFBvcFN0YXRlTGlzdGVuZXIiLCJmb3JjZVJlZnJlc2giLCJfZm91cnRoQXJnIiwiY3JlYXRlU3RhdGVTdG9yYWdlIiwiZW50cmllcyIsImVudHJ5Iiwic3RvcmFnZSIsImNhbkdvIiwiY3VycmVudExvY2F0aW9uIiwiX29wdGlvbnMiLCJSRUFDVF9TVEFUSUNTIiwiS05PV05fU1RBVElDUyIsImlzR2V0T3duUHJvcGVydHlTeW1ib2xzQXZhaWxhYmxlIiwidGFyZ2V0Q29tcG9uZW50Iiwic291cmNlQ29tcG9uZW50IiwiY3VzdG9tU3RhdGljcyIsImZldGNoIiwic3RyaWN0VXJpRW5jb2RlIiwiZXh0cmFjdCIsInRyaW0iLCJyZXQiLCJwYXJhbSIsInNoaWZ0IiwidmFsIiwidmFsMiIsImNvbXBvbmVudFdpbGxNb3VudCIsIl9MaW5rIiwiX1JlZGlyZWN0IiwiaW5kZXhSb3V0ZSIsImdldENvbXBvbmVudCIsImdldENvbXBvbmVudHMiLCJyb3V0ZXJXaWxsTGVhdmUiLCJfdW5saXN0ZW5CZWZvcmVMZWF2aW5nUm91dGUiLCJpc0RlcHJlY2F0ZWRIaXN0b3J5IiwiaXNVbnN1cHBvcnRlZEhpc3RvcnkiLCJfY3JlYXRlSGFzaEhpc3RvcnkiLCJfY3JlYXRlSGFzaEhpc3RvcnkyIiwiX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyIiwiX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyMiIsIl9Sb3V0ZXJDb250ZXh0IiwiX1JvdXRlclV0aWxzIiwib25FcnJvciIsIm9uVXBkYXRlIiwibWF0Y2hDb250ZXh0IiwiZ2V0SW5pdGlhbFN0YXRlIiwiaGFuZGxlRXJyb3IiLCJfY3JlYXRlUm91dGVyT2JqZWN0cyIsImNyZWF0ZVJvdXRlck9iamVjdHMiLCJfdW5saXN0ZW4iLCJ3cmFwRGVwcmVjYXRlZEhpc3RvcnkiLCJyb3V0aW5nSGlzdG9yeSIsIl9wcm9wczMiLCJuZXh0UHJvcHMiLCJfc3RhdGUiLCJfcHJvcHM0IiwiY3JlYXRlVHJhbnNpdGlvbkhvb2siLCJhc3luY0FyaXR5IiwiZ2V0RW50ZXJIb29rcyIsImdldENoYW5nZUhvb2tzIiwicnVuVHJhbnNpdGlvbkhvb2tzIiwiaXRlciIsImRlcHJlY2F0ZWRQYXRobmFtZSIsImRlcHJlY2F0ZWRRdWVyeSIsInByZXZTdGF0ZSIsIm9uTGVhdmUiLCJtaWRkbGV3YXJlcyIsIm1pZGRsZXdhcmUiLCJyZW5kZXJSb3V0ZXJDb250ZXh0IiwicmVuZGVyUm91dGVDb21wb25lbnQiLCJ3aXRoQ29udGV4dCIsIndpdGhDb21wb25lbnQiLCJtYWtlQ3JlYXRlRWxlbWVudCIsImJhc2VDcmVhdGVFbGVtZW50IiwicHJldmlvdXMiLCJyZW5kZXJQcm9wcyIsIl9jcmVhdGVCcm93c2VySGlzdG9yeSIsIl9jcmVhdGVCcm93c2VySGlzdG9yeTIiLCJfY3JlYXRlUm91dGVySGlzdG9yeSIsIl9jcmVhdGVSb3V0ZXJIaXN0b3J5MiIsInJvdXRlUGFyYW1zQ2hhbmdlZCIsInNvbWUiLCJjb21wdXRlQ2hhbmdlZFJvdXRlcyIsInByZXZSb3V0ZXMiLCJuZXh0Um91dGVzIiwicGFyZW50SXNMZWF2aW5nIiwiaXNMZWF2aW5nIiwicmV2ZXJzZSIsImlzTmV3IiwicGFyYW1zQ2hhbmdlZCIsImdldENvbXBvbmVudHNGb3JSb3V0ZSIsIm5leHRTdGF0ZVdpdGhMb2NhdGlvbiIsIl9tYWtlU3RhdGVXaXRoTG9jYXRpb24yIiwiX21ha2VTdGF0ZVdpdGhMb2NhdGlvbiIsImdldFJvdXRlUGFyYW1zIiwiU3RyaW5nIiwicGF0aElzQWN0aXZlIiwiY3VycmVudFBhdGhuYW1lIiwicm91dGVJc0FjdGl2ZSIsIm1hdGNoZWQiLCJxdWVyeUlzQWN0aXZlIiwiYWN0aXZlUXVlcnkiLCJoaXN0b3J5TG9jYXRpb24iLCJnZXRDaGlsZFJvdXRlcyIsImNyZWF0ZVBhcmFtcyIsInBhcnRpYWxOZXh0U3RhdGVXaXRoTG9jYXRpb24iLCJnZXRJbmRleFJvdXRlIiwicGF0aGxlc3MiLCJjaGlsZFJvdXRlIiwiYXNzaWduUGFyYW1zIiwibWF0Y2hSb3V0ZURlZXAiLCJfcmV0MiIsIl9tYXRjaCRyb3V0ZXMiLCJvbkNoaWxkUm91dGVzIiwibWF0Y2hSb3V0ZXMiLCJ1bnNoaWZ0IiwiV2l0aFJvdXRlciIsIl9ob2lzdE5vblJlYWN0U3RhdGljczIiLCJfaG9pc3ROb25SZWFjdFN0YXRpY3MiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIyIiwiZ2V0TG9nTGV2ZWwiLCJsZXZlbCIsInBheWxvYWQiLCJkZWZhdWx0VGl0bGVGb3JtYXR0ZXIiLCJ0aW1lc3RhbXAiLCJkdXJhdGlvbiIsInRvb2siLCJ0b0ZpeGVkIiwicHJpbnRCdWZmZXIiLCJidWZmZXIiLCJsb2dnZXIiLCJhY3Rpb25UcmFuc2Zvcm1lciIsIl9vcHRpb25zJHRpdGxlRm9ybWF0dCIsInRpdGxlRm9ybWF0dGVyIiwiY29sbGFwc2VkIiwiY29sb3JzIiwibG9nRW50cnkiLCJzdGFydGVkIiwic3RhcnRlZFRpbWUiLCJuZXh0RW50cnkiLCJmb3JtYXR0ZWRBY3Rpb24iLCJpc0NvbGxhcHNlZCIsImZvcm1hdHRlZFRpbWUiLCJfaGVscGVycyIsInRpdGxlQ1NTIiwiZ3JvdXBDb2xsYXBzZWQiLCJncm91cCIsInByZXZTdGF0ZUxldmVsIiwiYWN0aW9uTGV2ZWwiLCJlcnJvckxldmVsIiwibmV4dFN0YXRlTGV2ZWwiLCJfZGlmZjIiLCJncm91cEVuZCIsIl9kaWZmIiwibG9nRXJyb3JzIiwicHJlZGljYXRlIiwic3RhdGVUcmFuc2Zvcm1lciIsImVycm9yVHJhbnNmb3JtZXIiLCJkaWZmUHJlZGljYXRlIiwidHJhbnNmb3JtZXIiLCJkaWN0aW9uYXJ5IiwiZGlmZkxvZ2dlciIsIm5ld1N0YXRlIiwiX2RlZXBEaWZmMiIsImVsZW0iLCJvdXRwdXQiLCJ0ZXh0IiwiX2RlZXBEaWZmIiwiTiIsIkQiLCJBIiwiY3JlYXRlTG9nZ2VyIiwibG9nZ2VyT3B0aW9ucyIsIl9kZWZhdWx0czIiLCJsb2dCdWZmZXIiLCJyZXR1cm5lZFZhbHVlIiwiX2NvcmUiLCJfZGVmYXVsdHMiLCJjcmVhdGVUaHVua01pZGRsZXdhcmUiLCJleHRyYUFyZ3VtZW50IiwidGh1bmsiLCJ3aXRoRXh0cmFBcmd1bWVudCIsImNoYXJDb2RlQXQiLCJ0b1VwcGVyQ2FzZSIsImxvY2FscyIsIm5ld0NvbnRlbnQiLCJub3JtYWxpemVOYW1lIiwibm9ybWFsaXplVmFsdWUiLCJpdGVyYXRvckZvciIsIml0ZW1zIiwic3VwcG9ydCIsIml0ZXJhYmxlIiwiSGVhZGVycyIsImhlYWRlcnMiLCJjb25zdW1lZCIsImJvZHlVc2VkIiwiUHJvbWlzZSIsInJlamVjdCIsImZpbGVSZWFkZXJSZWFkeSIsInJlYWRlciIsInJlc29sdmUiLCJvbmxvYWQiLCJvbmVycm9yIiwicmVhZEJsb2JBc0FycmF5QnVmZmVyIiwiRmlsZVJlYWRlciIsInByb21pc2UiLCJyZWFkQXNBcnJheUJ1ZmZlciIsInJlYWRCbG9iQXNUZXh0IiwicmVhZEFzVGV4dCIsInJlYWRBcnJheUJ1ZmZlckFzVGV4dCIsImJ1ZiIsInZpZXciLCJVaW50OEFycmF5IiwiY2hhcnMiLCJmcm9tQ2hhckNvZGUiLCJidWZmZXJDbG9uZSIsImJ5dGVMZW5ndGgiLCJCb2R5IiwiX2luaXRCb2R5IiwiX2JvZHlJbml0IiwiX2JvZHlUZXh0IiwiaXNQcm90b3R5cGVPZiIsIl9ib2R5QmxvYiIsIl9ib2R5Rm9ybURhdGEiLCJzZWFyY2hQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJhcnJheUJ1ZmZlciIsImlzRGF0YVZpZXciLCJfYm9keUFycmF5QnVmZmVyIiwiQXJyYXlCdWZmZXIiLCJpc0FycmF5QnVmZmVyVmlldyIsInJlamVjdGVkIiwiZGVjb2RlIiwibm9ybWFsaXplTWV0aG9kIiwidXBjYXNlZCIsIm1ldGhvZHMiLCJSZXF1ZXN0IiwiaW5wdXQiLCJ1cmwiLCJtb2RlIiwicmVmZXJyZXIiLCJmb3JtIiwiYnl0ZXMiLCJwYXJzZUhlYWRlcnMiLCJyYXdIZWFkZXJzIiwibGluZSIsIlJlc3BvbnNlIiwiYm9keUluaXQiLCJzdGF0dXNUZXh0Iiwidmlld0NsYXNzZXMiLCJEYXRhVmlldyIsImlzVmlldyIsIm9sZFZhbHVlIiwiaGFzIiwidGhpc0FyZyIsImNsb25lIiwicmVkaXJlY3RTdGF0dXNlcyIsInJlZGlyZWN0IiwiUmFuZ2VFcnJvciIsImluaXQiLCJ4aHIiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJyZXNwb25zZVVSTCIsIm9udGltZW91dCIsIndpdGhDcmVkZW50aWFscyIsInJlc3BvbnNlVHlwZSIsInNldFJlcXVlc3RIZWFkZXIiLCJwb2x5ZmlsbCIsIlJlYWN0RE9NIiwibW9tZW50Il0sIm1hcHBpbmdzIjoiQ0FBUyxTQUFVQSxHQ09uQixRQUFBQyxHQUFBQyxHQUNBLEdBQUFDLEdBQUFDLFNBQUFDLHFCQUFBLFdBQ0FDLEVBQUFGLFNBQUFHLGNBQUEsU0FDQUQsR0FBQUUsS0FBQSxrQkFDQUYsRUFBQUcsUUFBQSxRQUNBSCxFQUFBSSxJQUFBQyxFQUFBQyxFQUFBLEdBQUFWLEVBQUEsSUFBQVcsRUFBQSxpQkFDQVYsRUFBQVcsWUFBQVIsR0FHQSxRQUFBUyxHQUFBQyxHQUNBLHNCQUFBQyxnQkFDQSxNQUFBRCxHQUFBLEdBQUFFLE9BQUEsc0JBQ0EsS0FDQSxHQUFBQyxHQUFBLEdBQUFGLGdCQUNBRyxFQUFBVCxFQUFBQyxFQUFBLEdBQUFDLEVBQUEsa0JBQ0FNLEdBQUFFLEtBQUEsTUFBQUQsR0FBQSxHQUNBRCxFQUFBRyxRQUFBLElBQ0FILEVBQUFJLEtBQUEsTUFDSSxNQUFBQyxHQUNKLE1BQUFSLEdBQUFRLEdBRUFMLEVBQUFNLG1CQUFBLFdBQ0EsT0FBQU4sRUFBQU8sV0FDQSxPQUFBUCxFQUFBUSxPQUVBWCxFQUFBLEdBQUFFLE9BQUEsdUJBQUFFLEVBQUEsb0JBQ0ssVUFBQUQsRUFBQVEsT0FFTFgsUUFDSyxVQUFBRyxFQUFBUSxRQUFBLE1BQUFSLEVBQUFRLE9BRUxYLEVBQUEsR0FBQUUsT0FBQSx1QkFBQUUsRUFBQSxpQkFDSyxDQUVMLElBQ0EsR0FBQVEsR0FBQUMsS0FBQUMsTUFBQVgsRUFBQVksY0FDTSxNQUFBQyxHQUVOLFdBREFoQixHQUFBZ0IsR0FHQWhCLEVBQUEsS0FBQVksS0F1QkEsUUFBQUssR0FBQUMsR0FzQ0EsUUFBQUMsR0FBQWpDLEVBQUFj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RUFBUXdCLEdpSC8zU3ZCeEIsRUFBQXdCLFFBQUFpcUMsUWpIcTRTTSxTQUFTenJDLEVBQVF3QixHa0hyNFN2QnhCLEVBQUF3QixTQUFBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0dmFyIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrID0gdGhpc1tcIndlYnBhY2tIb3RVcGRhdGVcIl07XG4vKioqKioqLyBcdHRoaXNbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdID0gXHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gd2VicGFja0hvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcclxuLyoqKioqKi8gXHRcdGlmKHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKSBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHR2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuLyoqKioqKi8gXHRcdHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xyXG4vKioqKioqLyBcdFx0c2NyaXB0LnR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiO1xyXG4vKioqKioqLyBcdFx0c2NyaXB0LmNoYXJzZXQgPSBcInV0Zi04XCI7XHJcbi8qKioqKiovIFx0XHRzY3JpcHQuc3JjID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGNodW5rSWQgKyBcIi5cIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc1wiO1xyXG4vKioqKioqLyBcdFx0aGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3REb3dubG9hZE1hbmlmZXN0KGNhbGxiYWNrKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdGlmKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gXCJ1bmRlZmluZWRcIilcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcihcIk5vIGJyb3dzZXIgc3VwcG9ydFwiKSk7XHJcbi8qKioqKiovIFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4vKioqKioqLyBcdFx0XHR2YXIgcmVxdWVzdFBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIjtcclxuLyoqKioqKi8gXHRcdFx0cmVxdWVzdC5vcGVuKFwiR0VUXCIsIHJlcXVlc3RQYXRoLCB0cnVlKTtcclxuLyoqKioqKi8gXHRcdFx0cmVxdWVzdC50aW1lb3V0ID0gMTAwMDA7XHJcbi8qKioqKiovIFx0XHRcdHJlcXVlc3Quc2VuZChudWxsKTtcclxuLyoqKioqKi8gXHRcdH0gY2F0Y2goZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdHJldHVybiBjYWxsYmFjayhlcnIpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYocmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSByZXR1cm47XHJcbi8qKioqKiovIFx0XHRcdGlmKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0Ly8gdGltZW91dFxyXG4vKioqKioqLyBcdFx0XHRcdGNhbGxiYWNrKG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIHRpbWVkIG91dC5cIikpO1xyXG4vKioqKioqLyBcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xyXG4vKioqKioqLyBcdFx0XHRcdC8vIG5vIHVwZGF0ZSBhdmFpbGFibGVcclxuLyoqKioqKi8gXHRcdFx0XHRjYWxsYmFjaygpO1xyXG4vKioqKioqLyBcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XHJcbi8qKioqKiovIFx0XHRcdFx0Ly8gb3RoZXIgZmFpbHVyZVxyXG4vKioqKioqLyBcdFx0XHRcdGNhbGxiYWNrKG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIGZhaWxlZC5cIikpO1xyXG4vKioqKioqLyBcdFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRcdC8vIHN1Y2Nlc3NcclxuLyoqKioqKi8gXHRcdFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIHVwZGF0ZSA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gY2F0Y2goZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2FsbGJhY2soZSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXR1cm47XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGNhbGxiYWNrKG51bGwsIHVwZGF0ZSk7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH07XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqL1xuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHQvLyBDb3BpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9iZWY0NWIwL3NyYy9zaGFyZWQvdXRpbHMvY2FuRGVmaW5lUHJvcGVydHkuanNcclxuLyoqKioqKi8gXHR2YXIgY2FuRGVmaW5lUHJvcGVydHkgPSBmYWxzZTtcclxuLyoqKioqKi8gXHR0cnkge1xyXG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCBcInhcIiwge1xyXG4vKioqKioqLyBcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge31cclxuLyoqKioqKi8gXHRcdH0pO1xyXG4vKioqKioqLyBcdFx0Y2FuRGVmaW5lUHJvcGVydHkgPSB0cnVlO1xyXG4vKioqKioqLyBcdH0gY2F0Y2goeCkge1xyXG4vKioqKioqLyBcdFx0Ly8gSUUgd2lsbCBmYWlsIG9uIGRlZmluZVByb3BlcnR5XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdHZhciBob3RBcHBseU9uVXBkYXRlID0gdHJ1ZTtcclxuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudEhhc2ggPSBcImM1ZTkzZWU2NmE0YzJkZWQ5MTRlXCI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudE1vZHVsZURhdGEgPSB7fTtcclxuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudFBhcmVudHMgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0dmFyIG1lID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRpZighbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xyXG4vKioqKioqLyBcdFx0dmFyIGZuID0gZnVuY3Rpb24ocmVxdWVzdCkge1xyXG4vKioqKioqLyBcdFx0XHRpZihtZS5ob3QuYWN0aXZlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpIDwgMClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLnB1c2gobW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA8IDApXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdG1lLmNoaWxkcmVuLnB1c2gocmVxdWVzdCk7XHJcbi8qKioqKiovIFx0XHRcdFx0fSBlbHNlIGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0XHRjb25zb2xlLndhcm4oXCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgKyByZXF1ZXN0ICsgXCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICsgbW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW107XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ocmVxdWVzdCk7XHJcbi8qKioqKiovIFx0XHR9O1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBuYW1lIGluIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoY2FuRGVmaW5lUHJvcGVydHkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgKGZ1bmN0aW9uKG5hbWUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0cmV0dXJuIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdID0gdmFsdWU7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fShuYW1lKSkpO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRmbltuYW1lXSA9IF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRmdW5jdGlvbiBlbnN1cmUoY2h1bmtJZCwgY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoaG90U3RhdHVzID09PSBcInJlYWR5XCIpXHJcbi8qKioqKiovIFx0XHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuLyoqKioqKi8gXHRcdFx0aG90Q2h1bmtzTG9hZGluZysrO1xyXG4vKioqKioqLyBcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmUoY2h1bmtJZCwgZnVuY3Rpb24oKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwobnVsbCwgZm4pO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gZmluYWxseSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRmaW5pc2hDaHVua0xvYWRpbmcoKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdFx0ZnVuY3Rpb24gZmluaXNoQ2h1bmtMb2FkaW5nKCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoaG90U3RhdHVzID09PSBcInByZXBhcmVcIikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighaG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0aWYoY2FuRGVmaW5lUHJvcGVydHkpIHtcclxuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBcImVcIiwge1xyXG4vKioqKioqLyBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcbi8qKioqKiovIFx0XHRcdFx0dmFsdWU6IGVuc3VyZVxyXG4vKioqKioqLyBcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdGZuLmUgPSBlbnN1cmU7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHRyZXR1cm4gZm47XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHR2YXIgaG90ID0ge1xyXG4vKioqKioqLyBcdFx0XHQvLyBwcml2YXRlIHN0dWZmXHJcbi8qKioqKiovIFx0XHRcdF9hY2NlcHRlZERlcGVuZGVuY2llczoge30sXHJcbi8qKioqKiovIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXHJcbi8qKioqKiovIFx0XHRcdF9zZWxmQWNjZXB0ZWQ6IGZhbHNlLFxyXG4vKioqKioqLyBcdFx0XHRfc2VsZkRlY2xpbmVkOiBmYWxzZSxcclxuLyoqKioqKi8gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIE1vZHVsZSBBUElcclxuLyoqKioqKi8gXHRcdFx0YWN0aXZlOiB0cnVlLFxyXG4vKioqKioqLyBcdFx0XHRhY2NlcHQ6IGZ1bmN0aW9uKGRlcCwgY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZih0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSBkZXA7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBbaV1dID0gY2FsbGJhY2s7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2s7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3QuX3NlbGZEZWNsaW5lZCA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm51bWJlclwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBdID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRlbHNlXHJcbi8qKioqKiovIFx0XHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRkaXNwb3NlOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRhZGREaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0cmVtb3ZlRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gTWFuYWdlbWVudCBBUElcclxuLyoqKioqKi8gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxyXG4vKioqKioqLyBcdFx0XHRhcHBseTogaG90QXBwbHksXHJcbi8qKioqKiovIFx0XHRcdHN0YXR1czogZnVuY3Rpb24obCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKCFsKSByZXR1cm4gaG90U3RhdHVzO1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGlkeCA9IGhvdFN0YXR1c0hhbmRsZXJzLmluZGV4T2YobCk7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaWR4ID49IDApIGhvdFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcclxuLyoqKioqKi8gXHRcdFx0ZGF0YTogaG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdXHJcbi8qKioqKiovIFx0XHR9O1xyXG4vKioqKioqLyBcdFx0cmV0dXJuIGhvdDtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0dmFyIGhvdFN0YXR1c0hhbmRsZXJzID0gW107XHJcbi8qKioqKiovIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdFNldFN0YXR1cyhuZXdTdGF0dXMpIHtcclxuLyoqKioqKi8gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBob3RTdGF0dXNIYW5kbGVycy5sZW5ndGg7IGkrKylcclxuLyoqKioqKi8gXHRcdFx0aG90U3RhdHVzSGFuZGxlcnNbaV0uY2FsbChudWxsLCBuZXdTdGF0dXMpO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHQvLyB3aGlsZSBkb3dubG9hZGluZ1xyXG4vKioqKioqLyBcdHZhciBob3RXYWl0aW5nRmlsZXMgPSAwO1xyXG4vKioqKioqLyBcdHZhciBob3RDaHVua3NMb2FkaW5nID0gMDtcclxuLyoqKioqKi8gXHR2YXIgaG90V2FpdGluZ0ZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdEF2YWlsaWJsZUZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdENhbGxiYWNrO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdC8vIFRoZSB1cGRhdGUgaW5mb1xyXG4vKioqKioqLyBcdHZhciBob3RVcGRhdGUsIGhvdFVwZGF0ZU5ld0hhc2g7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gdG9Nb2R1bGVJZChpZCkge1xyXG4vKioqKioqLyBcdFx0dmFyIGlzTnVtYmVyID0gKCtpZCkgKyBcIlwiID09PSBpZDtcclxuLyoqKioqKi8gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSwgY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdGlmKGhvdFN0YXR1cyAhPT0gXCJpZGxlXCIpIHRocm93IG5ldyBFcnJvcihcImNoZWNrKCkgaXMgb25seSBhbGxvd2VkIGluIGlkbGUgc3RhdHVzXCIpO1xyXG4vKioqKioqLyBcdFx0aWYodHlwZW9mIGFwcGx5ID09PSBcImZ1bmN0aW9uXCIpIHtcclxuLyoqKioqKi8gXHRcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGZhbHNlO1xyXG4vKioqKioqLyBcdFx0XHRjYWxsYmFjayA9IGFwcGx5O1xyXG4vKioqKioqLyBcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xyXG4vKioqKioqLyBcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGVycikgdGhyb3cgZXJyO1xyXG4vKioqKioqLyBcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwiY2hlY2tcIik7XHJcbi8qKioqKiovIFx0XHRob3REb3dubG9hZE1hbmlmZXN0KGZ1bmN0aW9uKGVyciwgdXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKGVycikgcmV0dXJuIGNhbGxiYWNrKGVycik7XHJcbi8qKioqKiovIFx0XHRcdGlmKCF1cGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xyXG4vKioqKioqLyBcdFx0XHRcdGNhbGxiYWNrKG51bGwsIG51bGwpO1xyXG4vKioqKioqLyBcdFx0XHRcdHJldHVybjtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdFx0XHRob3RBdmFpbGlibGVGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcclxuLyoqKioqKi8gXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHVwZGF0ZS5jLmxlbmd0aDsgaSsrKVxyXG4vKioqKioqLyBcdFx0XHRcdGhvdEF2YWlsaWJsZUZpbGVzTWFwW3VwZGF0ZS5jW2ldXSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdGhvdFVwZGF0ZU5ld0hhc2ggPSB1cGRhdGUuaDtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuLyoqKioqKi8gXHRcdFx0aG90Q2FsbGJhY2sgPSBjYWxsYmFjaztcclxuLyoqKioqKi8gXHRcdFx0aG90VXBkYXRlID0ge307XHJcbi8qKioqKiovIFx0XHRcdHZhciBjaHVua0lkID0gMDtcclxuLyoqKioqKi8gXHRcdFx0eyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWxvbmUtYmxvY2tzXHJcbi8qKioqKiovIFx0XHRcdFx0LypnbG9iYWxzIGNodW5rSWQgKi9cclxuLyoqKioqKi8gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRpZihob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9KTtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0aWYoIWhvdEF2YWlsaWJsZUZpbGVzTWFwW2NodW5rSWRdIHx8ICFob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSlcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuO1xyXG4vKioqKioqLyBcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSBmYWxzZTtcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RVcGRhdGVbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHRpZigtLWhvdFdhaXRpbmdGaWxlcyA9PT0gMCAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xyXG4vKioqKioqLyBcdFx0aWYoIWhvdEF2YWlsaWJsZUZpbGVzTWFwW2NodW5rSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xyXG4vKioqKioqLyBcdFx0XHRob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RVcGRhdGVEb3dubG9hZGVkKCkge1xyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XHJcbi8qKioqKiovIFx0XHR2YXIgY2FsbGJhY2sgPSBob3RDYWxsYmFjaztcclxuLyoqKioqKi8gXHRcdGhvdENhbGxiYWNrID0gbnVsbDtcclxuLyoqKioqKi8gXHRcdGlmKCFjYWxsYmFjaykgcmV0dXJuO1xyXG4vKioqKioqLyBcdFx0aWYoaG90QXBwbHlPblVwZGF0ZSkge1xyXG4vKioqKioqLyBcdFx0XHRob3RBcHBseShob3RBcHBseU9uVXBkYXRlLCBjYWxsYmFjayk7XHJcbi8qKioqKiovIFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XHJcbi8qKioqKiovIFx0XHRcdGZvcih2YXIgaWQgaW4gaG90VXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaCh0b01vZHVsZUlkKGlkKSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdGNhbGxiYWNrKG51bGwsIG91dGRhdGVkTW9kdWxlcyk7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdEFwcGx5KG9wdGlvbnMsIGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRpZihob3RTdGF0dXMgIT09IFwicmVhZHlcIikgdGhyb3cgbmV3IEVycm9yKFwiYXBwbHkoKSBpcyBvbmx5IGFsbG93ZWQgaW4gcmVhZHkgc3RhdHVzXCIpO1xyXG4vKioqKioqLyBcdFx0aWYodHlwZW9mIG9wdGlvbnMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4vKioqKioqLyBcdFx0XHRjYWxsYmFjayA9IG9wdGlvbnM7XHJcbi8qKioqKiovIFx0XHRcdG9wdGlvbnMgPSB7fTtcclxuLyoqKioqKi8gXHRcdH0gZWxzZSBpZihvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiKSB7XHJcbi8qKioqKiovIFx0XHRcdGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoZXJyKSB0aHJvdyBlcnI7XHJcbi8qKioqKiovIFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRvcHRpb25zID0ge307XHJcbi8qKioqKiovIFx0XHRcdGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoZXJyKSB0aHJvdyBlcnI7XHJcbi8qKioqKiovIFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZSkge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW21vZHVsZV07XHJcbi8qKioqKiovIFx0XHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcclxuLyoqKioqKi8gXHRcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZighbW9kdWxlIHx8IG1vZHVsZS5ob3QuX3NlbGZBY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKG1vZHVsZS5ob3QuX3NlbGZEZWNsaW5lZCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmV0dXJuIG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBvZiBzZWxmIGRlY2xpbmU6IFwiICsgbW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRpZihtb2R1bGVJZCA9PT0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmV0dXJuO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbW9kdWxlLnBhcmVudHMubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBwYXJlbnRJZCA9IG1vZHVsZS5wYXJlbnRzW2ldO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIHBhcmVudCA9IGluc3RhbGxlZE1vZHVsZXNbcGFyZW50SWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYocGFyZW50LmhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdHJldHVybiBuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2Ugb2YgZGVjbGluZWQgZGVwZW5kZW5jeTogXCIgKyBtb2R1bGVJZCArIFwiIGluIFwiICsgcGFyZW50SWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpID49IDApIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYocGFyZW50LmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0pXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdID0gW107XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHBhcmVudElkKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHF1ZXVlLnB1c2gocGFyZW50SWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gW291dGRhdGVkTW9kdWxlcywgb3V0ZGF0ZWREZXBlbmRlbmNpZXNdO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xyXG4vKioqKioqLyBcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBpdGVtID0gYltpXTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihhLmluZGV4T2YoaXRlbSkgPCAwKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0YS5wdXNoKGl0ZW0pO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxyXG4vKioqKioqLyBcdFx0Ly8gdGhlIFwib3V0ZGF0ZWRcIiBzdGF0dXMgY2FuIHByb3BhZ2F0ZSB0byBwYXJlbnRzIGlmIHRoZXkgZG9uJ3QgYWNjZXB0IHRoZSBjaGlsZHJlblxyXG4vKioqKioqLyBcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbi8qKioqKiovIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XHJcbi8qKioqKiovIFx0XHR2YXIgYXBwbGllZFVwZGF0ZSA9IHt9O1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIG1vZHVsZUlkID0gdG9Nb2R1bGVJZChpZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIHJlc3VsdCA9IGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKCFyZXN1bHQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKG9wdGlvbnMuaWdub3JlVW5hY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0Y29udGludWU7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiKSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGlmKHJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJldHVybiBjYWxsYmFjayhyZXN1bHQpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IGhvdFVwZGF0ZVttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHRbMF0pO1xyXG4vKioqKioqLyBcdFx0XHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gcmVzdWx0WzFdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVzdWx0WzFdLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0gPSBbXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdLCByZXN1bHRbMV1bbW9kdWxlSWRdKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIFN0b3JlIHNlbGYgYWNjZXB0ZWQgb3V0ZGF0ZWQgbW9kdWxlcyB0byByZXF1aXJlIHRoZW0gbGF0ZXIgYnkgdGhlIG1vZHVsZSBzeXN0ZW1cclxuLyoqKioqKi8gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBvdXRkYXRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG1vZHVsZUlkID0gb3V0ZGF0ZWRNb2R1bGVzW2ldO1xyXG4vKioqKioqLyBcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSAmJiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMucHVzaCh7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRtb2R1bGU6IG1vZHVsZUlkLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxyXG4vKioqKioqLyBcdFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gTm93IGluIFwiZGlzcG9zZVwiIHBoYXNlXHJcbi8qKioqKiovIFx0XHRob3RTZXRTdGF0dXMoXCJkaXNwb3NlXCIpO1xyXG4vKioqKioqLyBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbi8qKioqKiovIFx0XHR3aGlsZShxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbi8qKioqKiovIFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xyXG4vKioqKioqLyBcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdGlmKCFtb2R1bGUpIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHR2YXIgZGF0YSA9IHt9O1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyBDYWxsIGRpc3Bvc2UgaGFuZGxlcnNcclxuLyoqKioqKi8gXHRcdFx0dmFyIGRpc3Bvc2VIYW5kbGVycyA9IG1vZHVsZS5ob3QuX2Rpc3Bvc2VIYW5kbGVycztcclxuLyoqKioqKi8gXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGorKykge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBjYiA9IGRpc3Bvc2VIYW5kbGVyc1tqXTtcclxuLyoqKioqKi8gXHRcdFx0XHRjYihkYXRhKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF0gPSBkYXRhO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyBkaXNhYmxlIG1vZHVsZSAodGhpcyBkaXNhYmxlcyByZXF1aXJlcyBmcm9tIHRoaXMgbW9kdWxlKVxyXG4vKioqKioqLyBcdFx0XHRtb2R1bGUuaG90LmFjdGl2ZSA9IGZhbHNlO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyByZW1vdmUgbW9kdWxlIGZyb20gY2FjaGVcclxuLyoqKioqKi8gXHRcdFx0ZGVsZXRlIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyByZW1vdmUgXCJwYXJlbnRzXCIgcmVmZXJlbmNlcyBmcm9tIGFsbCBjaGlsZHJlblxyXG4vKioqKioqLyBcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgbW9kdWxlLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGNoaWxkID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGUuY2hpbGRyZW5bal1dO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKCFjaGlsZCkgY29udGludWU7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaWR4ID49IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNoaWxkLnBhcmVudHMuc3BsaWNlKGlkeCwgMSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaisrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIGlkeCA9IG1vZHVsZS5jaGlsZHJlbi5pbmRleE9mKGRlcGVuZGVuY3kpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoaWR4ID49IDApIG1vZHVsZS5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIE5vdCBpbiBcImFwcGx5XCIgcGhhc2VcclxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcImFwcGx5XCIpO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0aG90Q3VycmVudEhhc2ggPSBob3RVcGRhdGVOZXdIYXNoO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXHJcbi8qKioqKiovIFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIGFwcGxpZWRVcGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFwcGxpZWRVcGRhdGUsIG1vZHVsZUlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXHJcbi8qKioqKiovIFx0XHR2YXIgZXJyb3IgPSBudWxsO1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGNhbGxiYWNrcyA9IFtdO1xyXG4vKioqKioqLyBcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBjYiA9IG1vZHVsZS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcGVuZGVuY3ldO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoY2FsbGJhY2tzLmluZGV4T2YoY2IpID49IDApIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgY2IgPSBjYWxsYmFja3NbaV07XHJcbi8qKioqKiovIFx0XHRcdFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRjYihvdXRkYXRlZERlcGVuZGVuY2llcyk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9IGNhdGNoKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgaXRlbSA9IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlc1tpXTtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG1vZHVsZUlkID0gaXRlbS5tb2R1bGU7XHJcbi8qKioqKiovIFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0fSBjYXRjaChlcnIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZih0eXBlb2YgaXRlbS5lcnJvckhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFlcnJvcilcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9IGVsc2UgaWYoIWVycm9yKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIGhhbmRsZSBlcnJvcnMgaW4gYWNjZXB0IGhhbmRsZXJzIGFuZCBzZWxmIGFjY2VwdGVkIG1vZHVsZSBsb2FkXHJcbi8qKioqKiovIFx0XHRpZihlcnJvcikge1xyXG4vKioqKioqLyBcdFx0XHRob3RTZXRTdGF0dXMoXCJmYWlsXCIpO1xyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gY2FsbGJhY2soZXJyb3IpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcclxuLyoqKioqKi8gXHRcdGNhbGxiYWNrKG51bGwsIG91dGRhdGVkTW9kdWxlcyk7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0aG90OiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpLFxuLyoqKioqKi8gXHRcdFx0cGFyZW50czogaG90Q3VycmVudFBhcmVudHMsXG4vKioqKioqLyBcdFx0XHRjaGlsZHJlbjogW11cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL2Rpc3QvXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfaGFzaF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIGhvdENyZWF0ZVJlcXVpcmUoMCkoMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTYpO1xuXG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblx0dmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXHRcblx0Ly8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG5cdC8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuXHQvLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG5cdC8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cdFxuXHR2YXIgY2FjaGVkU2V0VGltZW91dDtcblx0dmFyIGNhY2hlZENsZWFyVGltZW91dDtcblx0XG5cdGZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcblx0fVxuXHRmdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG5cdH1cblx0KGZ1bmN0aW9uICgpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuXHQgICAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG5cdCAgICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG5cdCAgICB9XG5cdH0gKCkpXG5cdGZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG5cdCAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuXHQgICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuXHQgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG5cdCAgICB9XG5cdCAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuXHQgICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG5cdCAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG5cdCAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuXHQgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG5cdCAgICB9IGNhdGNoKGUpe1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG5cdCAgICAgICAgfSBjYXRjaChlKXtcblx0ICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3Jcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdFxuXHR9XG5cdGZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcblx0ICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuXHQgICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuXHQgICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcblx0ICAgIH1cblx0ICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcblx0ICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuXHQgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcblx0ICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3Ncblx0ICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9IGNhdGNoIChlKXtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuXHQgICAgICAgIH0gY2F0Y2ggKGUpe1xuXHQgICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cblx0ICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHRcblx0XG5cdH1cblx0dmFyIHF1ZXVlID0gW107XG5cdHZhciBkcmFpbmluZyA9IGZhbHNlO1xuXHR2YXIgY3VycmVudFF1ZXVlO1xuXHR2YXIgcXVldWVJbmRleCA9IC0xO1xuXHRcblx0ZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuXHQgICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuXHQgICAgfVxuXHQgICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgIGRyYWluUXVldWUoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcblx0ICAgIGlmIChkcmFpbmluZykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuXHQgICAgZHJhaW5pbmcgPSB0cnVlO1xuXHRcblx0ICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB3aGlsZShsZW4pIHtcblx0ICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcblx0ICAgICAgICBxdWV1ZSA9IFtdO1xuXHQgICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcblx0ICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuXHQgICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB9XG5cdCAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0fVxuXHRcblx0cHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcblx0ICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG5cdCAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuXHQgICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5cdGZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuXHQgICAgdGhpcy5mdW4gPSBmdW47XG5cdCAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG5cdH1cblx0SXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG5cdH07XG5cdHByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5cdHByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5cdHByb2Nlc3MuZW52ID0ge307XG5cdHByb2Nlc3MuYXJndiA9IFtdO1xuXHRwcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcblx0cHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHRwcm9jZXNzLm9uID0gbm9vcDtcblx0cHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3Mub25jZSA9IG5vb3A7XG5cdHByb2Nlc3Mub2ZmID0gbm9vcDtcblx0cHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcblx0cHJvY2Vzcy5lbWl0ID0gbm9vcDtcblx0XG5cdHByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdFxuXHRwcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xuXHRwcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0cHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBSZWFjdDtcblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHJvdXRlcldhcm5pbmc7XG5cdGV4cG9ydHMuX3Jlc2V0V2FybmVkID0gX3Jlc2V0V2FybmVkO1xuXHRcblx0dmFyIF93YXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDkpO1xuXHRcblx0dmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciB3YXJuZWQgPSB7fTtcblx0XG5cdGZ1bmN0aW9uIHJvdXRlcldhcm5pbmcoZmFsc2VUb1dhcm4sIG1lc3NhZ2UpIHtcblx0ICAvLyBPbmx5IGlzc3VlIGRlcHJlY2F0aW9uIHdhcm5pbmdzIG9uY2UuXG5cdCAgaWYgKG1lc3NhZ2UuaW5kZXhPZignZGVwcmVjYXRlZCcpICE9PSAtMSkge1xuXHQgICAgaWYgKHdhcm5lZFttZXNzYWdlXSkge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgd2FybmVkW21lc3NhZ2VdID0gdHJ1ZTtcblx0ICB9XG5cdFxuXHQgIG1lc3NhZ2UgPSAnW3JlYWN0LXJvdXRlcl0gJyArIG1lc3NhZ2U7XG5cdFxuXHQgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiA+IDIgPyBfbGVuIC0gMiA6IDApLCBfa2V5ID0gMjsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgYXJnc1tfa2V5IC0gMl0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgfVxuXHRcblx0ICBfd2FybmluZzIuZGVmYXVsdC5hcHBseSh1bmRlZmluZWQsIFtmYWxzZVRvV2FybiwgbWVzc2FnZV0uY29uY2F0KGFyZ3MpKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gX3Jlc2V0V2FybmVkKCkge1xuXHQgIHdhcm5lZCA9IHt9O1xuXHR9XG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgey8qKlxuXHQgKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuXHQgKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG5cdCAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuXHQgKi9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qKlxuXHQgKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG5cdCAqXG5cdCAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG5cdCAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuXHQgKiBleHBlY3RpbmcuXG5cdCAqXG5cdCAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG5cdCAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cblx0ICovXG5cdFxuXHR2YXIgaW52YXJpYW50ID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcblx0ICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGlmICghY29uZGl0aW9uKSB7XG5cdCAgICB2YXIgZXJyb3I7XG5cdCAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG5cdCAgICAgICAgJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgK1xuXHQgICAgICAgICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLidcblx0ICAgICAgKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuXHQgICAgICB2YXIgYXJnSW5kZXggPSAwO1xuXHQgICAgICBlcnJvciA9IG5ldyBFcnJvcihcblx0ICAgICAgICBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24oKSB7IHJldHVybiBhcmdzW2FyZ0luZGV4KytdOyB9KVxuXHQgICAgICApO1xuXHQgICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuXHQgICAgfVxuXHRcblx0ICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcblx0ICAgIHRocm93IGVycm9yO1xuXHQgIH1cblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50O1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkpKVxuXG4vKioqLyB9LFxuLyogNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKipcblx0ICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cblx0ICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuXHQgKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cblx0ICovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvKipcblx0ICogU2ltaWxhciB0byBpbnZhcmlhbnQgYnV0IG9ubHkgbG9ncyBhIHdhcm5pbmcgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuXHQgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG5cdCAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG5cdCAqIHNhbWUgbG9naWMgYW5kIGZvbGxvdyB0aGUgc2FtZSBjb2RlIHBhdGhzLlxuXHQgKi9cblx0XG5cdHZhciB3YXJuaW5nID0gZnVuY3Rpb24oKSB7fTtcblx0XG5cdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgd2FybmluZyA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhcmdzKSB7XG5cdCAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcblx0ICAgIGFyZ3MgPSBuZXcgQXJyYXkobGVuID4gMiA/IGxlbiAtIDIgOiAwKTtcblx0ICAgIGZvciAodmFyIGtleSA9IDI7IGtleSA8IGxlbjsga2V5KyspIHtcblx0ICAgICAgYXJnc1trZXkgLSAyXSA9IGFyZ3VtZW50c1trZXldO1xuXHQgICAgfVxuXHQgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcihcblx0ICAgICAgICAnYHdhcm5pbmcoY29uZGl0aW9uLCBmb3JtYXQsIC4uLmFyZ3MpYCByZXF1aXJlcyBhIHdhcm5pbmcgJyArXG5cdCAgICAgICAgJ21lc3NhZ2UgYXJndW1lbnQnXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGZvcm1hdC5sZW5ndGggPCAxMCB8fCAoL15bc1xcV10qJC8pLnRlc3QoZm9ybWF0KSkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoXG5cdCAgICAgICAgJ1RoZSB3YXJuaW5nIGZvcm1hdCBzaG91bGQgYmUgYWJsZSB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzICcgK1xuXHQgICAgICAgICd3YXJuaW5nLiBQbGVhc2UsIHVzZSBhIG1vcmUgZGVzY3JpcHRpdmUgZm9ybWF0IHRoYW46ICcgKyBmb3JtYXRcblx0ICAgICAgKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIWNvbmRpdGlvbikge1xuXHQgICAgICB2YXIgYXJnSW5kZXggPSAwO1xuXHQgICAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICtcblx0ICAgICAgICBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG5cdCAgICAgIH1cblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcblx0ICAgICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG5cdCAgICAgIH0gY2F0Y2goeCkge31cblx0ICAgIH1cblx0ICB9O1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHdhcm5pbmc7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKSkpXG5cbi8qKiovIH0sXG4vKiA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGFudGQ7XG5cbi8qKiovIH0sXG4vKiA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKlxyXG5cdFx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRcdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuXHQqL1xyXG5cdC8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXHJcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBsaXN0ID0gW107XHJcblx0XHJcblx0XHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXHJcblx0XHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XHJcblx0XHRcdHZhciByZXN1bHQgPSBbXTtcclxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgaXRlbSA9IHRoaXNbaV07XHJcblx0XHRcdFx0aWYoaXRlbVsyXSkge1xyXG5cdFx0XHRcdFx0cmVzdWx0LnB1c2goXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBpdGVtWzFdICsgXCJ9XCIpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRyZXN1bHQucHVzaChpdGVtWzFdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpO1xyXG5cdFx0fTtcclxuXHRcclxuXHRcdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XHJcblx0XHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XHJcblx0XHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxyXG5cdFx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcclxuXHRcdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcclxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xyXG5cdFx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcclxuXHRcdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xyXG5cdFx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcclxuXHRcdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xyXG5cdFx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXHJcblx0XHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcclxuXHRcdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xyXG5cdFx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xyXG5cdFx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XHJcblx0XHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHRyZXR1cm4gbGlzdDtcclxuXHR9O1xyXG5cblxuLyoqKi8gfSxcbi8qIDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0ZXhwb3J0cy5pc1JlYWN0Q2hpbGRyZW4gPSBpc1JlYWN0Q2hpbGRyZW47XG5cdGV4cG9ydHMuY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50ID0gY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50O1xuXHRleHBvcnRzLmNyZWF0ZVJvdXRlc0Zyb21SZWFjdENoaWxkcmVuID0gY3JlYXRlUm91dGVzRnJvbVJlYWN0Q2hpbGRyZW47XG5cdGV4cG9ydHMuY3JlYXRlUm91dGVzID0gY3JlYXRlUm91dGVzO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBpc1ZhbGlkQ2hpbGQob2JqZWN0KSB7XG5cdCAgcmV0dXJuIG9iamVjdCA9PSBudWxsIHx8IF9yZWFjdDIuZGVmYXVsdC5pc1ZhbGlkRWxlbWVudChvYmplY3QpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc1JlYWN0Q2hpbGRyZW4ob2JqZWN0KSB7XG5cdCAgcmV0dXJuIGlzVmFsaWRDaGlsZChvYmplY3QpIHx8IEFycmF5LmlzQXJyYXkob2JqZWN0KSAmJiBvYmplY3QuZXZlcnkoaXNWYWxpZENoaWxkKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlUm91dGUoZGVmYXVsdFByb3BzLCBwcm9wcykge1xuXHQgIHJldHVybiBfZXh0ZW5kcyh7fSwgZGVmYXVsdFByb3BzLCBwcm9wcyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudChlbGVtZW50KSB7XG5cdCAgdmFyIHR5cGUgPSBlbGVtZW50LnR5cGU7XG5cdCAgdmFyIHJvdXRlID0gY3JlYXRlUm91dGUodHlwZS5kZWZhdWx0UHJvcHMsIGVsZW1lbnQucHJvcHMpO1xuXHRcblx0ICBpZiAocm91dGUuY2hpbGRyZW4pIHtcblx0ICAgIHZhciBjaGlsZFJvdXRlcyA9IGNyZWF0ZVJvdXRlc0Zyb21SZWFjdENoaWxkcmVuKHJvdXRlLmNoaWxkcmVuLCByb3V0ZSk7XG5cdFxuXHQgICAgaWYgKGNoaWxkUm91dGVzLmxlbmd0aCkgcm91dGUuY2hpbGRSb3V0ZXMgPSBjaGlsZFJvdXRlcztcblx0XG5cdCAgICBkZWxldGUgcm91dGUuY2hpbGRyZW47XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gcm91dGU7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgcm91dGVzIG9iamVjdCBmcm9tIHRoZSBnaXZlbiBSZWFjdENoaWxkcmVuLiBKU1hcblx0ICogcHJvdmlkZXMgYSBjb252ZW5pZW50IHdheSB0byB2aXN1YWxpemUgaG93IHJvdXRlcyBpbiB0aGUgaGllcmFyY2h5IGFyZVxuXHQgKiBuZXN0ZWQuXG5cdCAqXG5cdCAqICAgaW1wb3J0IHsgUm91dGUsIGNyZWF0ZVJvdXRlc0Zyb21SZWFjdENoaWxkcmVuIH0gZnJvbSAncmVhY3Qtcm91dGVyJ1xuXHQgKlxuXHQgKiAgIGNvbnN0IHJvdXRlcyA9IGNyZWF0ZVJvdXRlc0Zyb21SZWFjdENoaWxkcmVuKFxuXHQgKiAgICAgPFJvdXRlIGNvbXBvbmVudD17QXBwfT5cblx0ICogICAgICAgPFJvdXRlIHBhdGg9XCJob21lXCIgY29tcG9uZW50PXtEYXNoYm9hcmR9Lz5cblx0ICogICAgICAgPFJvdXRlIHBhdGg9XCJuZXdzXCIgY29tcG9uZW50PXtOZXdzRmVlZH0vPlxuXHQgKiAgICAgPC9Sb3V0ZT5cblx0ICogICApXG5cdCAqXG5cdCAqIE5vdGU6IFRoaXMgbWV0aG9kIGlzIGF1dG9tYXRpY2FsbHkgdXNlZCB3aGVuIHlvdSBwcm92aWRlIDxSb3V0ZT4gY2hpbGRyZW5cblx0ICogdG8gYSA8Um91dGVyPiBjb21wb25lbnQuXG5cdCAqL1xuXHRmdW5jdGlvbiBjcmVhdGVSb3V0ZXNGcm9tUmVhY3RDaGlsZHJlbihjaGlsZHJlbiwgcGFyZW50Um91dGUpIHtcblx0ICB2YXIgcm91dGVzID0gW107XG5cdFxuXHQgIF9yZWFjdDIuZGVmYXVsdC5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAoZWxlbWVudCkge1xuXHQgICAgaWYgKF9yZWFjdDIuZGVmYXVsdC5pc1ZhbGlkRWxlbWVudChlbGVtZW50KSkge1xuXHQgICAgICAvLyBDb21wb25lbnQgY2xhc3NlcyBtYXkgaGF2ZSBhIHN0YXRpYyBjcmVhdGUqIG1ldGhvZC5cblx0ICAgICAgaWYgKGVsZW1lbnQudHlwZS5jcmVhdGVSb3V0ZUZyb21SZWFjdEVsZW1lbnQpIHtcblx0ICAgICAgICB2YXIgcm91dGUgPSBlbGVtZW50LnR5cGUuY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50KGVsZW1lbnQsIHBhcmVudFJvdXRlKTtcblx0XG5cdCAgICAgICAgaWYgKHJvdXRlKSByb3V0ZXMucHVzaChyb3V0ZSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcm91dGVzLnB1c2goY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50KGVsZW1lbnQpKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICByZXR1cm4gcm91dGVzO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiByb3V0ZXMgZnJvbSB0aGUgZ2l2ZW4gb2JqZWN0IHdoaWNoXG5cdCAqIG1heSBiZSBhIEpTWCByb3V0ZSwgYSBwbGFpbiBvYmplY3Qgcm91dGUsIG9yIGFuIGFycmF5IG9mIGVpdGhlci5cblx0ICovXG5cdGZ1bmN0aW9uIGNyZWF0ZVJvdXRlcyhyb3V0ZXMpIHtcblx0ICBpZiAoaXNSZWFjdENoaWxkcmVuKHJvdXRlcykpIHtcblx0ICAgIHJvdXRlcyA9IGNyZWF0ZVJvdXRlc0Zyb21SZWFjdENoaWxkcmVuKHJvdXRlcyk7XG5cdCAgfSBlbHNlIGlmIChyb3V0ZXMgJiYgIUFycmF5LmlzQXJyYXkocm91dGVzKSkge1xuXHQgICAgcm91dGVzID0gW3JvdXRlc107XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gcm91dGVzO1xuXHR9XG5cbi8qKiovIH0sXG4vKiA5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRleHBvcnRzLmNyZWF0ZU1lbW9yeUhpc3RvcnkgPSBleHBvcnRzLmhhc2hIaXN0b3J5ID0gZXhwb3J0cy5icm93c2VySGlzdG9yeSA9IGV4cG9ydHMuYXBwbHlSb3V0ZXJNaWRkbGV3YXJlID0gZXhwb3J0cy5mb3JtYXRQYXR0ZXJuID0gZXhwb3J0cy51c2VSb3V0ZXJIaXN0b3J5ID0gZXhwb3J0cy5tYXRjaCA9IGV4cG9ydHMucm91dGVyU2hhcGUgPSBleHBvcnRzLmxvY2F0aW9uU2hhcGUgPSBleHBvcnRzLlByb3BUeXBlcyA9IGV4cG9ydHMuUm91dGluZ0NvbnRleHQgPSBleHBvcnRzLlJvdXRlckNvbnRleHQgPSBleHBvcnRzLmNyZWF0ZVJvdXRlcyA9IGV4cG9ydHMudXNlUm91dGVzID0gZXhwb3J0cy5Sb3V0ZUNvbnRleHQgPSBleHBvcnRzLkxpZmVjeWNsZSA9IGV4cG9ydHMuSGlzdG9yeSA9IGV4cG9ydHMuUm91dGUgPSBleHBvcnRzLlJlZGlyZWN0ID0gZXhwb3J0cy5JbmRleFJvdXRlID0gZXhwb3J0cy5JbmRleFJlZGlyZWN0ID0gZXhwb3J0cy53aXRoUm91dGVyID0gZXhwb3J0cy5JbmRleExpbmsgPSBleHBvcnRzLkxpbmsgPSBleHBvcnRzLlJvdXRlciA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfUm91dGVVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2NyZWF0ZVJvdXRlcycsIHtcblx0ICBlbnVtZXJhYmxlOiB0cnVlLFxuXHQgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgcmV0dXJuIF9Sb3V0ZVV0aWxzLmNyZWF0ZVJvdXRlcztcblx0ICB9XG5cdH0pO1xuXHRcblx0dmFyIF9Qcm9wVHlwZXMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2xvY2F0aW9uU2hhcGUnLCB7XG5cdCAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgIHJldHVybiBfUHJvcFR5cGVzMi5sb2NhdGlvblNoYXBlO1xuXHQgIH1cblx0fSk7XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAncm91dGVyU2hhcGUnLCB7XG5cdCAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgIHJldHVybiBfUHJvcFR5cGVzMi5yb3V0ZXJTaGFwZTtcblx0ICB9XG5cdH0pO1xuXHRcblx0dmFyIF9QYXR0ZXJuVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZm9ybWF0UGF0dGVybicsIHtcblx0ICBlbnVtZXJhYmxlOiB0cnVlLFxuXHQgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgcmV0dXJuIF9QYXR0ZXJuVXRpbHMuZm9ybWF0UGF0dGVybjtcblx0ICB9XG5cdH0pO1xuXHRcblx0dmFyIF9Sb3V0ZXIyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MCk7XG5cdFxuXHR2YXIgX1JvdXRlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Sb3V0ZXIyKTtcblx0XG5cdHZhciBfTGluazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblx0XG5cdHZhciBfTGluazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MaW5rMik7XG5cdFxuXHR2YXIgX0luZGV4TGluazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc0KTtcblx0XG5cdHZhciBfSW5kZXhMaW5rMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0luZGV4TGluazIpO1xuXHRcblx0dmFyIF93aXRoUm91dGVyMiA9IF9fd2VicGFja19yZXF1aXJlX18oOTMpO1xuXHRcblx0dmFyIF93aXRoUm91dGVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dpdGhSb3V0ZXIyKTtcblx0XG5cdHZhciBfSW5kZXhSZWRpcmVjdDIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1KTtcblx0XG5cdHZhciBfSW5kZXhSZWRpcmVjdDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbmRleFJlZGlyZWN0Mik7XG5cdFxuXHR2YXIgX0luZGV4Um91dGUyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nik7XG5cdFxuXHR2YXIgX0luZGV4Um91dGUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW5kZXhSb3V0ZTIpO1xuXHRcblx0dmFyIF9SZWRpcmVjdDIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblx0XG5cdHZhciBfUmVkaXJlY3QzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVkaXJlY3QyKTtcblx0XG5cdHZhciBfUm91dGUyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3OCk7XG5cdFxuXHR2YXIgX1JvdXRlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JvdXRlMik7XG5cdFxuXHR2YXIgX0hpc3RvcnkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Myk7XG5cdFxuXHR2YXIgX0hpc3RvcnkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSGlzdG9yeTIpO1xuXHRcblx0dmFyIF9MaWZlY3ljbGUyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nyk7XG5cdFxuXHR2YXIgX0xpZmVjeWNsZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MaWZlY3ljbGUyKTtcblx0XG5cdHZhciBfUm91dGVDb250ZXh0MiA9IF9fd2VicGFja19yZXF1aXJlX18oNzkpO1xuXHRcblx0dmFyIF9Sb3V0ZUNvbnRleHQzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUm91dGVDb250ZXh0Mik7XG5cdFxuXHR2YXIgX3VzZVJvdXRlczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkyKTtcblx0XG5cdHZhciBfdXNlUm91dGVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VzZVJvdXRlczIpO1xuXHRcblx0dmFyIF9Sb3V0ZXJDb250ZXh0MiA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXHRcblx0dmFyIF9Sb3V0ZXJDb250ZXh0MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JvdXRlckNvbnRleHQyKTtcblx0XG5cdHZhciBfUm91dGluZ0NvbnRleHQyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MSk7XG5cdFxuXHR2YXIgX1JvdXRpbmdDb250ZXh0MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JvdXRpbmdDb250ZXh0Mik7XG5cdFxuXHR2YXIgX1Byb3BUeXBlczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Qcm9wVHlwZXMyKTtcblx0XG5cdHZhciBfbWF0Y2gyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MCk7XG5cdFxuXHR2YXIgX21hdGNoMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hdGNoMik7XG5cdFxuXHR2YXIgX3VzZVJvdXRlckhpc3RvcnkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHR2YXIgX3VzZVJvdXRlckhpc3RvcnkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXNlUm91dGVySGlzdG9yeTIpO1xuXHRcblx0dmFyIF9hcHBseVJvdXRlck1pZGRsZXdhcmUyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Myk7XG5cdFxuXHR2YXIgX2FwcGx5Um91dGVyTWlkZGxld2FyZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcHBseVJvdXRlck1pZGRsZXdhcmUyKTtcblx0XG5cdHZhciBfYnJvd3Nlckhpc3RvcnkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NCk7XG5cdFxuXHR2YXIgX2Jyb3dzZXJIaXN0b3J5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Jyb3dzZXJIaXN0b3J5Mik7XG5cdFxuXHR2YXIgX2hhc2hIaXN0b3J5MiA9IF9fd2VicGFja19yZXF1aXJlX18oODgpO1xuXHRcblx0dmFyIF9oYXNoSGlzdG9yeTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYXNoSGlzdG9yeTIpO1xuXHRcblx0dmFyIF9jcmVhdGVNZW1vcnlIaXN0b3J5MiA9IF9fd2VicGFja19yZXF1aXJlX18oNDUpO1xuXHRcblx0dmFyIF9jcmVhdGVNZW1vcnlIaXN0b3J5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZU1lbW9yeUhpc3RvcnkyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLlJvdXRlciA9IF9Sb3V0ZXIzLmRlZmF1bHQ7IC8qIGNvbXBvbmVudHMgKi9cblx0XG5cdGV4cG9ydHMuTGluayA9IF9MaW5rMy5kZWZhdWx0O1xuXHRleHBvcnRzLkluZGV4TGluayA9IF9JbmRleExpbmszLmRlZmF1bHQ7XG5cdGV4cG9ydHMud2l0aFJvdXRlciA9IF93aXRoUm91dGVyMy5kZWZhdWx0O1xuXHRcblx0LyogY29tcG9uZW50cyAoY29uZmlndXJhdGlvbikgKi9cblx0XG5cdGV4cG9ydHMuSW5kZXhSZWRpcmVjdCA9IF9JbmRleFJlZGlyZWN0My5kZWZhdWx0O1xuXHRleHBvcnRzLkluZGV4Um91dGUgPSBfSW5kZXhSb3V0ZTMuZGVmYXVsdDtcblx0ZXhwb3J0cy5SZWRpcmVjdCA9IF9SZWRpcmVjdDMuZGVmYXVsdDtcblx0ZXhwb3J0cy5Sb3V0ZSA9IF9Sb3V0ZTMuZGVmYXVsdDtcblx0XG5cdC8qIG1peGlucyAqL1xuXHRcblx0ZXhwb3J0cy5IaXN0b3J5ID0gX0hpc3RvcnkzLmRlZmF1bHQ7XG5cdGV4cG9ydHMuTGlmZWN5Y2xlID0gX0xpZmVjeWNsZTMuZGVmYXVsdDtcblx0ZXhwb3J0cy5Sb3V0ZUNvbnRleHQgPSBfUm91dGVDb250ZXh0My5kZWZhdWx0O1xuXHRcblx0LyogdXRpbHMgKi9cblx0XG5cdGV4cG9ydHMudXNlUm91dGVzID0gX3VzZVJvdXRlczMuZGVmYXVsdDtcblx0ZXhwb3J0cy5Sb3V0ZXJDb250ZXh0ID0gX1JvdXRlckNvbnRleHQzLmRlZmF1bHQ7XG5cdGV4cG9ydHMuUm91dGluZ0NvbnRleHQgPSBfUm91dGluZ0NvbnRleHQzLmRlZmF1bHQ7XG5cdGV4cG9ydHMuUHJvcFR5cGVzID0gX1Byb3BUeXBlczMuZGVmYXVsdDtcblx0ZXhwb3J0cy5tYXRjaCA9IF9tYXRjaDMuZGVmYXVsdDtcblx0ZXhwb3J0cy51c2VSb3V0ZXJIaXN0b3J5ID0gX3VzZVJvdXRlckhpc3RvcnkzLmRlZmF1bHQ7XG5cdGV4cG9ydHMuYXBwbHlSb3V0ZXJNaWRkbGV3YXJlID0gX2FwcGx5Um91dGVyTWlkZGxld2FyZTMuZGVmYXVsdDtcblx0XG5cdC8qIGhpc3RvcmllcyAqL1xuXHRcblx0ZXhwb3J0cy5icm93c2VySGlzdG9yeSA9IF9icm93c2VySGlzdG9yeTMuZGVmYXVsdDtcblx0ZXhwb3J0cy5oYXNoSGlzdG9yeSA9IF9oYXNoSGlzdG9yeTMuZGVmYXVsdDtcblx0ZXhwb3J0cy5jcmVhdGVNZW1vcnlIaXN0b3J5ID0gX2NyZWF0ZU1lbW9yeUhpc3RvcnkzLmRlZmF1bHQ7XG5cbi8qKiovIH0sXG4vKiAxMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LypcclxuXHRcdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblx0XHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcblx0Ki9cclxuXHR2YXIgc3R5bGVzSW5Eb20gPSB7fSxcclxuXHRcdG1lbW9pemUgPSBmdW5jdGlvbihmbikge1xyXG5cdFx0XHR2YXIgbWVtbztcclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRcdHJldHVybiBtZW1vO1xyXG5cdFx0XHR9O1xyXG5cdFx0fSxcclxuXHRcdGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gL21zaWUgWzYtOV1cXGIvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XHJcblx0XHR9KSxcclxuXHRcdGdldEhlYWRFbGVtZW50ID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuXHRcdH0pLFxyXG5cdFx0c2luZ2xldG9uRWxlbWVudCA9IG51bGwsXHJcblx0XHRzaW5nbGV0b25Db3VudGVyID0gMCxcclxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wID0gW107XHJcblx0XHJcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XHJcblx0XHRpZihmYWxzZSkge1xyXG5cdFx0XHRpZih0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcclxuXHRcdH1cclxuXHRcclxuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cdFx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XHJcblx0XHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXHJcblx0XHRpZiAodHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcclxuXHRcclxuXHRcdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiA8aGVhZD4uXHJcblx0XHRpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xyXG5cdFxyXG5cdFx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0KTtcclxuXHRcdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XHJcblx0XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcclxuXHRcdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XHJcblx0XHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xyXG5cdFx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZihuZXdMaXN0KSB7XHJcblx0XHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0KTtcclxuXHRcdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XHJcblx0XHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xyXG5cdFx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKVxyXG5cdFx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXSgpO1xyXG5cdFx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucykge1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcclxuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XHJcblx0XHRcdGlmKGRvbVN0eWxlKSB7XHJcblx0XHRcdFx0ZG9tU3R5bGUucmVmcysrO1xyXG5cdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dmFyIHBhcnRzID0gW107XHJcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCkge1xyXG5cdFx0dmFyIHN0eWxlcyA9IFtdO1xyXG5cdFx0dmFyIG5ld1N0eWxlcyA9IHt9O1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xyXG5cdFx0XHR2YXIgaWQgPSBpdGVtWzBdO1xyXG5cdFx0XHR2YXIgY3NzID0gaXRlbVsxXTtcclxuXHRcdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcclxuXHRcdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XHJcblx0XHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcclxuXHRcdFx0aWYoIW5ld1N0eWxlc1tpZF0pXHJcblx0XHRcdFx0c3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBzdHlsZXM7XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpIHtcclxuXHRcdHZhciBoZWFkID0gZ2V0SGVhZEVsZW1lbnQoKTtcclxuXHRcdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wW3N0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xyXG5cdFx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcclxuXHRcdFx0aWYoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XHJcblx0XHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBoZWFkLmZpcnN0Q2hpbGQpO1xyXG5cdFx0XHR9IGVsc2UgaWYobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcclxuXHRcdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdH1cclxuXHRcdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AucHVzaChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XHJcblx0XHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHRcdHZhciBpZHggPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlRWxlbWVudCk7XHJcblx0XHRpZihpZHggPj0gMCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcclxuXHRcdHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XHJcblx0XHRzdHlsZUVsZW1lbnQudHlwZSA9IFwidGV4dC9jc3NcIjtcclxuXHRcdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0cmV0dXJuIHN0eWxlRWxlbWVudDtcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucykge1xyXG5cdFx0dmFyIGxpbmtFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XHJcblx0XHRsaW5rRWxlbWVudC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcclxuXHRcdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rRWxlbWVudCk7XHJcblx0XHRyZXR1cm4gbGlua0VsZW1lbnQ7XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xyXG5cdFx0dmFyIHN0eWxlRWxlbWVudCwgdXBkYXRlLCByZW1vdmU7XHJcblx0XHJcblx0XHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcclxuXHRcdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XHJcblx0XHRcdHN0eWxlRWxlbWVudCA9IHNpbmdsZXRvbkVsZW1lbnQgfHwgKHNpbmdsZXRvbkVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xyXG5cdFx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCBmYWxzZSk7XHJcblx0XHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIHRydWUpO1xyXG5cdFx0fSBlbHNlIGlmKG9iai5zb3VyY2VNYXAgJiZcclxuXHRcdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XHJcblx0XHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0XHRpZihzdHlsZUVsZW1lbnQuaHJlZilcclxuXHRcdFx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGVFbGVtZW50LmhyZWYpO1xyXG5cdFx0XHR9O1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0cmVtb3ZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdH07XHJcblx0XHR9XHJcblx0XHJcblx0XHR1cGRhdGUob2JqKTtcclxuXHRcclxuXHRcdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcclxuXHRcdFx0aWYobmV3T2JqKSB7XHJcblx0XHRcdFx0aWYobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlbW92ZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHRcclxuXHR2YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIHRleHRTdG9yZSA9IFtdO1xyXG5cdFxyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcclxuXHRcdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xyXG5cdFx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcclxuXHRcdH07XHJcblx0fSkoKTtcclxuXHRcclxuXHRmdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlRWxlbWVudCwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XHJcblx0XHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XHJcblx0XHJcblx0XHRpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xyXG5cdFx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzO1xyXG5cdFx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XHJcblx0XHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xyXG5cdFx0XHRcdHN0eWxlRWxlbWVudC5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChjc3NOb2RlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlRWxlbWVudCwgb2JqKSB7XHJcblx0XHR2YXIgY3NzID0gb2JqLmNzcztcclxuXHRcdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcclxuXHRcclxuXHRcdGlmKG1lZGlhKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcclxuXHRcdH1cclxuXHRcclxuXHRcdGlmKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR3aGlsZShzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xyXG5cdFx0XHRcdHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XHJcblx0XHRcdH1cclxuXHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiB1cGRhdGVMaW5rKGxpbmtFbGVtZW50LCBvYmopIHtcclxuXHRcdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdFx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XHJcblx0XHJcblx0XHRpZihzb3VyY2VNYXApIHtcclxuXHRcdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcclxuXHRcdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xyXG5cdFx0fVxyXG5cdFxyXG5cdFx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XHJcblx0XHJcblx0XHR2YXIgb2xkU3JjID0gbGlua0VsZW1lbnQuaHJlZjtcclxuXHRcclxuXHRcdGxpbmtFbGVtZW50LmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG5cdFxyXG5cdFx0aWYob2xkU3JjKVxyXG5cdFx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XHJcblx0fVxyXG5cblxuLyoqKi8gfSxcbi8qIDExICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHMuZXh0cmFjdFBhdGggPSBleHRyYWN0UGF0aDtcblx0ZXhwb3J0cy5wYXJzZVBhdGggPSBwYXJzZVBhdGg7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXHRcblx0ZnVuY3Rpb24gZXh0cmFjdFBhdGgoc3RyaW5nKSB7XG5cdCAgdmFyIG1hdGNoID0gc3RyaW5nLm1hdGNoKC9eaHR0cHM/OlxcL1xcL1teXFwvXSovKTtcblx0XG5cdCAgaWYgKG1hdGNoID09IG51bGwpIHJldHVybiBzdHJpbmc7XG5cdFxuXHQgIHJldHVybiBzdHJpbmcuc3Vic3RyaW5nKG1hdGNoWzBdLmxlbmd0aCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHBhcnNlUGF0aChwYXRoKSB7XG5cdCAgdmFyIHBhdGhuYW1lID0gZXh0cmFjdFBhdGgocGF0aCk7XG5cdCAgdmFyIHNlYXJjaCA9ICcnO1xuXHQgIHZhciBoYXNoID0gJyc7XG5cdFxuXHQgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShwYXRoID09PSBwYXRobmFtZSwgJ0EgcGF0aCBtdXN0IGJlIHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaCBvbmx5LCBub3QgYSBmdWxseSBxdWFsaWZpZWQgVVJMIGxpa2UgXCIlc1wiJywgcGF0aCkgOiB1bmRlZmluZWQ7XG5cdFxuXHQgIHZhciBoYXNoSW5kZXggPSBwYXRobmFtZS5pbmRleE9mKCcjJyk7XG5cdCAgaWYgKGhhc2hJbmRleCAhPT0gLTEpIHtcblx0ICAgIGhhc2ggPSBwYXRobmFtZS5zdWJzdHJpbmcoaGFzaEluZGV4KTtcblx0ICAgIHBhdGhuYW1lID0gcGF0aG5hbWUuc3Vic3RyaW5nKDAsIGhhc2hJbmRleCk7XG5cdCAgfVxuXHRcblx0ICB2YXIgc2VhcmNoSW5kZXggPSBwYXRobmFtZS5pbmRleE9mKCc/Jyk7XG5cdCAgaWYgKHNlYXJjaEluZGV4ICE9PSAtMSkge1xuXHQgICAgc2VhcmNoID0gcGF0aG5hbWUuc3Vic3RyaW5nKHNlYXJjaEluZGV4KTtcblx0ICAgIHBhdGhuYW1lID0gcGF0aG5hbWUuc3Vic3RyaW5nKDAsIHNlYXJjaEluZGV4KTtcblx0ICB9XG5cdFxuXHQgIGlmIChwYXRobmFtZSA9PT0gJycpIHBhdGhuYW1lID0gJy8nO1xuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgcGF0aG5hbWU6IHBhdGhuYW1lLFxuXHQgICAgc2VhcmNoOiBzZWFyY2gsXG5cdCAgICBoYXNoOiBoYXNoXG5cdCAgfTtcblx0fVxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKSkpXG5cbi8qKiovIH0sXG4vKiAxMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0cy5yb3V0ZXMgPSBleHBvcnRzLnJvdXRlID0gZXhwb3J0cy5jb21wb25lbnRzID0gZXhwb3J0cy5jb21wb25lbnQgPSBleHBvcnRzLmhpc3RvcnkgPSB1bmRlZmluZWQ7XG5cdGV4cG9ydHMuZmFsc3kgPSBmYWxzeTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIGZ1bmMgPSBfcmVhY3QuUHJvcFR5cGVzLmZ1bmM7XG5cdHZhciBvYmplY3QgPSBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdDtcblx0dmFyIGFycmF5T2YgPSBfcmVhY3QuUHJvcFR5cGVzLmFycmF5T2Y7XG5cdHZhciBvbmVPZlR5cGUgPSBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZTtcblx0dmFyIGVsZW1lbnQgPSBfcmVhY3QuUHJvcFR5cGVzLmVsZW1lbnQ7XG5cdHZhciBzaGFwZSA9IF9yZWFjdC5Qcm9wVHlwZXMuc2hhcGU7XG5cdHZhciBzdHJpbmcgPSBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZztcblx0ZnVuY3Rpb24gZmFsc3kocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG5cdCAgaWYgKHByb3BzW3Byb3BOYW1lXSkgcmV0dXJuIG5ldyBFcnJvcignPCcgKyBjb21wb25lbnROYW1lICsgJz4gc2hvdWxkIG5vdCBoYXZlIGEgXCInICsgcHJvcE5hbWUgKyAnXCIgcHJvcCcpO1xuXHR9XG5cdFxuXHR2YXIgaGlzdG9yeSA9IGV4cG9ydHMuaGlzdG9yeSA9IHNoYXBlKHtcblx0ICBsaXN0ZW46IGZ1bmMuaXNSZXF1aXJlZCxcblx0ICBwdXNoOiBmdW5jLmlzUmVxdWlyZWQsXG5cdCAgcmVwbGFjZTogZnVuYy5pc1JlcXVpcmVkLFxuXHQgIGdvOiBmdW5jLmlzUmVxdWlyZWQsXG5cdCAgZ29CYWNrOiBmdW5jLmlzUmVxdWlyZWQsXG5cdCAgZ29Gb3J3YXJkOiBmdW5jLmlzUmVxdWlyZWRcblx0fSk7XG5cdFxuXHR2YXIgY29tcG9uZW50ID0gZXhwb3J0cy5jb21wb25lbnQgPSBvbmVPZlR5cGUoW2Z1bmMsIHN0cmluZ10pO1xuXHR2YXIgY29tcG9uZW50cyA9IGV4cG9ydHMuY29tcG9uZW50cyA9IG9uZU9mVHlwZShbY29tcG9uZW50LCBvYmplY3RdKTtcblx0dmFyIHJvdXRlID0gZXhwb3J0cy5yb3V0ZSA9IG9uZU9mVHlwZShbb2JqZWN0LCBlbGVtZW50XSk7XG5cdHZhciByb3V0ZXMgPSBleHBvcnRzLnJvdXRlcyA9IG9uZU9mVHlwZShbcm91dGUsIGFycmF5T2Yocm91dGUpXSk7XG5cbi8qKiovIH0sXG4vKiAxMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqXG5cdCAqIEluZGljYXRlcyB0aGF0IG5hdmlnYXRpb24gd2FzIGNhdXNlZCBieSBhIGNhbGwgdG8gaGlzdG9yeS5wdXNoLlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0dmFyIFBVU0ggPSAnUFVTSCc7XG5cdFxuXHRleHBvcnRzLlBVU0ggPSBQVVNIO1xuXHQvKipcblx0ICogSW5kaWNhdGVzIHRoYXQgbmF2aWdhdGlvbiB3YXMgY2F1c2VkIGJ5IGEgY2FsbCB0byBoaXN0b3J5LnJlcGxhY2UuXG5cdCAqL1xuXHR2YXIgUkVQTEFDRSA9ICdSRVBMQUNFJztcblx0XG5cdGV4cG9ydHMuUkVQTEFDRSA9IFJFUExBQ0U7XG5cdC8qKlxuXHQgKiBJbmRpY2F0ZXMgdGhhdCBuYXZpZ2F0aW9uIHdhcyBjYXVzZWQgYnkgc29tZSBvdGhlciBhY3Rpb24gc3VjaFxuXHQgKiBhcyB1c2luZyBhIGJyb3dzZXIncyBiYWNrL2ZvcndhcmQgYnV0dG9ucyBhbmQvb3IgbWFudWFsbHkgbWFuaXB1bGF0aW5nXG5cdCAqIHRoZSBVUkwgaW4gYSBicm93c2VyJ3MgbG9jYXRpb24gYmFyLiBUaGlzIGlzIHRoZSBkZWZhdWx0LlxuXHQgKlxuXHQgKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dpbmRvd0V2ZW50SGFuZGxlcnMvb25wb3BzdGF0ZVxuXHQgKiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblx0ICovXG5cdHZhciBQT1AgPSAnUE9QJztcblx0XG5cdGV4cG9ydHMuUE9QID0gUE9QO1xuXHRleHBvcnRzWydkZWZhdWx0J10gPSB7XG5cdCAgUFVTSDogUFVTSCxcblx0ICBSRVBMQUNFOiBSRVBMQUNFLFxuXHQgIFBPUDogUE9QXG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRleHBvcnRzLmNvbXBpbGVQYXR0ZXJuID0gY29tcGlsZVBhdHRlcm47XG5cdGV4cG9ydHMubWF0Y2hQYXR0ZXJuID0gbWF0Y2hQYXR0ZXJuO1xuXHRleHBvcnRzLmdldFBhcmFtTmFtZXMgPSBnZXRQYXJhbU5hbWVzO1xuXHRleHBvcnRzLmdldFBhcmFtcyA9IGdldFBhcmFtcztcblx0ZXhwb3J0cy5mb3JtYXRQYXR0ZXJuID0gZm9ybWF0UGF0dGVybjtcblx0XG5cdHZhciBfaW52YXJpYW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cmluZykge1xuXHQgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csICdcXFxcJCYnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gX2NvbXBpbGVQYXR0ZXJuKHBhdHRlcm4pIHtcblx0ICB2YXIgcmVnZXhwU291cmNlID0gJyc7XG5cdCAgdmFyIHBhcmFtTmFtZXMgPSBbXTtcblx0ICB2YXIgdG9rZW5zID0gW107XG5cdFxuXHQgIHZhciBtYXRjaCA9IHZvaWQgMCxcblx0ICAgICAgbGFzdEluZGV4ID0gMCxcblx0ICAgICAgbWF0Y2hlciA9IC86KFthLXpBLVpfJF1bYS16QS1aMC05XyRdKil8XFwqXFwqfFxcKnxcXCh8XFwpL2c7XG5cdCAgd2hpbGUgKG1hdGNoID0gbWF0Y2hlci5leGVjKHBhdHRlcm4pKSB7XG5cdCAgICBpZiAobWF0Y2guaW5kZXggIT09IGxhc3RJbmRleCkge1xuXHQgICAgICB0b2tlbnMucHVzaChwYXR0ZXJuLnNsaWNlKGxhc3RJbmRleCwgbWF0Y2guaW5kZXgpKTtcblx0ICAgICAgcmVnZXhwU291cmNlICs9IGVzY2FwZVJlZ0V4cChwYXR0ZXJuLnNsaWNlKGxhc3RJbmRleCwgbWF0Y2guaW5kZXgpKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAobWF0Y2hbMV0pIHtcblx0ICAgICAgcmVnZXhwU291cmNlICs9ICcoW14vXSspJztcblx0ICAgICAgcGFyYW1OYW1lcy5wdXNoKG1hdGNoWzFdKTtcblx0ICAgIH0gZWxzZSBpZiAobWF0Y2hbMF0gPT09ICcqKicpIHtcblx0ICAgICAgcmVnZXhwU291cmNlICs9ICcoLiopJztcblx0ICAgICAgcGFyYW1OYW1lcy5wdXNoKCdzcGxhdCcpO1xuXHQgICAgfSBlbHNlIGlmIChtYXRjaFswXSA9PT0gJyonKSB7XG5cdCAgICAgIHJlZ2V4cFNvdXJjZSArPSAnKC4qPyknO1xuXHQgICAgICBwYXJhbU5hbWVzLnB1c2goJ3NwbGF0Jyk7XG5cdCAgICB9IGVsc2UgaWYgKG1hdGNoWzBdID09PSAnKCcpIHtcblx0ICAgICAgcmVnZXhwU291cmNlICs9ICcoPzonO1xuXHQgICAgfSBlbHNlIGlmIChtYXRjaFswXSA9PT0gJyknKSB7XG5cdCAgICAgIHJlZ2V4cFNvdXJjZSArPSAnKT8nO1xuXHQgICAgfVxuXHRcblx0ICAgIHRva2Vucy5wdXNoKG1hdGNoWzBdKTtcblx0XG5cdCAgICBsYXN0SW5kZXggPSBtYXRjaGVyLmxhc3RJbmRleDtcblx0ICB9XG5cdFxuXHQgIGlmIChsYXN0SW5kZXggIT09IHBhdHRlcm4ubGVuZ3RoKSB7XG5cdCAgICB0b2tlbnMucHVzaChwYXR0ZXJuLnNsaWNlKGxhc3RJbmRleCwgcGF0dGVybi5sZW5ndGgpKTtcblx0ICAgIHJlZ2V4cFNvdXJjZSArPSBlc2NhcGVSZWdFeHAocGF0dGVybi5zbGljZShsYXN0SW5kZXgsIHBhdHRlcm4ubGVuZ3RoKSk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgcGF0dGVybjogcGF0dGVybixcblx0ICAgIHJlZ2V4cFNvdXJjZTogcmVnZXhwU291cmNlLFxuXHQgICAgcGFyYW1OYW1lczogcGFyYW1OYW1lcyxcblx0ICAgIHRva2VuczogdG9rZW5zXG5cdCAgfTtcblx0fVxuXHRcblx0dmFyIENvbXBpbGVkUGF0dGVybnNDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdFxuXHRmdW5jdGlvbiBjb21waWxlUGF0dGVybihwYXR0ZXJuKSB7XG5cdCAgaWYgKCFDb21waWxlZFBhdHRlcm5zQ2FjaGVbcGF0dGVybl0pIENvbXBpbGVkUGF0dGVybnNDYWNoZVtwYXR0ZXJuXSA9IF9jb21waWxlUGF0dGVybihwYXR0ZXJuKTtcblx0XG5cdCAgcmV0dXJuIENvbXBpbGVkUGF0dGVybnNDYWNoZVtwYXR0ZXJuXTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEF0dGVtcHRzIHRvIG1hdGNoIGEgcGF0dGVybiBvbiB0aGUgZ2l2ZW4gcGF0aG5hbWUuIFBhdHRlcm5zIG1heSB1c2Vcblx0ICogdGhlIGZvbGxvd2luZyBzcGVjaWFsIGNoYXJhY3RlcnM6XG5cdCAqXG5cdCAqIC0gOnBhcmFtTmFtZSAgICAgTWF0Y2hlcyBhIFVSTCBzZWdtZW50IHVwIHRvIHRoZSBuZXh0IC8sID8sIG9yICMuIFRoZVxuXHQgKiAgICAgICAgICAgICAgICAgIGNhcHR1cmVkIHN0cmluZyBpcyBjb25zaWRlcmVkIGEgXCJwYXJhbVwiXG5cdCAqIC0gKCkgICAgICAgICAgICAgV3JhcHMgYSBzZWdtZW50IG9mIHRoZSBVUkwgdGhhdCBpcyBvcHRpb25hbFxuXHQgKiAtICogICAgICAgICAgICAgIENvbnN1bWVzIChub24tZ3JlZWR5KSBhbGwgY2hhcmFjdGVycyB1cCB0byB0aGUgbmV4dFxuXHQgKiAgICAgICAgICAgICAgICAgIGNoYXJhY3RlciBpbiB0aGUgcGF0dGVybiwgb3IgdG8gdGhlIGVuZCBvZiB0aGUgVVJMIGlmXG5cdCAqICAgICAgICAgICAgICAgICAgdGhlcmUgaXMgbm9uZVxuXHQgKiAtICoqICAgICAgICAgICAgIENvbnN1bWVzIChncmVlZHkpIGFsbCBjaGFyYWN0ZXJzIHVwIHRvIHRoZSBuZXh0IGNoYXJhY3RlclxuXHQgKiAgICAgICAgICAgICAgICAgIGluIHRoZSBwYXR0ZXJuLCBvciB0byB0aGUgZW5kIG9mIHRoZSBVUkwgaWYgdGhlcmUgaXMgbm9uZVxuXHQgKlxuXHQgKiAgVGhlIGZ1bmN0aW9uIGNhbGxzIGNhbGxiYWNrKGVycm9yLCBtYXRjaGVkKSB3aGVuIGZpbmlzaGVkLlxuXHQgKiBUaGUgcmV0dXJuIHZhbHVlIGlzIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcblx0ICpcblx0ICogLSByZW1haW5pbmdQYXRobmFtZVxuXHQgKiAtIHBhcmFtTmFtZXNcblx0ICogLSBwYXJhbVZhbHVlc1xuXHQgKi9cblx0ZnVuY3Rpb24gbWF0Y2hQYXR0ZXJuKHBhdHRlcm4sIHBhdGhuYW1lKSB7XG5cdCAgLy8gRW5zdXJlIHBhdHRlcm4gc3RhcnRzIHdpdGggbGVhZGluZyBzbGFzaCBmb3IgY29uc2lzdGVuY3kgd2l0aCBwYXRobmFtZS5cblx0ICBpZiAocGF0dGVybi5jaGFyQXQoMCkgIT09ICcvJykge1xuXHQgICAgcGF0dGVybiA9ICcvJyArIHBhdHRlcm47XG5cdCAgfVxuXHRcblx0ICB2YXIgX2NvbXBpbGVQYXR0ZXJuMiA9IGNvbXBpbGVQYXR0ZXJuKHBhdHRlcm4pO1xuXHRcblx0ICB2YXIgcmVnZXhwU291cmNlID0gX2NvbXBpbGVQYXR0ZXJuMi5yZWdleHBTb3VyY2U7XG5cdCAgdmFyIHBhcmFtTmFtZXMgPSBfY29tcGlsZVBhdHRlcm4yLnBhcmFtTmFtZXM7XG5cdCAgdmFyIHRva2VucyA9IF9jb21waWxlUGF0dGVybjIudG9rZW5zO1xuXHRcblx0XG5cdCAgaWYgKHBhdHRlcm4uY2hhckF0KHBhdHRlcm4ubGVuZ3RoIC0gMSkgIT09ICcvJykge1xuXHQgICAgcmVnZXhwU291cmNlICs9ICcvPyc7IC8vIEFsbG93IG9wdGlvbmFsIHBhdGggc2VwYXJhdG9yIGF0IGVuZC5cblx0ICB9XG5cdFxuXHQgIC8vIFNwZWNpYWwtY2FzZSBwYXR0ZXJucyBsaWtlICcqJyBmb3IgY2F0Y2gtYWxsIHJvdXRlcy5cblx0ICBpZiAodG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXSA9PT0gJyonKSB7XG5cdCAgICByZWdleHBTb3VyY2UgKz0gJyQnO1xuXHQgIH1cblx0XG5cdCAgdmFyIG1hdGNoID0gcGF0aG5hbWUubWF0Y2gobmV3IFJlZ0V4cCgnXicgKyByZWdleHBTb3VyY2UsICdpJykpO1xuXHQgIGlmIChtYXRjaCA9PSBudWxsKSB7XG5cdCAgICByZXR1cm4gbnVsbDtcblx0ICB9XG5cdFxuXHQgIHZhciBtYXRjaGVkUGF0aCA9IG1hdGNoWzBdO1xuXHQgIHZhciByZW1haW5pbmdQYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cihtYXRjaGVkUGF0aC5sZW5ndGgpO1xuXHRcblx0ICBpZiAocmVtYWluaW5nUGF0aG5hbWUpIHtcblx0ICAgIC8vIFJlcXVpcmUgdGhhdCB0aGUgbWF0Y2ggZW5kcyBhdCBhIHBhdGggc2VwYXJhdG9yLCBpZiB3ZSBkaWRuJ3QgbWF0Y2hcblx0ICAgIC8vIHRoZSBmdWxsIHBhdGgsIHNvIGFueSByZW1haW5pbmcgcGF0aG5hbWUgaXMgYSBuZXcgcGF0aCBzZWdtZW50LlxuXHQgICAgaWYgKG1hdGNoZWRQYXRoLmNoYXJBdChtYXRjaGVkUGF0aC5sZW5ndGggLSAxKSAhPT0gJy8nKSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIElmIHRoZXJlIGlzIGEgcmVtYWluaW5nIHBhdGhuYW1lLCB0cmVhdCB0aGUgcGF0aCBzZXBhcmF0b3IgYXMgcGFydCBvZlxuXHQgICAgLy8gdGhlIHJlbWFpbmluZyBwYXRobmFtZSBmb3IgcHJvcGVybHkgY29udGludWluZyB0aGUgbWF0Y2guXG5cdCAgICByZW1haW5pbmdQYXRobmFtZSA9ICcvJyArIHJlbWFpbmluZ1BhdGhuYW1lO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHtcblx0ICAgIHJlbWFpbmluZ1BhdGhuYW1lOiByZW1haW5pbmdQYXRobmFtZSxcblx0ICAgIHBhcmFtTmFtZXM6IHBhcmFtTmFtZXMsXG5cdCAgICBwYXJhbVZhbHVlczogbWF0Y2guc2xpY2UoMSkubWFwKGZ1bmN0aW9uICh2KSB7XG5cdCAgICAgIHJldHVybiB2ICYmIGRlY29kZVVSSUNvbXBvbmVudCh2KTtcblx0ICAgIH0pXG5cdCAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0UGFyYW1OYW1lcyhwYXR0ZXJuKSB7XG5cdCAgcmV0dXJuIGNvbXBpbGVQYXR0ZXJuKHBhdHRlcm4pLnBhcmFtTmFtZXM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFBhcmFtcyhwYXR0ZXJuLCBwYXRobmFtZSkge1xuXHQgIHZhciBtYXRjaCA9IG1hdGNoUGF0dGVybihwYXR0ZXJuLCBwYXRobmFtZSk7XG5cdCAgaWYgKCFtYXRjaCkge1xuXHQgICAgcmV0dXJuIG51bGw7XG5cdCAgfVxuXHRcblx0ICB2YXIgcGFyYW1OYW1lcyA9IG1hdGNoLnBhcmFtTmFtZXM7XG5cdCAgdmFyIHBhcmFtVmFsdWVzID0gbWF0Y2gucGFyYW1WYWx1ZXM7XG5cdFxuXHQgIHZhciBwYXJhbXMgPSB7fTtcblx0XG5cdCAgcGFyYW1OYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbU5hbWUsIGluZGV4KSB7XG5cdCAgICBwYXJhbXNbcGFyYW1OYW1lXSA9IHBhcmFtVmFsdWVzW2luZGV4XTtcblx0ICB9KTtcblx0XG5cdCAgcmV0dXJuIHBhcmFtcztcblx0fVxuXHRcblx0LyoqXG5cdCAqIFJldHVybnMgYSB2ZXJzaW9uIG9mIHRoZSBnaXZlbiBwYXR0ZXJuIHdpdGggcGFyYW1zIGludGVycG9sYXRlZC4gVGhyb3dzXG5cdCAqIGlmIHRoZXJlIGlzIGEgZHluYW1pYyBzZWdtZW50IG9mIHRoZSBwYXR0ZXJuIGZvciB3aGljaCB0aGVyZSBpcyBubyBwYXJhbS5cblx0ICovXG5cdGZ1bmN0aW9uIGZvcm1hdFBhdHRlcm4ocGF0dGVybiwgcGFyYW1zKSB7XG5cdCAgcGFyYW1zID0gcGFyYW1zIHx8IHt9O1xuXHRcblx0ICB2YXIgX2NvbXBpbGVQYXR0ZXJuMyA9IGNvbXBpbGVQYXR0ZXJuKHBhdHRlcm4pO1xuXHRcblx0ICB2YXIgdG9rZW5zID0gX2NvbXBpbGVQYXR0ZXJuMy50b2tlbnM7XG5cdFxuXHQgIHZhciBwYXJlbkNvdW50ID0gMCxcblx0ICAgICAgcGF0aG5hbWUgPSAnJyxcblx0ICAgICAgc3BsYXRJbmRleCA9IDA7XG5cdFxuXHQgIHZhciB0b2tlbiA9IHZvaWQgMCxcblx0ICAgICAgcGFyYW1OYW1lID0gdm9pZCAwLFxuXHQgICAgICBwYXJhbVZhbHVlID0gdm9pZCAwO1xuXHQgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0b2tlbnMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcblx0ICAgIHRva2VuID0gdG9rZW5zW2ldO1xuXHRcblx0ICAgIGlmICh0b2tlbiA9PT0gJyonIHx8IHRva2VuID09PSAnKionKSB7XG5cdCAgICAgIHBhcmFtVmFsdWUgPSBBcnJheS5pc0FycmF5KHBhcmFtcy5zcGxhdCkgPyBwYXJhbXMuc3BsYXRbc3BsYXRJbmRleCsrXSA6IHBhcmFtcy5zcGxhdDtcblx0XG5cdCAgICAgICEocGFyYW1WYWx1ZSAhPSBudWxsIHx8IHBhcmVuQ291bnQgPiAwKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UsICdNaXNzaW5nIHNwbGF0ICMlcyBmb3IgcGF0aCBcIiVzXCInLCBzcGxhdEluZGV4LCBwYXR0ZXJuKSA6ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSkgOiB2b2lkIDA7XG5cdFxuXHQgICAgICBpZiAocGFyYW1WYWx1ZSAhPSBudWxsKSBwYXRobmFtZSArPSBlbmNvZGVVUkkocGFyYW1WYWx1ZSk7XG5cdCAgICB9IGVsc2UgaWYgKHRva2VuID09PSAnKCcpIHtcblx0ICAgICAgcGFyZW5Db3VudCArPSAxO1xuXHQgICAgfSBlbHNlIGlmICh0b2tlbiA9PT0gJyknKSB7XG5cdCAgICAgIHBhcmVuQ291bnQgLT0gMTtcblx0ICAgIH0gZWxzZSBpZiAodG9rZW4uY2hhckF0KDApID09PSAnOicpIHtcblx0ICAgICAgcGFyYW1OYW1lID0gdG9rZW4uc3Vic3RyaW5nKDEpO1xuXHQgICAgICBwYXJhbVZhbHVlID0gcGFyYW1zW3BhcmFtTmFtZV07XG5cdFxuXHQgICAgICAhKHBhcmFtVmFsdWUgIT0gbnVsbCB8fCBwYXJlbkNvdW50ID4gMCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlLCAnTWlzc2luZyBcIiVzXCIgcGFyYW1ldGVyIGZvciBwYXRoIFwiJXNcIicsIHBhcmFtTmFtZSwgcGF0dGVybikgOiAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UpIDogdm9pZCAwO1xuXHRcblx0ICAgICAgaWYgKHBhcmFtVmFsdWUgIT0gbnVsbCkgcGF0aG5hbWUgKz0gZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtVmFsdWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcGF0aG5hbWUgKz0gdG9rZW47XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gcGF0aG5hbWUucmVwbGFjZSgvXFwvKy9nLCAnLycpO1xuXHR9XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKSlcblxuLyoqKi8gfSxcbi8qIDE1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHR2YXIgY2FuVXNlRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcblx0ZXhwb3J0cy5jYW5Vc2VET00gPSBjYW5Vc2VET007XG5cbi8qKiovIH0sXG4vKiAxNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdHZhciBfd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cdFxuXHR2YXIgX3F1ZXJ5U3RyaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Mik7XG5cdFxuXHR2YXIgX3J1blRyYW5zaXRpb25Ib29rID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cdFxuXHR2YXIgX3J1blRyYW5zaXRpb25Ib29rMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3J1blRyYW5zaXRpb25Ib29rKTtcblx0XG5cdHZhciBfUGF0aFV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX2RlcHJlY2F0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xuXHRcblx0dmFyIF9kZXByZWNhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVwcmVjYXRlKTtcblx0XG5cdHZhciBTRUFSQ0hfQkFTRV9LRVkgPSAnJHNlYXJjaEJhc2UnO1xuXHRcblx0ZnVuY3Rpb24gZGVmYXVsdFN0cmluZ2lmeVF1ZXJ5KHF1ZXJ5KSB7XG5cdCAgcmV0dXJuIF9xdWVyeVN0cmluZy5zdHJpbmdpZnkocXVlcnkpLnJlcGxhY2UoLyUyMC9nLCAnKycpO1xuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdFBhcnNlUXVlcnlTdHJpbmcgPSBfcXVlcnlTdHJpbmcucGFyc2U7XG5cdFxuXHRmdW5jdGlvbiBpc05lc3RlZE9iamVjdChvYmplY3QpIHtcblx0ICBmb3IgKHZhciBwIGluIG9iamVjdCkge1xuXHQgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHApICYmIHR5cGVvZiBvYmplY3RbcF0gPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KG9iamVjdFtwXSkgJiYgb2JqZWN0W3BdICE9PSBudWxsKSByZXR1cm4gdHJ1ZTtcblx0ICB9cmV0dXJuIGZhbHNlO1xuXHR9XG5cdFxuXHQvKipcblx0ICogUmV0dXJucyBhIG5ldyBjcmVhdGVIaXN0b3J5IGZ1bmN0aW9uIHRoYXQgbWF5IGJlIHVzZWQgdG8gY3JlYXRlXG5cdCAqIGhpc3Rvcnkgb2JqZWN0cyB0aGF0IGtub3cgaG93IHRvIGhhbmRsZSBVUkwgcXVlcmllcy5cblx0ICovXG5cdGZ1bmN0aW9uIHVzZVF1ZXJpZXMoY3JlYXRlSGlzdG9yeSkge1xuXHQgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXHRcblx0ICAgIHZhciBoaXN0b3J5ID0gY3JlYXRlSGlzdG9yeShvcHRpb25zKTtcblx0XG5cdCAgICB2YXIgc3RyaW5naWZ5UXVlcnkgPSBvcHRpb25zLnN0cmluZ2lmeVF1ZXJ5O1xuXHQgICAgdmFyIHBhcnNlUXVlcnlTdHJpbmcgPSBvcHRpb25zLnBhcnNlUXVlcnlTdHJpbmc7XG5cdFxuXHQgICAgaWYgKHR5cGVvZiBzdHJpbmdpZnlRdWVyeSAhPT0gJ2Z1bmN0aW9uJykgc3RyaW5naWZ5UXVlcnkgPSBkZWZhdWx0U3RyaW5naWZ5UXVlcnk7XG5cdFxuXHQgICAgaWYgKHR5cGVvZiBwYXJzZVF1ZXJ5U3RyaW5nICE9PSAnZnVuY3Rpb24nKSBwYXJzZVF1ZXJ5U3RyaW5nID0gZGVmYXVsdFBhcnNlUXVlcnlTdHJpbmc7XG5cdFxuXHQgICAgZnVuY3Rpb24gYWRkUXVlcnkobG9jYXRpb24pIHtcblx0ICAgICAgaWYgKGxvY2F0aW9uLnF1ZXJ5ID09IG51bGwpIHtcblx0ICAgICAgICB2YXIgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoO1xuXHRcblx0ICAgICAgICBsb2NhdGlvbi5xdWVyeSA9IHBhcnNlUXVlcnlTdHJpbmcoc2VhcmNoLnN1YnN0cmluZygxKSk7XG5cdCAgICAgICAgbG9jYXRpb25bU0VBUkNIX0JBU0VfS0VZXSA9IHsgc2VhcmNoOiBzZWFyY2gsIHNlYXJjaEJhc2U6ICcnIH07XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIC8vIFRPRE86IEluc3RlYWQgb2YgYWxsIHRoZSBib29rLWtlZXBpbmcgaGVyZSwgdGhpcyBzaG91bGQganVzdCBzdHJpcCB0aGVcblx0ICAgICAgLy8gc3RyaW5naWZpZWQgcXVlcnkgZnJvbSB0aGUgc2VhcmNoLlxuXHRcblx0ICAgICAgcmV0dXJuIGxvY2F0aW9uO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIGFwcGVuZFF1ZXJ5KGxvY2F0aW9uLCBxdWVyeSkge1xuXHQgICAgICB2YXIgX2V4dGVuZHMyO1xuXHRcblx0ICAgICAgdmFyIHNlYXJjaEJhc2VTcGVjID0gbG9jYXRpb25bU0VBUkNIX0JBU0VfS0VZXTtcblx0ICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gcXVlcnkgPyBzdHJpbmdpZnlRdWVyeShxdWVyeSkgOiAnJztcblx0ICAgICAgaWYgKCFzZWFyY2hCYXNlU3BlYyAmJiAhcXVlcnlTdHJpbmcpIHtcblx0ICAgICAgICByZXR1cm4gbG9jYXRpb247XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShzdHJpbmdpZnlRdWVyeSAhPT0gZGVmYXVsdFN0cmluZ2lmeVF1ZXJ5IHx8ICFpc05lc3RlZE9iamVjdChxdWVyeSksICd1c2VRdWVyaWVzIGRvZXMgbm90IHN0cmluZ2lmeSBuZXN0ZWQgcXVlcnkgb2JqZWN0cyBieSBkZWZhdWx0OyAnICsgJ3VzZSBhIGN1c3RvbSBzdHJpbmdpZnlRdWVyeSBmdW5jdGlvbicpIDogdW5kZWZpbmVkO1xuXHRcblx0ICAgICAgaWYgKHR5cGVvZiBsb2NhdGlvbiA9PT0gJ3N0cmluZycpIGxvY2F0aW9uID0gX1BhdGhVdGlscy5wYXJzZVBhdGgobG9jYXRpb24pO1xuXHRcblx0ICAgICAgdmFyIHNlYXJjaEJhc2UgPSB1bmRlZmluZWQ7XG5cdCAgICAgIGlmIChzZWFyY2hCYXNlU3BlYyAmJiBsb2NhdGlvbi5zZWFyY2ggPT09IHNlYXJjaEJhc2VTcGVjLnNlYXJjaCkge1xuXHQgICAgICAgIHNlYXJjaEJhc2UgPSBzZWFyY2hCYXNlU3BlYy5zZWFyY2hCYXNlO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHNlYXJjaEJhc2UgPSBsb2NhdGlvbi5zZWFyY2ggfHwgJyc7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHZhciBzZWFyY2ggPSBzZWFyY2hCYXNlO1xuXHQgICAgICBpZiAocXVlcnlTdHJpbmcpIHtcblx0ICAgICAgICBzZWFyY2ggKz0gKHNlYXJjaCA/ICcmJyA6ICc/JykgKyBxdWVyeVN0cmluZztcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBsb2NhdGlvbiwgKF9leHRlbmRzMiA9IHtcblx0ICAgICAgICBzZWFyY2g6IHNlYXJjaFxuXHQgICAgICB9LCBfZXh0ZW5kczJbU0VBUkNIX0JBU0VfS0VZXSA9IHsgc2VhcmNoOiBzZWFyY2gsIHNlYXJjaEJhc2U6IHNlYXJjaEJhc2UgfSwgX2V4dGVuZHMyKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gT3ZlcnJpZGUgYWxsIHJlYWQgbWV0aG9kcyB3aXRoIHF1ZXJ5LWF3YXJlIHZlcnNpb25zLlxuXHQgICAgZnVuY3Rpb24gbGlzdGVuQmVmb3JlKGhvb2spIHtcblx0ICAgICAgcmV0dXJuIGhpc3RvcnkubGlzdGVuQmVmb3JlKGZ1bmN0aW9uIChsb2NhdGlvbiwgY2FsbGJhY2spIHtcblx0ICAgICAgICBfcnVuVHJhbnNpdGlvbkhvb2syWydkZWZhdWx0J10oaG9vaywgYWRkUXVlcnkobG9jYXRpb24pLCBjYWxsYmFjayk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuXHQgICAgICByZXR1cm4gaGlzdG9yeS5saXN0ZW4oZnVuY3Rpb24gKGxvY2F0aW9uKSB7XG5cdCAgICAgICAgbGlzdGVuZXIoYWRkUXVlcnkobG9jYXRpb24pKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gT3ZlcnJpZGUgYWxsIHdyaXRlIG1ldGhvZHMgd2l0aCBxdWVyeS1hd2FyZSB2ZXJzaW9ucy5cblx0ICAgIGZ1bmN0aW9uIHB1c2gobG9jYXRpb24pIHtcblx0ICAgICAgaGlzdG9yeS5wdXNoKGFwcGVuZFF1ZXJ5KGxvY2F0aW9uLCBsb2NhdGlvbi5xdWVyeSkpO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIHJlcGxhY2UobG9jYXRpb24pIHtcblx0ICAgICAgaGlzdG9yeS5yZXBsYWNlKGFwcGVuZFF1ZXJ5KGxvY2F0aW9uLCBsb2NhdGlvbi5xdWVyeSkpO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIGNyZWF0ZVBhdGgobG9jYXRpb24sIHF1ZXJ5KSB7XG5cdCAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXSghcXVlcnksICd0aGUgcXVlcnkgYXJndW1lbnQgdG8gY3JlYXRlUGF0aCBpcyBkZXByZWNhdGVkOyB1c2UgYSBsb2NhdGlvbiBkZXNjcmlwdG9yIGluc3RlYWQnKSA6IHVuZGVmaW5lZDtcblx0XG5cdCAgICAgIHJldHVybiBoaXN0b3J5LmNyZWF0ZVBhdGgoYXBwZW5kUXVlcnkobG9jYXRpb24sIHF1ZXJ5IHx8IGxvY2F0aW9uLnF1ZXJ5KSk7XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gY3JlYXRlSHJlZihsb2NhdGlvbiwgcXVlcnkpIHtcblx0ICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKCFxdWVyeSwgJ3RoZSBxdWVyeSBhcmd1bWVudCB0byBjcmVhdGVIcmVmIGlzIGRlcHJlY2F0ZWQ7IHVzZSBhIGxvY2F0aW9uIGRlc2NyaXB0b3IgaW5zdGVhZCcpIDogdW5kZWZpbmVkO1xuXHRcblx0ICAgICAgcmV0dXJuIGhpc3RvcnkuY3JlYXRlSHJlZihhcHBlbmRRdWVyeShsb2NhdGlvbiwgcXVlcnkgfHwgbG9jYXRpb24ucXVlcnkpKTtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBjcmVhdGVMb2NhdGlvbihsb2NhdGlvbikge1xuXHQgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIGZ1bGxMb2NhdGlvbiA9IGhpc3RvcnkuY3JlYXRlTG9jYXRpb24uYXBwbHkoaGlzdG9yeSwgW2FwcGVuZFF1ZXJ5KGxvY2F0aW9uLCBsb2NhdGlvbi5xdWVyeSldLmNvbmNhdChhcmdzKSk7XG5cdCAgICAgIGlmIChsb2NhdGlvbi5xdWVyeSkge1xuXHQgICAgICAgIGZ1bGxMb2NhdGlvbi5xdWVyeSA9IGxvY2F0aW9uLnF1ZXJ5O1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBhZGRRdWVyeShmdWxsTG9jYXRpb24pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIGRlcHJlY2F0ZWRcblx0ICAgIGZ1bmN0aW9uIHB1c2hTdGF0ZShzdGF0ZSwgcGF0aCwgcXVlcnkpIHtcblx0ICAgICAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykgcGF0aCA9IF9QYXRoVXRpbHMucGFyc2VQYXRoKHBhdGgpO1xuXHRcblx0ICAgICAgcHVzaChfZXh0ZW5kcyh7IHN0YXRlOiBzdGF0ZSB9LCBwYXRoLCB7IHF1ZXJ5OiBxdWVyeSB9KSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gZGVwcmVjYXRlZFxuXHQgICAgZnVuY3Rpb24gcmVwbGFjZVN0YXRlKHN0YXRlLCBwYXRoLCBxdWVyeSkge1xuXHQgICAgICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSBwYXRoID0gX1BhdGhVdGlscy5wYXJzZVBhdGgocGF0aCk7XG5cdFxuXHQgICAgICByZXBsYWNlKF9leHRlbmRzKHsgc3RhdGU6IHN0YXRlIH0sIHBhdGgsIHsgcXVlcnk6IHF1ZXJ5IH0pKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gX2V4dGVuZHMoe30sIGhpc3RvcnksIHtcblx0ICAgICAgbGlzdGVuQmVmb3JlOiBsaXN0ZW5CZWZvcmUsXG5cdCAgICAgIGxpc3RlbjogbGlzdGVuLFxuXHQgICAgICBwdXNoOiBwdXNoLFxuXHQgICAgICByZXBsYWNlOiByZXBsYWNlLFxuXHQgICAgICBjcmVhdGVQYXRoOiBjcmVhdGVQYXRoLFxuXHQgICAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLFxuXHQgICAgICBjcmVhdGVMb2NhdGlvbjogY3JlYXRlTG9jYXRpb24sXG5cdFxuXHQgICAgICBwdXNoU3RhdGU6IF9kZXByZWNhdGUyWydkZWZhdWx0J10ocHVzaFN0YXRlLCAncHVzaFN0YXRlIGlzIGRlcHJlY2F0ZWQ7IHVzZSBwdXNoIGluc3RlYWQnKSxcblx0ICAgICAgcmVwbGFjZVN0YXRlOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHJlcGxhY2VTdGF0ZSwgJ3JlcGxhY2VTdGF0ZSBpcyBkZXByZWNhdGVkOyB1c2UgcmVwbGFjZSBpbnN0ZWFkJylcblx0ICAgIH0pO1xuXHQgIH07XG5cdH1cblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IHVzZVF1ZXJpZXM7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKSkpXG5cbi8qKiovIH0sXG4vKiAxNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0IWZ1bmN0aW9uKHQsZSl7IHRydWU/bW9kdWxlLmV4cG9ydHM9ZShfX3dlYnBhY2tfcmVxdWlyZV9fKDIpLF9fd2VicGFja19yZXF1aXJlX18oMzUpKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcInJlYWN0XCIsXCJyZWR1eFwiXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLlJlYWN0UmVkdXg9ZShyZXF1aXJlKFwicmVhY3RcIikscmVxdWlyZShcInJlZHV4XCIpKTp0LlJlYWN0UmVkdXg9ZSh0LlJlYWN0LHQuUmVkdXgpfSh0aGlzLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7aWYobltyXSlyZXR1cm4gbltyXS5leHBvcnRzO3ZhciBvPW5bcl09e2V4cG9ydHM6e30saWQ6cixsb2FkZWQ6ITF9O3JldHVybiB0W3JdLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLGUpLG8ubG9hZGVkPSEwLG8uZXhwb3J0c312YXIgbj17fTtyZXR1cm4gZS5tPXQsZS5jPW4sZS5wPVwiXCIsZSgwKX0oW2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1lLl9fZXNNb2R1bGU9ITAsZS5jb25uZWN0PWUuY29ubmVjdEFkdmFuY2VkPWUuUHJvdmlkZXI9dm9pZCAwO3ZhciBvPW4oOSksaT1yKG8pLHM9bigzKSx1PXIocyksYT1uKDEwKSxwPXIoYSk7ZS5Qcm92aWRlcj1pLmRlZmF1bHQsZS5jb25uZWN0QWR2YW5jZWQ9dS5kZWZhdWx0LGUuY29ubmVjdD1wLmRlZmF1bHR9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgY29uc29sZS5lcnJvciYmY29uc29sZS5lcnJvcih0KTt0cnl7dGhyb3cgRXJyb3IodCl9Y2F0Y2godCl7fX1lLl9fZXNNb2R1bGU9ITAsZS5kZWZhdWx0PW59LGZ1bmN0aW9uKGUsbil7ZS5leHBvcnRzPXR9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBvKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBpKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gcyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfWZ1bmN0aW9uIHUodCxlKXt2YXIgbj17fTtmb3IodmFyIHIgaW4gdCllLmluZGV4T2Yocik8MCYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihuW3JdPXRbcl0pO3JldHVybiBufWZ1bmN0aW9uIGEodCl7dmFyIGUsbixyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxhPXIuZ2V0RGlzcGxheU5hbWUsYz12b2lkIDA9PT1hP2Z1bmN0aW9uKHQpe3JldHVyblwiQ29ubmVjdEFkdmFuY2VkKFwiK3QrXCIpXCJ9OmEsZD1yLm1ldGhvZE5hbWUsdj12b2lkIDA9PT1kP1wiY29ubmVjdEFkdmFuY2VkXCI6ZCxiPXIucmVuZGVyQ291bnRQcm9wLE89dm9pZCAwPT09Yj92b2lkIDA6Yix3PXIuc2hvdWxkSGFuZGxlU3RhdGVDaGFuZ2VzLGc9dm9pZCAwPT09d3x8dyxTPXIuc3RvcmVLZXksVD12b2lkIDA9PT1TP1wic3RvcmVcIjpTLE09ci53aXRoUmVmLF89dm9pZCAwIT09TSYmTSx4PXUocixbXCJnZXREaXNwbGF5TmFtZVwiLFwibWV0aG9kTmFtZVwiLFwicmVuZGVyQ291bnRQcm9wXCIsXCJzaG91bGRIYW5kbGVTdGF0ZUNoYW5nZXNcIixcInN0b3JlS2V5XCIsXCJ3aXRoUmVmXCJdKSxDPVQrXCJTdWJzY3JpcHRpb25cIixqPW0rKyxFPShlPXt9LGVbVF09UC5kZWZhdWx0LGVbQ109aC5Qcm9wVHlwZXMuaW5zdGFuY2VPZih5LmRlZmF1bHQpLGUpLHE9KG49e30sbltDXT1oLlByb3BUeXBlcy5pbnN0YW5jZU9mKHkuZGVmYXVsdCksbik7cmV0dXJuIGZ1bmN0aW9uKGUpeygwLGwuZGVmYXVsdCkoXCJmdW5jdGlvblwiPT10eXBlb2YgZSxcIllvdSBtdXN0IHBhc3MgYSBjb21wb25lbnQgdG8gdGhlIGZ1bmN0aW9uIHJldHVybmVkIGJ5IGNvbm5lY3QuIEluc3RlYWQgcmVjZWl2ZWQgXCIrZSk7dmFyIG49ZS5kaXNwbGF5TmFtZXx8ZS5uYW1lfHxcIkNvbXBvbmVudFwiLHI9YyhuKSx1PXAoe30seCx7Z2V0RGlzcGxheU5hbWU6YyxtZXRob2ROYW1lOnYscmVuZGVyQ291bnRQcm9wOk8sc2hvdWxkSGFuZGxlU3RhdGVDaGFuZ2VzOmcsc3RvcmVLZXk6VCx3aXRoUmVmOl8sZGlzcGxheU5hbWU6cix3cmFwcGVkQ29tcG9uZW50TmFtZTpuLFdyYXBwZWRDb21wb25lbnQ6ZX0pLGE9ZnVuY3Rpb24obil7ZnVuY3Rpb24gYSh0LGUpe28odGhpcyxhKTt2YXIgcz1pKHRoaXMsbi5jYWxsKHRoaXMsdCxlKSk7cmV0dXJuIHMudmVyc2lvbj1qLHMuc3RhdGU9e30scy5yZW5kZXJDb3VudD0wLHMuc3RvcmU9cy5wcm9wc1tUXXx8cy5jb250ZXh0W1RdLHMucGFyZW50U3ViPXRbQ118fGVbQ10scy5zZXRXcmFwcGVkSW5zdGFuY2U9cy5zZXRXcmFwcGVkSW5zdGFuY2UuYmluZChzKSwoMCxsLmRlZmF1bHQpKHMuc3RvcmUsJ0NvdWxkIG5vdCBmaW5kIFwiJytUKydcIiBpbiBlaXRoZXIgdGhlIGNvbnRleHQgb3IgJysoJ3Byb3BzIG9mIFwiJytyKydcIi4gJykrXCJFaXRoZXIgd3JhcCB0aGUgcm9vdCBjb21wb25lbnQgaW4gYSA8UHJvdmlkZXI+LCBcIisoJ29yIGV4cGxpY2l0bHkgcGFzcyBcIicrVCsnXCIgYXMgYSBwcm9wIHRvIFwiJytyKydcIi4nKSkscy5nZXRTdGF0ZT1zLnN0b3JlLmdldFN0YXRlLmJpbmQocy5zdG9yZSkscy5pbml0U2VsZWN0b3IoKSxzLmluaXRTdWJzY3JpcHRpb24oKSxzfXJldHVybiBzKGEsbiksYS5wcm90b3R5cGUuZ2V0Q2hpbGRDb250ZXh0PWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHQ9e30sdFtDXT10aGlzLnN1YnNjcmlwdGlvbnx8dGhpcy5wYXJlbnRTdWIsdH0sYS5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQ9ZnVuY3Rpb24oKXtnJiYodGhpcy5zdWJzY3JpcHRpb24udHJ5U3Vic2NyaWJlKCksdGhpcy5zZWxlY3Rvci5ydW4odGhpcy5wcm9wcyksdGhpcy5zZWxlY3Rvci5zaG91bGRDb21wb25lbnRVcGRhdGUmJnRoaXMuZm9yY2VVcGRhdGUoKSl9LGEucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM9ZnVuY3Rpb24odCl7dGhpcy5zZWxlY3Rvci5ydW4odCl9LGEucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdG9yLnNob3VsZENvbXBvbmVudFVwZGF0ZX0sYS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQ9ZnVuY3Rpb24oKXt0aGlzLnN1YnNjcmlwdGlvbiYmdGhpcy5zdWJzY3JpcHRpb24udHJ5VW5zdWJzY3JpYmUoKSx0aGlzLnN1YnNjcmlwdGlvbj1udWxsLHRoaXMuc3RvcmU9bnVsbCx0aGlzLnBhcmVudFN1Yj1udWxsLHRoaXMuc2VsZWN0b3IucnVuPWZ1bmN0aW9uKCl7fX0sYS5wcm90b3R5cGUuZ2V0V3JhcHBlZEluc3RhbmNlPWZ1bmN0aW9uKCl7cmV0dXJuKDAsbC5kZWZhdWx0KShfLFwiVG8gYWNjZXNzIHRoZSB3cmFwcGVkIGluc3RhbmNlLCB5b3UgbmVlZCB0byBzcGVjaWZ5IFwiKyhcInsgd2l0aFJlZjogdHJ1ZSB9IGluIHRoZSBvcHRpb25zIGFyZ3VtZW50IG9mIHRoZSBcIit2K1wiKCkgY2FsbC5cIikpLHRoaXMud3JhcHBlZEluc3RhbmNlfSxhLnByb3RvdHlwZS5zZXRXcmFwcGVkSW5zdGFuY2U9ZnVuY3Rpb24odCl7dGhpcy53cmFwcGVkSW5zdGFuY2U9dH0sYS5wcm90b3R5cGUuaW5pdFNlbGVjdG9yPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdG9yZS5kaXNwYXRjaCxuPXRoaXMuZ2V0U3RhdGUscj10KGUsdSksbz10aGlzLnNlbGVjdG9yPXtzaG91bGRDb21wb25lbnRVcGRhdGU6ITAscHJvcHM6cihuKCksdGhpcy5wcm9wcykscnVuOmZ1bmN0aW9uKHQpe3RyeXt2YXIgZT1yKG4oKSx0KTsoby5lcnJvcnx8ZSE9PW8ucHJvcHMpJiYoby5zaG91bGRDb21wb25lbnRVcGRhdGU9ITAsby5wcm9wcz1lLG8uZXJyb3I9bnVsbCl9Y2F0Y2godCl7by5zaG91bGRDb21wb25lbnRVcGRhdGU9ITAsby5lcnJvcj10fX19fSxhLnByb3RvdHlwZS5pbml0U3Vic2NyaXB0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztnJiYhZnVuY3Rpb24oKXt2YXIgZT10LnN1YnNjcmlwdGlvbj1uZXcgeS5kZWZhdWx0KHQuc3RvcmUsdC5wYXJlbnRTdWIpLG49e307ZS5vblN0YXRlQ2hhbmdlPWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3Rvci5ydW4odGhpcy5wcm9wcyksdGhpcy5zZWxlY3Rvci5zaG91bGRDb21wb25lbnRVcGRhdGU/KHRoaXMuY29tcG9uZW50RGlkVXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5jb21wb25lbnREaWRVcGRhdGU9dm9pZCAwLGUubm90aWZ5TmVzdGVkU3VicygpfSx0aGlzLnNldFN0YXRlKG4pKTplLm5vdGlmeU5lc3RlZFN1YnMoKX0uYmluZCh0KX0oKX0sYS5wcm90b3R5cGUuaXNTdWJzY3JpYmVkPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLnN1YnNjcmlwdGlvbiYmdGhpcy5zdWJzY3JpcHRpb24uaXNTdWJzY3JpYmVkKCl9LGEucHJvdG90eXBlLmFkZEV4dHJhUHJvcHM9ZnVuY3Rpb24odCl7aWYoIV8mJiFPKXJldHVybiB0O3ZhciBlPXAoe30sdCk7cmV0dXJuIF8mJihlLnJlZj10aGlzLnNldFdyYXBwZWRJbnN0YW5jZSksTyYmKGVbT109dGhpcy5yZW5kZXJDb3VudCsrKSxlfSxhLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnNlbGVjdG9yO2lmKHQuc2hvdWxkQ29tcG9uZW50VXBkYXRlPSExLHQuZXJyb3IpdGhyb3cgdC5lcnJvcjtyZXR1cm4oMCxoLmNyZWF0ZUVsZW1lbnQpKGUsdGhpcy5hZGRFeHRyYVByb3BzKHQucHJvcHMpKX0sYX0oaC5Db21wb25lbnQpO3JldHVybiBhLldyYXBwZWRDb21wb25lbnQ9ZSxhLmRpc3BsYXlOYW1lPXIsYS5jaGlsZENvbnRleHRUeXBlcz1xLGEuY29udGV4dFR5cGVzPUUsYS5wcm9wVHlwZXM9RSwoMCxmLmRlZmF1bHQpKGEsZSl9fWUuX19lc01vZHVsZT0hMDt2YXIgcD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTthcmd1bWVudHMubGVuZ3RoPmU7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJih0W3JdPW5bcl0pfXJldHVybiB0fTtlLmRlZmF1bHQ9YTt2YXIgYz1uKDE3KSxmPXIoYyksZD1uKDE4KSxsPXIoZCksaD1uKDIpLHY9big1KSx5PXIodiksYj1uKDYpLFA9cihiKSxtPTB9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBvKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIHIoKXtyZXR1cm4gb312YXIgbz10KGUsbik7cmV0dXJuIHIuZGVwZW5kc09uT3duUHJvcHM9ITEscn19ZnVuY3Rpb24gaSh0KXtyZXR1cm4gbnVsbCE9PXQuZGVwZW5kc09uT3duUHJvcHMmJnZvaWQgMCE9PXQuZGVwZW5kc09uT3duUHJvcHM/ISF0LmRlcGVuZHNPbk93blByb3BzOjEhPT10Lmxlbmd0aH1mdW5jdGlvbiBzKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gci5kZXBlbmRzT25Pd25Qcm9wcz9yLm1hcFRvUHJvcHModCxlKTpyLm1hcFRvUHJvcHModCl9O3JldHVybiByLmRlcGVuZHNPbk93blByb3BzPWkodCksci5tYXBUb1Byb3BzPWZ1bmN0aW9uKGUsbil7ci5tYXBUb1Byb3BzPXQ7dmFyIG89cihlLG4pO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG8mJihyLm1hcFRvUHJvcHM9byxyLmRlcGVuZHNPbk93blByb3BzPWkobyksbz1yKGUsbikpLG99LHJ9fWUuX19lc01vZHVsZT0hMCxlLndyYXBNYXBUb1Byb3BzQ29uc3RhbnQ9byxlLmdldERlcGVuZHNPbk93blByb3BzPWksZS53cmFwTWFwVG9Qcm9wc0Z1bmM9czt2YXIgdT1uKDcpO3IodSl9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcigpe3ZhciB0PVtdLGU9W107cmV0dXJue2NsZWFyOmZ1bmN0aW9uKCl7ZT1vLHQ9b30sbm90aWZ5OmZ1bmN0aW9uKCl7Zm9yKHZhciBuPXQ9ZSxyPTA7bi5sZW5ndGg+cjtyKyspbltyXSgpfSxzdWJzY3JpYmU6ZnVuY3Rpb24obil7dmFyIHI9ITA7cmV0dXJuIGU9PT10JiYoZT10LnNsaWNlKCkpLGUucHVzaChuKSxmdW5jdGlvbigpe3ImJnQhPT1vJiYocj0hMSxlPT09dCYmKGU9dC5zbGljZSgpKSxlLnNwbGljZShlLmluZGV4T2YobiksMSkpfX19fWUuX19lc01vZHVsZT0hMDt2YXIgbz1udWxsLGk9e25vdGlmeTpmdW5jdGlvbigpe319LHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUscil7bih0aGlzLHQpLHRoaXMuc3RvcmU9ZSx0aGlzLnBhcmVudFN1Yj1yLHRoaXMudW5zdWJzY3JpYmU9bnVsbCx0aGlzLmxpc3RlbmVycz1pfXJldHVybiB0LnByb3RvdHlwZS5hZGROZXN0ZWRTdWI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudHJ5U3Vic2NyaWJlKCksdGhpcy5saXN0ZW5lcnMuc3Vic2NyaWJlKHQpfSx0LnByb3RvdHlwZS5ub3RpZnlOZXN0ZWRTdWJzPWZ1bmN0aW9uKCl7dGhpcy5saXN0ZW5lcnMubm90aWZ5KCl9LHQucHJvdG90eXBlLmlzU3Vic2NyaWJlZD1mdW5jdGlvbigpe3JldHVybiEhdGhpcy51bnN1YnNjcmliZX0sdC5wcm90b3R5cGUudHJ5U3Vic2NyaWJlPWZ1bmN0aW9uKCl7dGhpcy51bnN1YnNjcmliZXx8KHRoaXMudW5zdWJzY3JpYmU9dGhpcy5wYXJlbnRTdWI/dGhpcy5wYXJlbnRTdWIuYWRkTmVzdGVkU3ViKHRoaXMub25TdGF0ZUNoYW5nZSk6dGhpcy5zdG9yZS5zdWJzY3JpYmUodGhpcy5vblN0YXRlQ2hhbmdlKSx0aGlzLmxpc3RlbmVycz1yKCkpfSx0LnByb3RvdHlwZS50cnlVbnN1YnNjcmliZT1mdW5jdGlvbigpe3RoaXMudW5zdWJzY3JpYmUmJih0aGlzLnVuc3Vic2NyaWJlKCksdGhpcy51bnN1YnNjcmliZT1udWxsLHRoaXMubGlzdGVuZXJzLmNsZWFyKCksdGhpcy5saXN0ZW5lcnM9aSl9LHR9KCk7ZS5kZWZhdWx0PXN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLl9fZXNNb2R1bGU9ITA7dmFyIHI9bigyKTtlLmRlZmF1bHQ9ci5Qcm9wVHlwZXMuc2hhcGUoe3N1YnNjcmliZTpyLlByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsZGlzcGF0Y2g6ci5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLGdldFN0YXRlOnIuUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZH0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gbyh0LGUsbil7KDAscy5kZWZhdWx0KSh0KXx8KDAsYS5kZWZhdWx0KShuK1wiKCkgaW4gXCIrZStcIiBtdXN0IHJldHVybiBhIHBsYWluIG9iamVjdC4gSW5zdGVhZCByZWNlaXZlZCBcIit0K1wiLlwiKX1lLl9fZXNNb2R1bGU9ITAsZS5kZWZhdWx0PW87dmFyIGk9bigyNykscz1yKGkpLHU9bigxKSxhPXIodSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI1KSxvPXIuU3ltYm9sO3QuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gbyh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gaSh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIHModCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1lLl9fZXNNb2R1bGU9ITAsZS5kZWZhdWx0PXZvaWQgMDt2YXIgdT1uKDIpLGE9big1KSxwPXIoYSksYz1uKDYpLGY9cihjKSxkPW4oMSksbD0ocihkKSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKG4scil7byh0aGlzLGUpO3ZhciBzPWkodGhpcyx0LmNhbGwodGhpcyxuLHIpKTtyZXR1cm4gcy5zdG9yZT1uLnN0b3JlLHN9cmV0dXJuIHMoZSx0KSxlLnByb3RvdHlwZS5nZXRDaGlsZENvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm57c3RvcmU6dGhpcy5zdG9yZSxzdG9yZVN1YnNjcmlwdGlvbjpudWxsfX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHUuQ2hpbGRyZW4ub25seSh0aGlzLnByb3BzLmNoaWxkcmVuKX0sZX0odS5Db21wb25lbnQpKTtlLmRlZmF1bHQ9bCxsLnByb3BUeXBlcz17c3RvcmU6Zi5kZWZhdWx0LmlzUmVxdWlyZWQsY2hpbGRyZW46dS5Qcm9wVHlwZXMuZWxlbWVudC5pc1JlcXVpcmVkfSxsLmNoaWxkQ29udGV4dFR5cGVzPXtzdG9yZTpmLmRlZmF1bHQuaXNSZXF1aXJlZCxzdG9yZVN1YnNjcmlwdGlvbjp1LlByb3BUeXBlcy5pbnN0YW5jZU9mKHAuZGVmYXVsdCl9LGwuZGlzcGxheU5hbWU9XCJQcm92aWRlclwifSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gbyh0LGUpe3ZhciBuPXt9O2Zvcih2YXIgciBpbiB0KWUuaW5kZXhPZihyKTwwJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKG5bcl09dFtyXSk7cmV0dXJuIG59ZnVuY3Rpb24gaSh0LGUsbil7Zm9yKHZhciByPWUubGVuZ3RoLTE7cj49MDtyLS0pe3ZhciBvPWVbcl0odCk7aWYobylyZXR1cm4gb31yZXR1cm4gZnVuY3Rpb24oZSxyKXt0aHJvdyBFcnJvcihcIkludmFsaWQgdmFsdWUgb2YgdHlwZSBcIit0eXBlb2YgdCtcIiBmb3IgXCIrbitcIiBhcmd1bWVudCB3aGVuIGNvbm5lY3RpbmcgY29tcG9uZW50IFwiK3Iud3JhcHBlZENvbXBvbmVudE5hbWUrXCIuXCIpfX1mdW5jdGlvbiBzKHQsZSl7cmV0dXJuIHQ9PT1lfWZ1bmN0aW9uIHUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LmNvbm5lY3RIT0Msbj12b2lkIDA9PT1lP2MuZGVmYXVsdDplLHI9dC5tYXBTdGF0ZVRvUHJvcHNGYWN0b3JpZXMsdT12b2lkIDA9PT1yP3kuZGVmYXVsdDpyLHA9dC5tYXBEaXNwYXRjaFRvUHJvcHNGYWN0b3JpZXMsZj12b2lkIDA9PT1wP2guZGVmYXVsdDpwLGw9dC5tZXJnZVByb3BzRmFjdG9yaWVzLHY9dm9pZCAwPT09bD9QLmRlZmF1bHQ6bCxiPXQuc2VsZWN0b3JGYWN0b3J5LG09dm9pZCAwPT09Yj9PLmRlZmF1bHQ6YjtyZXR1cm4gZnVuY3Rpb24odCxlLHIpe3ZhciBwPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp7fSxjPXAucHVyZSxsPXZvaWQgMD09PWN8fGMsaD1wLmFyZVN0YXRlc0VxdWFsLHk9dm9pZCAwPT09aD9zOmgsYj1wLmFyZU93blByb3BzRXF1YWwsUD12b2lkIDA9PT1iP2QuZGVmYXVsdDpiLE89cC5hcmVTdGF0ZVByb3BzRXF1YWwsdz12b2lkIDA9PT1PP2QuZGVmYXVsdDpPLGc9cC5hcmVNZXJnZWRQcm9wc0VxdWFsLFM9dm9pZCAwPT09Zz9kLmRlZmF1bHQ6ZyxUPW8ocCxbXCJwdXJlXCIsXCJhcmVTdGF0ZXNFcXVhbFwiLFwiYXJlT3duUHJvcHNFcXVhbFwiLFwiYXJlU3RhdGVQcm9wc0VxdWFsXCIsXCJhcmVNZXJnZWRQcm9wc0VxdWFsXCJdKSxNPWkodCx1LFwibWFwU3RhdGVUb1Byb3BzXCIpLF89aShlLGYsXCJtYXBEaXNwYXRjaFRvUHJvcHNcIikseD1pKHIsdixcIm1lcmdlUHJvcHNcIik7cmV0dXJuIG4obSxhKHttZXRob2ROYW1lOlwiY29ubmVjdFwiLGdldERpc3BsYXlOYW1lOmZ1bmN0aW9uKHQpe3JldHVyblwiQ29ubmVjdChcIit0K1wiKVwifSxzaG91bGRIYW5kbGVTdGF0ZUNoYW5nZXM6ISF0LGluaXRNYXBTdGF0ZVRvUHJvcHM6TSxpbml0TWFwRGlzcGF0Y2hUb1Byb3BzOl8saW5pdE1lcmdlUHJvcHM6eCxwdXJlOmwsYXJlU3RhdGVzRXF1YWw6eSxhcmVPd25Qcm9wc0VxdWFsOlAsYXJlU3RhdGVQcm9wc0VxdWFsOncsYXJlTWVyZ2VkUHJvcHNFcXVhbDpTfSxUKSl9fWUuX19lc01vZHVsZT0hMDt2YXIgYT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTthcmd1bWVudHMubGVuZ3RoPmU7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJih0W3JdPW5bcl0pfXJldHVybiB0fTtlLmNyZWF0ZUNvbm5lY3Q9dTt2YXIgcD1uKDMpLGM9cihwKSxmPW4oMTYpLGQ9cihmKSxsPW4oMTEpLGg9cihsKSx2PW4oMTIpLHk9cih2KSxiPW4oMTMpLFA9cihiKSxtPW4oMTQpLE89cihtKTtlLmRlZmF1bHQ9dSgpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0PygwLHUud3JhcE1hcFRvUHJvcHNGdW5jKSh0LFwibWFwRGlzcGF0Y2hUb1Byb3BzXCIpOnZvaWQgMH1mdW5jdGlvbiBvKHQpe3JldHVybiB0P3ZvaWQgMDooMCx1LndyYXBNYXBUb1Byb3BzQ29uc3RhbnQpKGZ1bmN0aW9uKHQpe3JldHVybntkaXNwYXRjaDp0fX0pfWZ1bmN0aW9uIGkodCl7cmV0dXJuIHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0PygwLHUud3JhcE1hcFRvUHJvcHNDb25zdGFudCkoZnVuY3Rpb24oZSl7cmV0dXJuKDAscy5iaW5kQWN0aW9uQ3JlYXRvcnMpKHQsZSl9KTp2b2lkIDB9ZS5fX2VzTW9kdWxlPSEwLGUud2hlbk1hcERpc3BhdGNoVG9Qcm9wc0lzRnVuY3Rpb249cixlLndoZW5NYXBEaXNwYXRjaFRvUHJvcHNJc01pc3Npbmc9byxlLndoZW5NYXBEaXNwYXRjaFRvUHJvcHNJc09iamVjdD1pO3ZhciBzPW4oMjgpLHU9big0KTtlLmRlZmF1bHQ9W3IsbyxpXX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD8oMCxpLndyYXBNYXBUb1Byb3BzRnVuYykodCxcIm1hcFN0YXRlVG9Qcm9wc1wiKTp2b2lkIDB9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdD92b2lkIDA6KDAsaS53cmFwTWFwVG9Qcm9wc0NvbnN0YW50KShmdW5jdGlvbigpe3JldHVybnt9fSl9ZS5fX2VzTW9kdWxlPSEwLGUud2hlbk1hcFN0YXRlVG9Qcm9wc0lzRnVuY3Rpb249cixlLndoZW5NYXBTdGF0ZVRvUHJvcHNJc01pc3Npbmc9bzt2YXIgaT1uKDQpO2UuZGVmYXVsdD1bcixvXX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIG8odCxlLG4pe3JldHVybiBhKHt9LG4sdCxlKX1mdW5jdGlvbiBpKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciByPW4ucHVyZSxvPW4uYXJlTWVyZ2VkUHJvcHNFcXVhbCxpPSExLHM9dm9pZCAwO3JldHVybiBmdW5jdGlvbihlLG4sdSl7dmFyIGE9dChlLG4sdSk7cmV0dXJuIGk/ciYmbyhhLHMpfHwocz1hKTooaT0hMCxzPWEpLHN9fX1mdW5jdGlvbiBzKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/aSh0KTp2b2lkIDB9ZnVuY3Rpb24gdSh0KXtyZXR1cm4gdD92b2lkIDA6ZnVuY3Rpb24oKXtyZXR1cm4gb319ZS5fX2VzTW9kdWxlPSEwO3ZhciBhPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2FyZ3VtZW50cy5sZW5ndGg+ZTtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKHRbcl09bltyXSl9cmV0dXJuIHR9O2UuZGVmYXVsdE1lcmdlUHJvcHM9byxlLndyYXBNZXJnZVByb3BzRnVuYz1pLGUud2hlbk1lcmdlUHJvcHNJc0Z1bmN0aW9uPXMsZS53aGVuTWVyZ2VQcm9wc0lzT21pdHRlZD11O3ZhciBwPW4oNyk7cihwKTtlLmRlZmF1bHQ9W3MsdV19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBvKHQsZSl7dmFyIG49e307Zm9yKHZhciByIGluIHQpZS5pbmRleE9mKHIpPDAmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYobltyXT10W3JdKTtyZXR1cm4gbn1mdW5jdGlvbiBpKHQsZSxuLHIpe3JldHVybiBmdW5jdGlvbihvLGkpe3JldHVybiBuKHQobyxpKSxlKHIsaSksaSl9fWZ1bmN0aW9uIHModCxlLG4scixvKXtmdW5jdGlvbiBpKG8saSl7cmV0dXJuIGg9byx2PWkseT10KGgsdiksYj1lKHIsdiksUD1uKHksYix2KSxsPSEwLFB9ZnVuY3Rpb24gcygpe3JldHVybiB5PXQoaCx2KSxlLmRlcGVuZHNPbk93blByb3BzJiYoYj1lKHIsdikpLFA9bih5LGIsdil9ZnVuY3Rpb24gdSgpe3JldHVybiB0LmRlcGVuZHNPbk93blByb3BzJiYoeT10KGgsdikpLGUuZGVwZW5kc09uT3duUHJvcHMmJihiPWUocix2KSksUD1uKHksYix2KX1mdW5jdGlvbiBhKCl7dmFyIGU9dChoLHYpLHI9IWQoZSx5KTtyZXR1cm4geT1lLHImJihQPW4oeSxiLHYpKSxQfWZ1bmN0aW9uIHAodCxlKXt2YXIgbj0hZihlLHYpLHI9IWModCxoKTtyZXR1cm4gaD10LHY9ZSxuJiZyP3MoKTpuP3UoKTpyP2EoKTpQfXZhciBjPW8uYXJlU3RhdGVzRXF1YWwsZj1vLmFyZU93blByb3BzRXF1YWwsZD1vLmFyZVN0YXRlUHJvcHNFcXVhbCxsPSExLGg9dm9pZCAwLHY9dm9pZCAwLHk9dm9pZCAwLGI9dm9pZCAwLFA9dm9pZCAwO3JldHVybiBmdW5jdGlvbih0LGUpe3JldHVybiBsP3AodCxlKTppKHQsZSl9fWZ1bmN0aW9uIHUodCxlKXt2YXIgbj1lLmluaXRNYXBTdGF0ZVRvUHJvcHMscj1lLmluaXRNYXBEaXNwYXRjaFRvUHJvcHMsdT1lLmluaXRNZXJnZVByb3BzLGE9byhlLFtcImluaXRNYXBTdGF0ZVRvUHJvcHNcIixcImluaXRNYXBEaXNwYXRjaFRvUHJvcHNcIixcImluaXRNZXJnZVByb3BzXCJdKSxwPW4odCxhKSxjPXIodCxhKSxmPXUodCxhKSxkPWEucHVyZT9zOmk7cmV0dXJuIGQocCxjLGYsdCxhKX1lLl9fZXNNb2R1bGU9ITAsZS5pbXB1cmVGaW5hbFByb3BzU2VsZWN0b3JGYWN0b3J5PWksZS5wdXJlRmluYWxQcm9wc1NlbGVjdG9yRmFjdG9yeT1zLGUuZGVmYXVsdD11O3ZhciBhPW4oMTUpO3IoYSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBvKHQsZSxuKXtpZighdCl0aHJvdyBFcnJvcihcIlVuZXhwZWN0ZWQgdmFsdWUgZm9yIFwiK2UrXCIgaW4gXCIrbitcIi5cIik7XCJtYXBTdGF0ZVRvUHJvcHNcIiE9PWUmJlwibWFwRGlzcGF0Y2hUb1Byb3BzXCIhPT1lfHx0Lmhhc093blByb3BlcnR5KFwiZGVwZW5kc09uT3duUHJvcHNcIil8fCgwLHUuZGVmYXVsdCkoXCJUaGUgc2VsZWN0b3IgZm9yIFwiK2UrXCIgb2YgXCIrbitcIiBkaWQgbm90IHNwZWNpZnkgYSB2YWx1ZSBmb3IgZGVwZW5kc09uT3duUHJvcHMuXCIpfWZ1bmN0aW9uIGkodCxlLG4scil7byh0LFwibWFwU3RhdGVUb1Byb3BzXCIsciksbyhlLFwibWFwRGlzcGF0Y2hUb1Byb3BzXCIsciksbyhuLFwibWVyZ2VQcm9wc1wiLHIpfWUuX19lc01vZHVsZT0hMCxlLmRlZmF1bHQ9aTt2YXIgcz1uKDEpLHU9cihzKX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSl7aWYodD09PWUpcmV0dXJuITA7dmFyIG49MCxvPTA7Zm9yKHZhciBpIGluIHQpe2lmKHIuY2FsbCh0LGkpJiZ0W2ldIT09ZVtpXSlyZXR1cm4hMTtuKyt9Zm9yKHZhciBzIGluIGUpci5jYWxsKGUscykmJm8rKztyZXR1cm4gbj09PW99ZS5fX2VzTW9kdWxlPSEwLGUuZGVmYXVsdD1uO3ZhciByPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHl9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49e2NoaWxkQ29udGV4dFR5cGVzOiEwLGNvbnRleHRUeXBlczohMCxkZWZhdWx0UHJvcHM6ITAsZGlzcGxheU5hbWU6ITAsZ2V0RGVmYXVsdFByb3BzOiEwLG1peGluczohMCxwcm9wVHlwZXM6ITAsdHlwZTohMH0scj17bmFtZTohMCxsZW5ndGg6ITAscHJvdG90eXBlOiEwLGNhbGxlcjohMCxhcmd1bWVudHM6ITAsYXJpdHk6ITB9LG89XCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sczt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLGkpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXt2YXIgcz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKTtvJiYocz1zLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpKSk7Zm9yKHZhciB1PTA7cy5sZW5ndGg+dTsrK3UpaWYoIShuW3NbdV1dfHxyW3NbdV1dfHxpJiZpW3NbdV1dKSl0cnl7dFtzW3VdXT1lW3NbdV1dfWNhdGNoKHQpe319cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9ZnVuY3Rpb24odCxlLG4scixvLGkscyx1KXtpZighdCl7dmFyIGE7aWYodm9pZCAwPT09ZSlhPUVycm9yKFwiTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy5cIik7ZWxzZXt2YXIgcD1bbixyLG8saSxzLHVdLGM9MDthPUVycm9yKGUucmVwbGFjZSgvJXMvZyxmdW5jdGlvbigpe3JldHVybiBwW2MrK119KSksYS5uYW1lPVwiSW52YXJpYW50IFZpb2xhdGlvblwifXRocm93IGEuZnJhbWVzVG9Qb3A9MSxhfX07dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3JldHVybiBudWxsPT10P3ZvaWQgMD09PXQ/YTp1OnAmJnAgaW4gT2JqZWN0KHQpP2kodCk6cyh0KX12YXIgbz1uKDgpLGk9bigyMikscz1uKDIzKSx1PVwiW29iamVjdCBOdWxsXVwiLGE9XCJbb2JqZWN0IFVuZGVmaW5lZF1cIixwPW8/by50b1N0cmluZ1RhZzp2b2lkIDA7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSl7KGZ1bmN0aW9uKGUpe3ZhciBuPVwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLk9iamVjdD09PU9iamVjdCYmZTt0LmV4cG9ydHM9bn0pLmNhbGwoZSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkpfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNCksbz1yKE9iamVjdC5nZXRQcm90b3R5cGVPZixPYmplY3QpO3QuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0KXt2YXIgZT1zLmNhbGwodCxhKSxuPXRbYV07dHJ5e3RbYV09dm9pZCAwO3ZhciByPSEwfWNhdGNoKHQpe312YXIgbz11LmNhbGwodCk7cmV0dXJuIHImJihlP3RbYV09bjpkZWxldGUgdFthXSksb312YXIgbz1uKDgpLGk9T2JqZWN0LnByb3RvdHlwZSxzPWkuaGFzT3duUHJvcGVydHksdT1pLnRvU3RyaW5nLGE9bz9vLnRvU3RyaW5nVGFnOnZvaWQgMDt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQpe3JldHVybiBvLmNhbGwodCl9dmFyIHI9T2JqZWN0LnByb3RvdHlwZSxvPXIudG9TdHJpbmc7dC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdChlKG4pKX19dC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIwKSxvPVwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmJiZzZWxmLk9iamVjdD09PU9iamVjdCYmc2VsZixpPXJ8fG98fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTt0LmV4cG9ydHM9aX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQpe3JldHVybiBudWxsIT10JiZcIm9iamVjdFwiPT10eXBlb2YgdH10LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7aWYoIXModCl8fG8odCkhPXUpcmV0dXJuITE7dmFyIGU9aSh0KTtpZihudWxsPT09ZSlyZXR1cm4hMDt2YXIgbj1mLmNhbGwoZSxcImNvbnN0cnVjdG9yXCIpJiZlLmNvbnN0cnVjdG9yO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJm4gaW5zdGFuY2VvZiBuJiZjLmNhbGwobik9PWR9dmFyIG89bigxOSksaT1uKDIxKSxzPW4oMjYpLHU9XCJbb2JqZWN0IE9iamVjdF1cIixhPUZ1bmN0aW9uLnByb3RvdHlwZSxwPU9iamVjdC5wcm90b3R5cGUsYz1hLnRvU3RyaW5nLGY9cC5oYXNPd25Qcm9wZXJ0eSxkPWMuY2FsbChPYmplY3QpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LG4pe3QuZXhwb3J0cz1lfV0pfSk7XG5cbi8qKiovIH0sXG4vKiAxOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIF9pbnZhcmlhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2RlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblx0XG5cdHZhciBfZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzKTtcblx0XG5cdHZhciBfZ2V0Um91dGVQYXJhbXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg3KTtcblx0XG5cdHZhciBfZ2V0Um91dGVQYXJhbXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0Um91dGVQYXJhbXMpO1xuXHRcblx0dmFyIF9Sb3V0ZVV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfcm91dGVyV2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX3JvdXRlcldhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm91dGVyV2FybmluZyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIF9SZWFjdCRQcm9wVHlwZXMgPSBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzO1xuXHR2YXIgYXJyYXkgPSBfUmVhY3QkUHJvcFR5cGVzLmFycmF5O1xuXHR2YXIgZnVuYyA9IF9SZWFjdCRQcm9wVHlwZXMuZnVuYztcblx0dmFyIG9iamVjdCA9IF9SZWFjdCRQcm9wVHlwZXMub2JqZWN0O1xuXHRcblx0LyoqXG5cdCAqIEEgPFJvdXRlckNvbnRleHQ+IHJlbmRlcnMgdGhlIGNvbXBvbmVudCB0cmVlIGZvciBhIGdpdmVuIHJvdXRlciBzdGF0ZVxuXHQgKiBhbmQgc2V0cyB0aGUgaGlzdG9yeSBvYmplY3QgYW5kIHRoZSBjdXJyZW50IGxvY2F0aW9uIGluIGNvbnRleHQuXG5cdCAqL1xuXHRcblx0dmFyIFJvdXRlckNvbnRleHQgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3Moe1xuXHQgIGRpc3BsYXlOYW1lOiAnUm91dGVyQ29udGV4dCcsXG5cdFxuXHRcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIGhpc3Rvcnk6IG9iamVjdCxcblx0ICAgIHJvdXRlcjogb2JqZWN0LmlzUmVxdWlyZWQsXG5cdCAgICBsb2NhdGlvbjogb2JqZWN0LmlzUmVxdWlyZWQsXG5cdCAgICByb3V0ZXM6IGFycmF5LmlzUmVxdWlyZWQsXG5cdCAgICBwYXJhbXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuXHQgICAgY29tcG9uZW50czogYXJyYXkuaXNSZXF1aXJlZCxcblx0ICAgIGNyZWF0ZUVsZW1lbnQ6IGZ1bmMuaXNSZXF1aXJlZFxuXHQgIH0sXG5cdFxuXHQgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgY3JlYXRlRWxlbWVudDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnRcblx0ICAgIH07XG5cdCAgfSxcblx0XG5cdFxuXHQgIGNoaWxkQ29udGV4dFR5cGVzOiB7XG5cdCAgICBoaXN0b3J5OiBvYmplY3QsXG5cdCAgICBsb2NhdGlvbjogb2JqZWN0LmlzUmVxdWlyZWQsXG5cdCAgICByb3V0ZXI6IG9iamVjdC5pc1JlcXVpcmVkXG5cdCAgfSxcblx0XG5cdCAgZ2V0Q2hpbGRDb250ZXh0OiBmdW5jdGlvbiBnZXRDaGlsZENvbnRleHQoKSB7XG5cdCAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciByb3V0ZXIgPSBfcHJvcHMucm91dGVyO1xuXHQgICAgdmFyIGhpc3RvcnkgPSBfcHJvcHMuaGlzdG9yeTtcblx0ICAgIHZhciBsb2NhdGlvbiA9IF9wcm9wcy5sb2NhdGlvbjtcblx0XG5cdCAgICBpZiAoIXJvdXRlcikge1xuXHQgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ2A8Um91dGVyQ29udGV4dD5gIGV4cGVjdHMgYSBgcm91dGVyYCByYXRoZXIgdGhhbiBhIGBoaXN0b3J5YCcpIDogdm9pZCAwO1xuXHRcblx0ICAgICAgcm91dGVyID0gX2V4dGVuZHMoe30sIGhpc3RvcnksIHtcblx0ICAgICAgICBzZXRSb3V0ZUxlYXZlSG9vazogaGlzdG9yeS5saXN0ZW5CZWZvcmVMZWF2aW5nUm91dGVcblx0ICAgICAgfSk7XG5cdCAgICAgIGRlbGV0ZSByb3V0ZXIubGlzdGVuQmVmb3JlTGVhdmluZ1JvdXRlO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICAgIGxvY2F0aW9uID0gKDAsIF9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzMi5kZWZhdWx0KShsb2NhdGlvbiwgJ2Bjb250ZXh0LmxvY2F0aW9uYCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGEgcm91dGUgY29tcG9uZW50XFwncyBgcHJvcHMubG9jYXRpb25gIGluc3RlYWQuIGh0dHA6Ly90aW55LmNjL3JvdXRlci1hY2Nlc3Npbmdsb2NhdGlvbicpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB7IGhpc3Rvcnk6IGhpc3RvcnksIGxvY2F0aW9uOiBsb2NhdGlvbiwgcm91dGVyOiByb3V0ZXIgfTtcblx0ICB9LFxuXHQgIGNyZWF0ZUVsZW1lbnQ6IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQoY29tcG9uZW50LCBwcm9wcykge1xuXHQgICAgcmV0dXJuIGNvbXBvbmVudCA9PSBudWxsID8gbnVsbCA6IHRoaXMucHJvcHMuY3JlYXRlRWxlbWVudChjb21wb25lbnQsIHByb3BzKTtcblx0ICB9LFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgaGlzdG9yeSA9IF9wcm9wczIuaGlzdG9yeTtcblx0ICAgIHZhciBsb2NhdGlvbiA9IF9wcm9wczIubG9jYXRpb247XG5cdCAgICB2YXIgcm91dGVzID0gX3Byb3BzMi5yb3V0ZXM7XG5cdCAgICB2YXIgcGFyYW1zID0gX3Byb3BzMi5wYXJhbXM7XG5cdCAgICB2YXIgY29tcG9uZW50cyA9IF9wcm9wczIuY29tcG9uZW50cztcblx0XG5cdCAgICB2YXIgZWxlbWVudCA9IG51bGw7XG5cdFxuXHQgICAgaWYgKGNvbXBvbmVudHMpIHtcblx0ICAgICAgZWxlbWVudCA9IGNvbXBvbmVudHMucmVkdWNlUmlnaHQoZnVuY3Rpb24gKGVsZW1lbnQsIGNvbXBvbmVudHMsIGluZGV4KSB7XG5cdCAgICAgICAgaWYgKGNvbXBvbmVudHMgPT0gbnVsbCkgcmV0dXJuIGVsZW1lbnQ7IC8vIERvbid0IGNyZWF0ZSBuZXcgY2hpbGRyZW47IHVzZSB0aGUgZ3JhbmRjaGlsZHJlbi5cblx0XG5cdCAgICAgICAgdmFyIHJvdXRlID0gcm91dGVzW2luZGV4XTtcblx0ICAgICAgICB2YXIgcm91dGVQYXJhbXMgPSAoMCwgX2dldFJvdXRlUGFyYW1zMi5kZWZhdWx0KShyb3V0ZSwgcGFyYW1zKTtcblx0ICAgICAgICB2YXIgcHJvcHMgPSB7XG5cdCAgICAgICAgICBoaXN0b3J5OiBoaXN0b3J5LFxuXHQgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxuXHQgICAgICAgICAgcGFyYW1zOiBwYXJhbXMsXG5cdCAgICAgICAgICByb3V0ZTogcm91dGUsXG5cdCAgICAgICAgICByb3V0ZVBhcmFtczogcm91dGVQYXJhbXMsXG5cdCAgICAgICAgICByb3V0ZXM6IHJvdXRlc1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIGlmICgoMCwgX1JvdXRlVXRpbHMuaXNSZWFjdENoaWxkcmVuKShlbGVtZW50KSkge1xuXHQgICAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSBlbGVtZW50O1xuXHQgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudCkge1xuXHQgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBlbGVtZW50KSB7XG5cdCAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZWxlbWVudCwgcHJvcCkpIHByb3BzW3Byb3BdID0gZWxlbWVudFtwcm9wXTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmICgodHlwZW9mIGNvbXBvbmVudHMgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGNvbXBvbmVudHMpKSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICAgIHZhciBlbGVtZW50cyA9IHt9O1xuXHRcblx0ICAgICAgICAgIGZvciAodmFyIGtleSBpbiBjb21wb25lbnRzKSB7XG5cdCAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY29tcG9uZW50cywga2V5KSkge1xuXHQgICAgICAgICAgICAgIC8vIFBhc3MgdGhyb3VnaCB0aGUga2V5IGFzIGEgcHJvcCB0byBjcmVhdGVFbGVtZW50IHRvIGFsbG93XG5cdCAgICAgICAgICAgICAgLy8gY3VzdG9tIGNyZWF0ZUVsZW1lbnQgZnVuY3Rpb25zIHRvIGtub3cgd2hpY2ggbmFtZWQgY29tcG9uZW50XG5cdCAgICAgICAgICAgICAgLy8gdGhleSdyZSByZW5kZXJpbmcsIGZvciBlLmcuIG1hdGNoaW5nIHVwIHRvIGZldGNoZWQgZGF0YS5cblx0ICAgICAgICAgICAgICBlbGVtZW50c1trZXldID0gX3RoaXMuY3JlYXRlRWxlbWVudChjb21wb25lbnRzW2tleV0sIF9leHRlbmRzKHtcblx0ICAgICAgICAgICAgICAgIGtleToga2V5IH0sIHByb3BzKSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICByZXR1cm4gZWxlbWVudHM7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX3RoaXMuY3JlYXRlRWxlbWVudChjb21wb25lbnRzLCBwcm9wcyk7XG5cdCAgICAgIH0sIGVsZW1lbnQpO1xuXHQgICAgfVxuXHRcblx0ICAgICEoZWxlbWVudCA9PT0gbnVsbCB8fCBlbGVtZW50ID09PSBmYWxzZSB8fCBfcmVhY3QyLmRlZmF1bHQuaXNWYWxpZEVsZW1lbnQoZWxlbWVudCkpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSwgJ1RoZSByb290IHJvdXRlIG11c3QgcmVuZGVyIGEgc2luZ2xlIGVsZW1lbnQnKSA6ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSkgOiB2b2lkIDA7XG5cdFxuXHQgICAgcmV0dXJuIGVsZW1lbnQ7XG5cdCAgfVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFJvdXRlckNvbnRleHQ7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKSkpXG5cbi8qKiovIH0sXG4vKiAxOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRleHBvcnRzLmNhblVzZU1lbWJyYW5lID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfcm91dGVyV2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3V0ZXJXYXJuaW5nKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgY2FuVXNlTWVtYnJhbmUgPSBleHBvcnRzLmNhblVzZU1lbWJyYW5lID0gZmFsc2U7XG5cdFxuXHQvLyBOby1vcCBieSBkZWZhdWx0LlxuXHR2YXIgZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllcyA9IGZ1bmN0aW9uIGRlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMob2JqZWN0KSB7XG5cdCAgcmV0dXJuIG9iamVjdDtcblx0fTtcblx0XG5cdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgdHJ5IHtcblx0ICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICd4Jywge1xuXHQgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgfVxuXHQgICAgfSkueCkge1xuXHQgICAgICBleHBvcnRzLmNhblVzZU1lbWJyYW5lID0gY2FuVXNlTWVtYnJhbmUgPSB0cnVlO1xuXHQgICAgfVxuXHQgICAgLyogZXNsaW50LWRpc2FibGUgbm8tZW1wdHkgKi9cblx0ICB9IGNhdGNoIChlKSB7fVxuXHQgIC8qIGVzbGludC1lbmFibGUgbm8tZW1wdHkgKi9cblx0XG5cdCAgaWYgKGNhblVzZU1lbWJyYW5lKSB7XG5cdCAgICBkZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzID0gZnVuY3Rpb24gZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllcyhvYmplY3QsIG1lc3NhZ2UpIHtcblx0ICAgICAgLy8gV3JhcCB0aGUgZGVwcmVjYXRlZCBvYmplY3QgaW4gYSBtZW1icmFuZSB0byB3YXJuIG9uIHByb3BlcnR5IGFjY2Vzcy5cblx0ICAgICAgdmFyIG1lbWJyYW5lID0ge307XG5cdFxuXHQgICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChwcm9wKSB7XG5cdCAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wKSkge1xuXHQgICAgICAgICAgcmV0dXJuICdjb250aW51ZSc7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAodHlwZW9mIG9iamVjdFtwcm9wXSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgLy8gQ2FuJ3QgdXNlIGZhdCBhcnJvdyBoZXJlIGJlY2F1c2Ugb2YgdXNlIG9mIGFyZ3VtZW50cyBiZWxvdy5cblx0ICAgICAgICAgIG1lbWJyYW5lW3Byb3BdID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgbWVzc2FnZSkgOiB2b2lkIDA7XG5cdCAgICAgICAgICAgIHJldHVybiBvYmplY3RbcHJvcF0uYXBwbHkob2JqZWN0LCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgfTtcblx0ICAgICAgICAgIHJldHVybiAnY29udGludWUnO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gVGhlc2UgcHJvcGVydGllcyBhcmUgbm9uLWVudW1lcmFibGUgdG8gcHJldmVudCBSZWFjdCBkZXYgdG9vbHMgZnJvbVxuXHQgICAgICAgIC8vIHNlZWluZyB0aGVtIGFuZCBjYXVzaW5nIHNwdXJpb3VzIHdhcm5pbmdzIHdoZW4gYWNjZXNzaW5nIHRoZW0uIEluXG5cdCAgICAgICAgLy8gcHJpbmNpcGxlIHRoaXMgY291bGQgYmUgZG9uZSB3aXRoIGEgcHJveHksIGJ1dCBzdXBwb3J0IGZvciB0aGVcblx0ICAgICAgICAvLyBvd25LZXlzIHRyYXAgb24gcHJveGllcyBpcyBub3QgdW5pdmVyc2FsLCBldmVuIGFtb25nIGJyb3dzZXJzIHRoYXRcblx0ICAgICAgICAvLyBvdGhlcndpc2Ugc3VwcG9ydCBwcm94aWVzLlxuXHQgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtZW1icmFuZSwgcHJvcCwge1xuXHQgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKGZhbHNlLCBtZXNzYWdlKSA6IHZvaWQgMDtcblx0ICAgICAgICAgICAgcmV0dXJuIG9iamVjdFtwcm9wXTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIGZvciAodmFyIHByb3AgaW4gb2JqZWN0KSB7XG5cdCAgICAgICAgdmFyIF9yZXQgPSBfbG9vcChwcm9wKTtcblx0XG5cdCAgICAgICAgaWYgKF9yZXQgPT09ICdjb250aW51ZScpIGNvbnRpbnVlO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gbWVtYnJhbmU7XG5cdCAgICB9O1xuXHQgIH1cblx0fVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllcztcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkpKVxuXG4vKioqLyB9LFxuLyogMjAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpO1xuXHRcblx0dmFyIF9sb2dpbiA9IF9fd2VicGFja19yZXF1aXJlX18oNjApO1xuXHRcblx0dmFyIHJvb3RSZWR1Y2VyID0gKDAsIF9yZWR1eC5jb21iaW5lUmVkdWNlcnMpKHtcblx0ICBsb2dpbjogX2xvZ2luLmxvZ2luXG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gcm9vdFJlZHVjZXI7XG5cbi8qKiovIH0sXG4vKiAyMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5maWd1cmV7Ym9yZGVyLXJhZGl1czoxMHB4Oy1tb3otYm9yZGVyLXJhZGl1czoxMHB4Oy13ZWJraXQtYm9yZGVyLXJhZGl1czoxMHB4O2hlaWdodDozNTBweDtsaW5lLWhlaWdodDozMDBweDt3aWR0aDo0NiU7Ym9yZGVyOjFweCBzb2xpZDt0ZXh0LWFsaWduOmNlbnRlcjtwYWRkaW5nOjEuOSU7bWFyZ2luOjM1cHggMTYlIDAgMTAlO2Zsb2F0OmxlZnQ7Zm9udC1mYW1pbHk6TWljcm9zb2Z0IFlhSGVpO2ZvbnQtc2l6ZTo0MHB4fVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDIyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmNoYW5uZWx7Ym9yZGVyLXJhZGl1czoxMHB4Oy1tb3otYm9yZGVyLXJhZGl1czoxMHB4Oy13ZWJraXQtYm9yZGVyLXJhZGl1czoxMHB4O2hlaWdodDozNTBweDt3aWR0aDoxMiU7Ym9yZGVyOjFweCBzb2xpZDt0ZXh0LWFsaWduOmNlbnRlcjtwYWRkaW5nOjEuOSU7bWFyZ2luOjM1cHggMCAwIDE2JTtmbG9hdDpsZWZ0O3doaXRlLXNwYWNlOm5vd3JhcH0uY2hhbm5lbCBkaXZ7Zm9udC1mYW1pbHk6TWljcm9zb2Z0IFlhSGVpO2ZvbnQtc2l6ZToxOHB4O21hcmdpbjoxNXB4IDB9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMjMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNykoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuc2hvd0xpc3R7bWFyZ2luOjM1cHggMTYlIDA7aGVpZ2h0OjMwMHB4O2ZvbnQtc2l6ZToxOHB4O2ZvbnQtZmFtaWx5Ok1pY3Jvc29mdCBZYUhlaX0uc2hvd0xpc3QgLmhvdENsYXNzLC5zaG93TGlzdCAubmV3Q2xhc3MsLnNob3dMaXN0IC5uZXdUcmVuZHN7ZmxvYXQ6bGVmdDt3aWR0aDozMiU7aGVpZ2h0OjMwMHB4fS5zaG93TGlzdCAuaG90Q2xhc3MgLmJsYW5rLC5zaG93TGlzdCAubmV3Q2xhc3MgLmJsYW5rLC5zaG93TGlzdCAubmV3VHJlbmRzIC5ibGFua3toZWlnaHQ6MnB4O3dpZHRoOjEwMCU7YmFja2dyb3VuZDpibHVlO21hcmdpbjo1cHggMH0uc2hvd0xpc3QgLmhvdENsYXNzIHVsLC5zaG93TGlzdCAubmV3Q2xhc3MgdWwsLnNob3dMaXN0IC5uZXdUcmVuZHMgdWx7aGVpZ2h0OjY1JTttYXJnaW46NSUgMH0uc2hvd0xpc3QgLmhvdENsYXNzIHVsIGxpLC5zaG93TGlzdCAubmV3Q2xhc3MgdWwgbGksLnNob3dMaXN0IC5uZXdUcmVuZHMgdWwgbGl7aGVpZ2h0OjE4cHg7bGluZS1oZWlnaHQ6MThweDttYXJnaW46NS41JSAwO3doaXRlLXNwYWNlOm5vd3JhcH0uc2hvd0xpc3QgLmhvdENsYXNzIHVsIGxpIC5jb250ZW50LC5zaG93TGlzdCAubmV3Q2xhc3MgdWwgbGkgLmNvbnRlbnQsLnNob3dMaXN0IC5uZXdUcmVuZHMgdWwgbGkgLmNvbnRlbnR7d2lkdGg6NzAlO292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3doaXRlLXNwYWNlOm5vd3JhcDtmbG9hdDpsZWZ0fS5zaG93TGlzdCAuaG90Q2xhc3MgdWwgbGkgLnRpbWUsLnNob3dMaXN0IC5uZXdDbGFzcyB1bCBsaSAudGltZSwuc2hvd0xpc3QgLm5ld1RyZW5kcyB1bCBsaSAudGltZXt3aWR0aDozMCU7ZmxvYXQ6cmlnaHR9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNykoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIudGl0bGV7YmFja2dyb3VuZDpibHVlO2ZvbnQtZmFtaWx5OlNUS2FpdGk7dGV4dC1hbGlnbjpjZW50ZXJ9LnRpdGxlIGRpdntmb250LXNpemU6MzBweDtwYWRkaW5nOjAgODVweDtsaW5lLWhlaWdodDo2MHB4O2NvbG9yOiNmZmY7ZGlzcGxheTppbmxpbmV9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMjUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNykoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJcIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAyNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5jb250YWluZXJ7cGFkZGluZzowIDElfS5jb250YWluZXIgLnNpZ257dG9wOjIwcHg7cmlnaHQ6MzBweDtwb3NpdGlvbjphYnNvbHV0ZX0uY29udGFpbmVyIC5zaWduIC5hbnQtaW5wdXQtc2VhcmNoLXdyYXBwZXJ7bWFyZ2luLXJpZ2h0OjIwcHg7d2lkdGg6MTcwcHh9LmNvbnRhaW5lciAuc2lnbiAuYW50LWJ0bi1ncm91cHt2ZXJ0aWNhbC1hbGlnbjp0b3B9LmNvbnRhaW5lciAuY29tcGFueXttYXJnaW46MzBweCAwIDE1cHggMjUwcHg7aGVpZ2h0OjgwcHg7bGluZS1oZWlnaHQ6ODBweDtmb250LXNpemU6MjVweH0uY29udGFpbmVyIC5jb21wYW55IC5pbWd7Ym9yZGVyLXJhZGl1czoxMDAlO2JvcmRlcjoxcHggc29saWQ7aGVpZ2h0OjgwcHg7d2lkdGg6ODBweDtmbG9hdDpsZWZ0O2JhY2tncm91bmQtaW1hZ2U6dXJsKFwiICsgX193ZWJwYWNrX3JlcXVpcmVfXygxMDgpICsgXCIpO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXNpemU6Y292ZXJ9LmNvbnRhaW5lciAuY29tcGFueSAubmFtZXtmbG9hdDpsZWZ0O3BhZGRpbmctbGVmdDoyMHB4fVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDI3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmxvZ2luQ29udGFpbmVye3Bvc2l0aW9uOmFic29sdXRlO3RleHQtYWxpZ246Y2VudGVyO3RvcDoyMCU7bWFyZ2luOjAgYXV0bzt3aWR0aDo0NTBweDttYXJnaW4tbGVmdDotd2Via2l0LWNhbGMoNTAlIC0gMjI1cHgpO21hcmdpbi1sZWZ0Oi1tb3otY2FsYyg1MCUgLSAyMjVweCk7bWFyZ2luLWxlZnQ6Y2FsYyg1MCUgLSAyMjVweCl9LmxvZ2luQ29udGFpbmVyIC5sb2dve21hcmdpbi10b3A6MjBweDtmb250LXNpemU6NTBweH0ubG9naW5Db250YWluZXIgaDJ7bWFyZ2luLXRvcDoyMHB4fS5sb2dpbkNvbnRhaW5lciAubG9naW5Gb3Jte21hcmdpbi10b3A6MjBweDtiYWNrZ3JvdW5kOiNmZmY7cGFkZGluZy10b3A6MzRweDtib3JkZXI6MXB4IHNvbGlkICNkZmRiZGI7LXdlYmtpdC1ib3JkZXItcmFkaXVzOjZweDstbW96LWJvcmRlci1yYWRpdXM6NnB4O2JvcmRlci1yYWRpdXM6NnB4fS5sb2dpbkNvbnRhaW5lciAubG9naW5Gb3JtIGF7Zm9udC1zaXplOjE1cHg7ZmxvYXQ6cmlnaHR9LmxvZ2luQ29udGFpbmVyIC5hbnQtY29sLW9mZnNldC02e21hcmdpbi1sZWZ0OjIwJX0ubG9naW5Db250YWluZXIgLmFudC1jb2wtb2Zmc2V0LTYgLmFudC1idG4tcHJpbWFyeXt3aWR0aDoxNTBweH1ib2R5e2JhY2tncm91bmQ6I2Y0ZjRmNCFpbXBvcnRhbnR9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMjggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNykoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJib2R5e2ZvbnQtZmFtaWx5Ok1pY3Jvc29mdCBZYUhlaSxTVEthaXRpfWJvZHkgLmNoYW5uZWwtaW1ne2hlaWdodDo0MDBweH1ib2R5IC5mb290ZXJ7aGVpZ2h0OjYwcHg7bGluZS1oZWlnaHQ6NjBweDtmb250LXNpemU6MjBweDttYXJnaW46MTBweCAxNiV9Ym9keSAuZm9vdGVyIC5mcmllbmRVcmx7d2lkdGg6NjAlO21hcmdpbi1yaWdodDoxMCU7ZmxvYXQ6bGVmdDt3aGl0ZS1zcGFjZTpub3dyYXB9Ym9keSAuZm9vdGVyIC5waG9uZXt3aWR0aDozMCU7ZmxvYXQ6bGVmdDt0ZXh0LWFsaWduOmNlbnRlcn1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAyOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0cy5hZGRFdmVudExpc3RlbmVyID0gYWRkRXZlbnRMaXN0ZW5lcjtcblx0ZXhwb3J0cy5yZW1vdmVFdmVudExpc3RlbmVyID0gcmVtb3ZlRXZlbnRMaXN0ZW5lcjtcblx0ZXhwb3J0cy5nZXRIYXNoUGF0aCA9IGdldEhhc2hQYXRoO1xuXHRleHBvcnRzLnJlcGxhY2VIYXNoUGF0aCA9IHJlcGxhY2VIYXNoUGF0aDtcblx0ZXhwb3J0cy5nZXRXaW5kb3dQYXRoID0gZ2V0V2luZG93UGF0aDtcblx0ZXhwb3J0cy5nbyA9IGdvO1xuXHRleHBvcnRzLmdldFVzZXJDb25maXJtYXRpb24gPSBnZXRVc2VyQ29uZmlybWF0aW9uO1xuXHRleHBvcnRzLnN1cHBvcnRzSGlzdG9yeSA9IHN1cHBvcnRzSGlzdG9yeTtcblx0ZXhwb3J0cy5zdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCA9IHN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoO1xuXHRcblx0ZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihub2RlLCBldmVudCwgbGlzdGVuZXIpIHtcblx0ICBpZiAobm9kZS5hZGRFdmVudExpc3RlbmVyKSB7XG5cdCAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBmYWxzZSk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIG5vZGUuYXR0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBsaXN0ZW5lcik7XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKG5vZGUsIGV2ZW50LCBsaXN0ZW5lcikge1xuXHQgIGlmIChub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcblx0ICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIGZhbHNlKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgbm9kZS5kZXRhY2hFdmVudCgnb24nICsgZXZlbnQsIGxpc3RlbmVyKTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldEhhc2hQYXRoKCkge1xuXHQgIC8vIFdlIGNhbid0IHVzZSB3aW5kb3cubG9jYXRpb24uaGFzaCBoZXJlIGJlY2F1c2UgaXQncyBub3Rcblx0ICAvLyBjb25zaXN0ZW50IGFjcm9zcyBicm93c2VycyAtIEZpcmVmb3ggd2lsbCBwcmUtZGVjb2RlIGl0IVxuXHQgIHJldHVybiB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnIycpWzFdIHx8ICcnO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZXBsYWNlSGFzaFBhdGgocGF0aCkge1xuXHQgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggKyAnIycgKyBwYXRoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0V2luZG93UGF0aCgpIHtcblx0ICByZXR1cm4gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgd2luZG93LmxvY2F0aW9uLnNlYXJjaCArIHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnbyhuKSB7XG5cdCAgaWYgKG4pIHdpbmRvdy5oaXN0b3J5LmdvKG4pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRVc2VyQ29uZmlybWF0aW9uKG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG5cdCAgY2FsbGJhY2sod2luZG93LmNvbmZpcm0obWVzc2FnZSkpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogUmV0dXJucyB0cnVlIGlmIHRoZSBIVE1MNSBoaXN0b3J5IEFQSSBpcyBzdXBwb3J0ZWQuIFRha2VuIGZyb20gTW9kZXJuaXpyLlxuXHQgKlxuXHQgKiBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9MSUNFTlNFXG5cdCAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2Jsb2IvbWFzdGVyL2ZlYXR1cmUtZGV0ZWN0cy9oaXN0b3J5LmpzXG5cdCAqIGNoYW5nZWQgdG8gYXZvaWQgZmFsc2UgbmVnYXRpdmVzIGZvciBXaW5kb3dzIFBob25lczogaHR0cHM6Ly9naXRodWIuY29tL3JhY2t0L3JlYWN0LXJvdXRlci9pc3N1ZXMvNTg2XG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gc3VwcG9ydHNIaXN0b3J5KCkge1xuXHQgIHZhciB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG5cdCAgaWYgKCh1YS5pbmRleE9mKCdBbmRyb2lkIDIuJykgIT09IC0xIHx8IHVhLmluZGV4T2YoJ0FuZHJvaWQgNC4wJykgIT09IC0xKSAmJiB1YS5pbmRleE9mKCdNb2JpbGUgU2FmYXJpJykgIT09IC0xICYmIHVhLmluZGV4T2YoJ0Nocm9tZScpID09PSAtMSAmJiB1YS5pbmRleE9mKCdXaW5kb3dzIFBob25lJykgPT09IC0xKSB7XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHQgIHJldHVybiB3aW5kb3cuaGlzdG9yeSAmJiAncHVzaFN0YXRlJyBpbiB3aW5kb3cuaGlzdG9yeTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFJldHVybnMgZmFsc2UgaWYgdXNpbmcgZ28obikgd2l0aCBoYXNoIGhpc3RvcnkgY2F1c2VzIGEgZnVsbCBwYWdlIHJlbG9hZC5cblx0ICovXG5cdFxuXHRmdW5jdGlvbiBzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCgpIHtcblx0ICB2YXIgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuXHQgIHJldHVybiB1YS5pbmRleE9mKCdGaXJlZm94JykgPT09IC0xO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAzMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0dmFyIF93YXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblx0XG5cdGZ1bmN0aW9uIGRlcHJlY2F0ZShmbiwgbWVzc2FnZSkge1xuXHQgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10oZmFsc2UsICdbaGlzdG9yeV0gJyArIG1lc3NhZ2UpIDogdW5kZWZpbmVkO1xuXHQgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgfTtcblx0fVxuXHRcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gZGVwcmVjYXRlO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkpKVxuXG4vKioqLyB9LFxuLyogMzEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdHZhciBfd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cdFxuXHRmdW5jdGlvbiBydW5UcmFuc2l0aW9uSG9vayhob29rLCBsb2NhdGlvbiwgY2FsbGJhY2spIHtcblx0ICB2YXIgcmVzdWx0ID0gaG9vayhsb2NhdGlvbiwgY2FsbGJhY2spO1xuXHRcblx0ICBpZiAoaG9vay5sZW5ndGggPCAyKSB7XG5cdCAgICAvLyBBc3N1bWUgdGhlIGhvb2sgcnVucyBzeW5jaHJvbm91c2x5IGFuZCBhdXRvbWF0aWNhbGx5XG5cdCAgICAvLyBjYWxsIHRoZSBjYWxsYmFjayB3aXRoIHRoZSByZXR1cm4gdmFsdWUuXG5cdCAgICBjYWxsYmFjayhyZXN1bHQpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10ocmVzdWx0ID09PSB1bmRlZmluZWQsICdZb3Ugc2hvdWxkIG5vdCBcInJldHVyblwiIGluIGEgdHJhbnNpdGlvbiBob29rIHdpdGggYSBjYWxsYmFjayBhcmd1bWVudDsgY2FsbCB0aGUgY2FsbGJhY2sgaW5zdGVhZCcpIDogdW5kZWZpbmVkO1xuXHQgIH1cblx0fVxuXHRcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gcnVuVHJhbnNpdGlvbkhvb2s7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKSkpXG5cbi8qKiovIH0sXG4vKiAzMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRleHBvcnRzLmxvb3BBc3luYyA9IGxvb3BBc3luYztcblx0ZXhwb3J0cy5tYXBBc3luYyA9IG1hcEFzeW5jO1xuXHRmdW5jdGlvbiBsb29wQXN5bmModHVybnMsIHdvcmssIGNhbGxiYWNrKSB7XG5cdCAgdmFyIGN1cnJlbnRUdXJuID0gMCxcblx0ICAgICAgaXNEb25lID0gZmFsc2U7XG5cdCAgdmFyIHN5bmMgPSBmYWxzZSxcblx0ICAgICAgaGFzTmV4dCA9IGZhbHNlLFxuXHQgICAgICBkb25lQXJncyA9IHZvaWQgMDtcblx0XG5cdCAgZnVuY3Rpb24gZG9uZSgpIHtcblx0ICAgIGlzRG9uZSA9IHRydWU7XG5cdCAgICBpZiAoc3luYykge1xuXHQgICAgICAvLyBJdGVyYXRlIGluc3RlYWQgb2YgcmVjdXJzaW5nIGlmIHBvc3NpYmxlLlxuXHQgICAgICBkb25lQXJncyA9IFtdLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBuZXh0KCkge1xuXHQgICAgaWYgKGlzRG9uZSkge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgaGFzTmV4dCA9IHRydWU7XG5cdCAgICBpZiAoc3luYykge1xuXHQgICAgICAvLyBJdGVyYXRlIGluc3RlYWQgb2YgcmVjdXJzaW5nIGlmIHBvc3NpYmxlLlxuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgc3luYyA9IHRydWU7XG5cdFxuXHQgICAgd2hpbGUgKCFpc0RvbmUgJiYgY3VycmVudFR1cm4gPCB0dXJucyAmJiBoYXNOZXh0KSB7XG5cdCAgICAgIGhhc05leHQgPSBmYWxzZTtcblx0ICAgICAgd29yay5jYWxsKHRoaXMsIGN1cnJlbnRUdXJuKyssIG5leHQsIGRvbmUpO1xuXHQgICAgfVxuXHRcblx0ICAgIHN5bmMgPSBmYWxzZTtcblx0XG5cdCAgICBpZiAoaXNEb25lKSB7XG5cdCAgICAgIC8vIFRoaXMgbWVhbnMgdGhlIGxvb3AgZmluaXNoZWQgc3luY2hyb25vdXNseS5cblx0ICAgICAgY2FsbGJhY2suYXBwbHkodGhpcywgZG9uZUFyZ3MpO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGN1cnJlbnRUdXJuID49IHR1cm5zICYmIGhhc05leHQpIHtcblx0ICAgICAgaXNEb25lID0gdHJ1ZTtcblx0ICAgICAgY2FsbGJhY2soKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIG5leHQoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWFwQXN5bmMoYXJyYXksIHdvcmssIGNhbGxiYWNrKSB7XG5cdCAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0ICB2YXIgdmFsdWVzID0gW107XG5cdFxuXHQgIGlmIChsZW5ndGggPT09IDApIHJldHVybiBjYWxsYmFjayhudWxsLCB2YWx1ZXMpO1xuXHRcblx0ICB2YXIgaXNEb25lID0gZmFsc2UsXG5cdCAgICAgIGRvbmVDb3VudCA9IDA7XG5cdFxuXHQgIGZ1bmN0aW9uIGRvbmUoaW5kZXgsIGVycm9yLCB2YWx1ZSkge1xuXHQgICAgaWYgKGlzRG9uZSkgcmV0dXJuO1xuXHRcblx0ICAgIGlmIChlcnJvcikge1xuXHQgICAgICBpc0RvbmUgPSB0cnVlO1xuXHQgICAgICBjYWxsYmFjayhlcnJvcik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG5cdFxuXHQgICAgICBpc0RvbmUgPSArK2RvbmVDb3VudCA9PT0gbGVuZ3RoO1xuXHRcblx0ICAgICAgaWYgKGlzRG9uZSkgY2FsbGJhY2sobnVsbCwgdmFsdWVzKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGFycmF5LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG5cdCAgICB3b3JrKGl0ZW0sIGluZGV4LCBmdW5jdGlvbiAoZXJyb3IsIHZhbHVlKSB7XG5cdCAgICAgIGRvbmUoaW5kZXgsIGVycm9yLCB2YWx1ZSk7XG5cdCAgICB9KTtcblx0ICB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMzMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0cy5yb3V0ZXIgPSBleHBvcnRzLnJvdXRlcyA9IGV4cG9ydHMucm91dGUgPSBleHBvcnRzLmNvbXBvbmVudHMgPSBleHBvcnRzLmNvbXBvbmVudCA9IGV4cG9ydHMubG9jYXRpb24gPSBleHBvcnRzLmhpc3RvcnkgPSBleHBvcnRzLmZhbHN5ID0gZXhwb3J0cy5sb2NhdGlvblNoYXBlID0gZXhwb3J0cy5yb3V0ZXJTaGFwZSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cdFxuXHR2YXIgX2RlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllcyk7XG5cdFxuXHR2YXIgX0ludGVybmFsUHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cdFxuXHR2YXIgSW50ZXJuYWxQcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfSW50ZXJuYWxQcm9wVHlwZXMpO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfcm91dGVyV2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3V0ZXJXYXJuaW5nKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIGZ1bmMgPSBfcmVhY3QuUHJvcFR5cGVzLmZ1bmM7XG5cdHZhciBvYmplY3QgPSBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdDtcblx0dmFyIHNoYXBlID0gX3JlYWN0LlByb3BUeXBlcy5zaGFwZTtcblx0dmFyIHN0cmluZyA9IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nO1xuXHR2YXIgcm91dGVyU2hhcGUgPSBleHBvcnRzLnJvdXRlclNoYXBlID0gc2hhcGUoe1xuXHQgIHB1c2g6IGZ1bmMuaXNSZXF1aXJlZCxcblx0ICByZXBsYWNlOiBmdW5jLmlzUmVxdWlyZWQsXG5cdCAgZ286IGZ1bmMuaXNSZXF1aXJlZCxcblx0ICBnb0JhY2s6IGZ1bmMuaXNSZXF1aXJlZCxcblx0ICBnb0ZvcndhcmQ6IGZ1bmMuaXNSZXF1aXJlZCxcblx0ICBzZXRSb3V0ZUxlYXZlSG9vazogZnVuYy5pc1JlcXVpcmVkLFxuXHQgIGlzQWN0aXZlOiBmdW5jLmlzUmVxdWlyZWRcblx0fSk7XG5cdFxuXHR2YXIgbG9jYXRpb25TaGFwZSA9IGV4cG9ydHMubG9jYXRpb25TaGFwZSA9IHNoYXBlKHtcblx0ICBwYXRobmFtZTogc3RyaW5nLmlzUmVxdWlyZWQsXG5cdCAgc2VhcmNoOiBzdHJpbmcuaXNSZXF1aXJlZCxcblx0ICBzdGF0ZTogb2JqZWN0LFxuXHQgIGFjdGlvbjogc3RyaW5nLmlzUmVxdWlyZWQsXG5cdCAga2V5OiBzdHJpbmdcblx0fSk7XG5cdFxuXHQvLyBEZXByZWNhdGVkIHN0dWZmIGJlbG93OlxuXHRcblx0dmFyIGZhbHN5ID0gZXhwb3J0cy5mYWxzeSA9IEludGVybmFsUHJvcFR5cGVzLmZhbHN5O1xuXHR2YXIgaGlzdG9yeSA9IGV4cG9ydHMuaGlzdG9yeSA9IEludGVybmFsUHJvcFR5cGVzLmhpc3Rvcnk7XG5cdHZhciBsb2NhdGlvbiA9IGV4cG9ydHMubG9jYXRpb24gPSBsb2NhdGlvblNoYXBlO1xuXHR2YXIgY29tcG9uZW50ID0gZXhwb3J0cy5jb21wb25lbnQgPSBJbnRlcm5hbFByb3BUeXBlcy5jb21wb25lbnQ7XG5cdHZhciBjb21wb25lbnRzID0gZXhwb3J0cy5jb21wb25lbnRzID0gSW50ZXJuYWxQcm9wVHlwZXMuY29tcG9uZW50cztcblx0dmFyIHJvdXRlID0gZXhwb3J0cy5yb3V0ZSA9IEludGVybmFsUHJvcFR5cGVzLnJvdXRlO1xuXHR2YXIgcm91dGVzID0gZXhwb3J0cy5yb3V0ZXMgPSBJbnRlcm5hbFByb3BUeXBlcy5yb3V0ZXM7XG5cdHZhciByb3V0ZXIgPSBleHBvcnRzLnJvdXRlciA9IHJvdXRlclNoYXBlO1xuXHRcblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAoZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIGRlcHJlY2F0ZVByb3BUeXBlID0gZnVuY3Rpb24gZGVwcmVjYXRlUHJvcFR5cGUocHJvcFR5cGUsIG1lc3NhZ2UpIHtcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgbWVzc2FnZSkgOiB2b2lkIDA7XG5cdCAgICAgICAgcmV0dXJuIHByb3BUeXBlLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcblx0ICAgICAgfTtcblx0ICAgIH07XG5cdFxuXHQgICAgdmFyIGRlcHJlY2F0ZUludGVybmFsUHJvcFR5cGUgPSBmdW5jdGlvbiBkZXByZWNhdGVJbnRlcm5hbFByb3BUeXBlKHByb3BUeXBlKSB7XG5cdCAgICAgIHJldHVybiBkZXByZWNhdGVQcm9wVHlwZShwcm9wVHlwZSwgJ1RoaXMgcHJvcCB0eXBlIGlzIG5vdCBpbnRlbmRlZCBmb3IgZXh0ZXJuYWwgdXNlLCBhbmQgd2FzIHByZXZpb3VzbHkgZXhwb3J0ZWQgYnkgbWlzdGFrZS4gVGhlc2UgaW50ZXJuYWwgcHJvcCB0eXBlcyBhcmUgZGVwcmVjYXRlZCBmb3IgZXh0ZXJuYWwgdXNlLCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgbGF0ZXIgdmVyc2lvbi4nKTtcblx0ICAgIH07XG5cdFxuXHQgICAgdmFyIGRlcHJlY2F0ZVJlbmFtZWRQcm9wVHlwZSA9IGZ1bmN0aW9uIGRlcHJlY2F0ZVJlbmFtZWRQcm9wVHlwZShwcm9wVHlwZSwgbmFtZSkge1xuXHQgICAgICByZXR1cm4gZGVwcmVjYXRlUHJvcFR5cGUocHJvcFR5cGUsICdUaGUgYCcgKyBuYW1lICsgJ2AgcHJvcCB0eXBlIGlzIG5vdyBleHBvcnRlZCBhcyBgJyArIG5hbWUgKyAnU2hhcGVgIHRvIGF2b2lkIG5hbWUgY29uZmxpY3RzLiBUaGlzIGV4cG9ydCBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBsYXRlciB2ZXJzaW9uLicpO1xuXHQgICAgfTtcblx0XG5cdCAgICBleHBvcnRzLmZhbHN5ID0gZmFsc3kgPSBkZXByZWNhdGVJbnRlcm5hbFByb3BUeXBlKGZhbHN5KTtcblx0ICAgIGV4cG9ydHMuaGlzdG9yeSA9IGhpc3RvcnkgPSBkZXByZWNhdGVJbnRlcm5hbFByb3BUeXBlKGhpc3RvcnkpO1xuXHQgICAgZXhwb3J0cy5jb21wb25lbnQgPSBjb21wb25lbnQgPSBkZXByZWNhdGVJbnRlcm5hbFByb3BUeXBlKGNvbXBvbmVudCk7XG5cdCAgICBleHBvcnRzLmNvbXBvbmVudHMgPSBjb21wb25lbnRzID0gZGVwcmVjYXRlSW50ZXJuYWxQcm9wVHlwZShjb21wb25lbnRzKTtcblx0ICAgIGV4cG9ydHMucm91dGUgPSByb3V0ZSA9IGRlcHJlY2F0ZUludGVybmFsUHJvcFR5cGUocm91dGUpO1xuXHQgICAgZXhwb3J0cy5yb3V0ZXMgPSByb3V0ZXMgPSBkZXByZWNhdGVJbnRlcm5hbFByb3BUeXBlKHJvdXRlcyk7XG5cdFxuXHQgICAgZXhwb3J0cy5sb2NhdGlvbiA9IGxvY2F0aW9uID0gZGVwcmVjYXRlUmVuYW1lZFByb3BUeXBlKGxvY2F0aW9uLCAnbG9jYXRpb24nKTtcblx0ICAgIGV4cG9ydHMucm91dGVyID0gcm91dGVyID0gZGVwcmVjYXRlUmVuYW1lZFByb3BUeXBlKHJvdXRlciwgJ3JvdXRlcicpO1xuXHQgIH0pKCk7XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0RXhwb3J0ID0ge1xuXHQgIGZhbHN5OiBmYWxzeSxcblx0ICBoaXN0b3J5OiBoaXN0b3J5LFxuXHQgIGxvY2F0aW9uOiBsb2NhdGlvbixcblx0ICBjb21wb25lbnQ6IGNvbXBvbmVudCxcblx0ICBjb21wb25lbnRzOiBjb21wb25lbnRzLFxuXHQgIHJvdXRlOiByb3V0ZSxcblx0ICAvLyBGb3Igc29tZSByZWFzb24sIHJvdXRlcyB3YXMgbmV2ZXIgaGVyZS5cblx0ICByb3V0ZXI6IHJvdXRlclxuXHR9O1xuXHRcblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICBkZWZhdWx0RXhwb3J0ID0gKDAsIF9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzMi5kZWZhdWx0KShkZWZhdWx0RXhwb3J0LCAnVGhlIGRlZmF1bHQgZXhwb3J0IGZyb20gYHJlYWN0LXJvdXRlci9saWIvUHJvcFR5cGVzYCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHRoZSBuYW1lZCBleHBvcnRzIGluc3RlYWQuJyk7XG5cdH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGRlZmF1bHRFeHBvcnQ7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKSlcblxuLyoqKi8gfSxcbi8qIDM0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXI7XG5cdFxuXHR2YXIgX3JvdXRlcldhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXHRcblx0dmFyIF9jb21wdXRlQ2hhbmdlZFJvdXRlczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg1KTtcblx0XG5cdHZhciBfY29tcHV0ZUNoYW5nZWRSb3V0ZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcHV0ZUNoYW5nZWRSb3V0ZXMyKTtcblx0XG5cdHZhciBfVHJhbnNpdGlvblV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Mik7XG5cdFxuXHR2YXIgX2lzQWN0aXZlMiA9IF9fd2VicGFja19yZXF1aXJlX18oODkpO1xuXHRcblx0dmFyIF9pc0FjdGl2ZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0FjdGl2ZTIpO1xuXHRcblx0dmFyIF9nZXRDb21wb25lbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nik7XG5cdFxuXHR2YXIgX2dldENvbXBvbmVudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0Q29tcG9uZW50cyk7XG5cdFxuXHR2YXIgX21hdGNoUm91dGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MSk7XG5cdFxuXHR2YXIgX21hdGNoUm91dGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hdGNoUm91dGVzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBoYXNBbnlQcm9wZXJ0aWVzKG9iamVjdCkge1xuXHQgIGZvciAodmFyIHAgaW4gb2JqZWN0KSB7XG5cdCAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcCkpIHJldHVybiB0cnVlO1xuXHQgIH1yZXR1cm4gZmFsc2U7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKGhpc3RvcnksIHJvdXRlcykge1xuXHQgIHZhciBzdGF0ZSA9IHt9O1xuXHRcblx0ICAvLyBTaWduYXR1cmUgc2hvdWxkIGJlIChsb2NhdGlvbiwgaW5kZXhPbmx5KSwgYnV0IG5lZWRzIHRvIHN1cHBvcnQgKHBhdGgsXG5cdCAgLy8gcXVlcnksIGluZGV4T25seSlcblx0ICBmdW5jdGlvbiBpc0FjdGl2ZShsb2NhdGlvbikge1xuXHQgICAgdmFyIGluZGV4T25seU9yRGVwcmVjYXRlZFF1ZXJ5ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbMV07XG5cdCAgICB2YXIgZGVwcmVjYXRlZEluZGV4T25seSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbMl07XG5cdFxuXHQgICAgdmFyIGluZGV4T25seSA9IHZvaWQgMDtcblx0ICAgIGlmIChpbmRleE9ubHlPckRlcHJlY2F0ZWRRdWVyeSAmJiBpbmRleE9ubHlPckRlcHJlY2F0ZWRRdWVyeSAhPT0gdHJ1ZSB8fCBkZXByZWNhdGVkSW5kZXhPbmx5ICE9PSBudWxsKSB7XG5cdCAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKGZhbHNlLCAnYGlzQWN0aXZlKHBhdGhuYW1lLCBxdWVyeSwgaW5kZXhPbmx5KSBpcyBkZXByZWNhdGVkOyB1c2UgYGlzQWN0aXZlKGxvY2F0aW9uLCBpbmRleE9ubHkpYCB3aXRoIGEgbG9jYXRpb24gZGVzY3JpcHRvciBpbnN0ZWFkLiBodHRwOi8vdGlueS5jYy9yb3V0ZXItaXNBY3RpdmVkZXByZWNhdGVkJykgOiB2b2lkIDA7XG5cdCAgICAgIGxvY2F0aW9uID0geyBwYXRobmFtZTogbG9jYXRpb24sIHF1ZXJ5OiBpbmRleE9ubHlPckRlcHJlY2F0ZWRRdWVyeSB9O1xuXHQgICAgICBpbmRleE9ubHkgPSBkZXByZWNhdGVkSW5kZXhPbmx5IHx8IGZhbHNlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgbG9jYXRpb24gPSBoaXN0b3J5LmNyZWF0ZUxvY2F0aW9uKGxvY2F0aW9uKTtcblx0ICAgICAgaW5kZXhPbmx5ID0gaW5kZXhPbmx5T3JEZXByZWNhdGVkUXVlcnk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuICgwLCBfaXNBY3RpdmUzLmRlZmF1bHQpKGxvY2F0aW9uLCBpbmRleE9ubHksIHN0YXRlLmxvY2F0aW9uLCBzdGF0ZS5yb3V0ZXMsIHN0YXRlLnBhcmFtcyk7XG5cdCAgfVxuXHRcblx0ICB2YXIgcGFydGlhbE5leHRTdGF0ZSA9IHZvaWQgMDtcblx0XG5cdCAgZnVuY3Rpb24gbWF0Y2gobG9jYXRpb24sIGNhbGxiYWNrKSB7XG5cdCAgICBpZiAocGFydGlhbE5leHRTdGF0ZSAmJiBwYXJ0aWFsTmV4dFN0YXRlLmxvY2F0aW9uID09PSBsb2NhdGlvbikge1xuXHQgICAgICAvLyBDb250aW51ZSBmcm9tIHdoZXJlIHdlIGxlZnQgb2ZmLlxuXHQgICAgICBmaW5pc2hNYXRjaChwYXJ0aWFsTmV4dFN0YXRlLCBjYWxsYmFjayk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAoMCwgX21hdGNoUm91dGVzMi5kZWZhdWx0KShyb3V0ZXMsIGxvY2F0aW9uLCBmdW5jdGlvbiAoZXJyb3IsIG5leHRTdGF0ZSkge1xuXHQgICAgICAgIGlmIChlcnJvcikge1xuXHQgICAgICAgICAgY2FsbGJhY2soZXJyb3IpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAobmV4dFN0YXRlKSB7XG5cdCAgICAgICAgICBmaW5pc2hNYXRjaChfZXh0ZW5kcyh7fSwgbmV4dFN0YXRlLCB7IGxvY2F0aW9uOiBsb2NhdGlvbiB9KSwgY2FsbGJhY2spO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBjYWxsYmFjaygpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBmaW5pc2hNYXRjaChuZXh0U3RhdGUsIGNhbGxiYWNrKSB7XG5cdCAgICB2YXIgX2NvbXB1dGVDaGFuZ2VkUm91dGVzID0gKDAsIF9jb21wdXRlQ2hhbmdlZFJvdXRlczMuZGVmYXVsdCkoc3RhdGUsIG5leHRTdGF0ZSk7XG5cdFxuXHQgICAgdmFyIGxlYXZlUm91dGVzID0gX2NvbXB1dGVDaGFuZ2VkUm91dGVzLmxlYXZlUm91dGVzO1xuXHQgICAgdmFyIGNoYW5nZVJvdXRlcyA9IF9jb21wdXRlQ2hhbmdlZFJvdXRlcy5jaGFuZ2VSb3V0ZXM7XG5cdCAgICB2YXIgZW50ZXJSb3V0ZXMgPSBfY29tcHV0ZUNoYW5nZWRSb3V0ZXMuZW50ZXJSb3V0ZXM7XG5cdFxuXHRcblx0ICAgICgwLCBfVHJhbnNpdGlvblV0aWxzLnJ1bkxlYXZlSG9va3MpKGxlYXZlUm91dGVzLCBzdGF0ZSk7XG5cdFxuXHQgICAgLy8gVGVhciBkb3duIGNvbmZpcm1hdGlvbiBob29rcyBmb3IgbGVmdCByb3V0ZXNcblx0ICAgIGxlYXZlUm91dGVzLmZpbHRlcihmdW5jdGlvbiAocm91dGUpIHtcblx0ICAgICAgcmV0dXJuIGVudGVyUm91dGVzLmluZGV4T2Yocm91dGUpID09PSAtMTtcblx0ICAgIH0pLmZvckVhY2gocmVtb3ZlTGlzdGVuQmVmb3JlSG9va3NGb3JSb3V0ZSk7XG5cdFxuXHQgICAgLy8gY2hhbmdlIGFuZCBlbnRlciBob29rcyBhcmUgcnVuIGluIHNlcmllc1xuXHQgICAgKDAsIF9UcmFuc2l0aW9uVXRpbHMucnVuQ2hhbmdlSG9va3MpKGNoYW5nZVJvdXRlcywgc3RhdGUsIG5leHRTdGF0ZSwgZnVuY3Rpb24gKGVycm9yLCByZWRpcmVjdEluZm8pIHtcblx0ICAgICAgaWYgKGVycm9yIHx8IHJlZGlyZWN0SW5mbykgcmV0dXJuIGhhbmRsZUVycm9yT3JSZWRpcmVjdChlcnJvciwgcmVkaXJlY3RJbmZvKTtcblx0XG5cdCAgICAgICgwLCBfVHJhbnNpdGlvblV0aWxzLnJ1bkVudGVySG9va3MpKGVudGVyUm91dGVzLCBuZXh0U3RhdGUsIGZpbmlzaEVudGVySG9va3MpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgZnVuY3Rpb24gZmluaXNoRW50ZXJIb29rcyhlcnJvciwgcmVkaXJlY3RJbmZvKSB7XG5cdCAgICAgIGlmIChlcnJvciB8fCByZWRpcmVjdEluZm8pIHJldHVybiBoYW5kbGVFcnJvck9yUmVkaXJlY3QoZXJyb3IsIHJlZGlyZWN0SW5mbyk7XG5cdFxuXHQgICAgICAvLyBUT0RPOiBGZXRjaCBjb21wb25lbnRzIGFmdGVyIHN0YXRlIGlzIHVwZGF0ZWQuXG5cdCAgICAgICgwLCBfZ2V0Q29tcG9uZW50czIuZGVmYXVsdCkobmV4dFN0YXRlLCBmdW5jdGlvbiAoZXJyb3IsIGNvbXBvbmVudHMpIHtcblx0ICAgICAgICBpZiAoZXJyb3IpIHtcblx0ICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgLy8gVE9ETzogTWFrZSBtYXRjaCBhIHB1cmUgZnVuY3Rpb24gYW5kIGhhdmUgc29tZSBvdGhlciBBUElcblx0ICAgICAgICAgIC8vIGZvciBcIm1hdGNoIGFuZCB1cGRhdGUgc3RhdGVcIi5cblx0ICAgICAgICAgIGNhbGxiYWNrKG51bGwsIG51bGwsIHN0YXRlID0gX2V4dGVuZHMoe30sIG5leHRTdGF0ZSwgeyBjb21wb25lbnRzOiBjb21wb25lbnRzIH0pKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIGhhbmRsZUVycm9yT3JSZWRpcmVjdChlcnJvciwgcmVkaXJlY3RJbmZvKSB7XG5cdCAgICAgIGlmIChlcnJvcikgY2FsbGJhY2soZXJyb3IpO2Vsc2UgY2FsbGJhY2sobnVsbCwgcmVkaXJlY3RJbmZvKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHZhciBSb3V0ZUd1aWQgPSAxO1xuXHRcblx0ICBmdW5jdGlvbiBnZXRSb3V0ZUlEKHJvdXRlKSB7XG5cdCAgICB2YXIgY3JlYXRlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICByZXR1cm4gcm91dGUuX19pZF9fIHx8IGNyZWF0ZSAmJiAocm91dGUuX19pZF9fID0gUm91dGVHdWlkKyspO1xuXHQgIH1cblx0XG5cdCAgdmFyIFJvdXRlSG9va3MgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHRcblx0ICBmdW5jdGlvbiBnZXRSb3V0ZUhvb2tzRm9yUm91dGVzKHJvdXRlcykge1xuXHQgICAgcmV0dXJuIHJvdXRlcy5yZWR1Y2UoZnVuY3Rpb24gKGhvb2tzLCByb3V0ZSkge1xuXHQgICAgICBob29rcy5wdXNoLmFwcGx5KGhvb2tzLCBSb3V0ZUhvb2tzW2dldFJvdXRlSUQocm91dGUpXSk7XG5cdCAgICAgIHJldHVybiBob29rcztcblx0ICAgIH0sIFtdKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHRyYW5zaXRpb25Ib29rKGxvY2F0aW9uLCBjYWxsYmFjaykge1xuXHQgICAgKDAsIF9tYXRjaFJvdXRlczIuZGVmYXVsdCkocm91dGVzLCBsb2NhdGlvbiwgZnVuY3Rpb24gKGVycm9yLCBuZXh0U3RhdGUpIHtcblx0ICAgICAgaWYgKG5leHRTdGF0ZSA9PSBudWxsKSB7XG5cdCAgICAgICAgLy8gVE9ETzogV2UgZGlkbid0IGFjdHVhbGx5IG1hdGNoIGFueXRoaW5nLCBidXQgaGFuZ1xuXHQgICAgICAgIC8vIG9udG8gZXJyb3IvbmV4dFN0YXRlIHNvIHdlIGRvbid0IGhhdmUgdG8gbWF0Y2hSb3V0ZXNcblx0ICAgICAgICAvLyBhZ2FpbiBpbiB0aGUgbGlzdGVuIGNhbGxiYWNrLlxuXHQgICAgICAgIGNhbGxiYWNrKCk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICAvLyBDYWNoZSBzb21lIHN0YXRlIGhlcmUgc28gd2UgZG9uJ3QgaGF2ZSB0b1xuXHQgICAgICAvLyBtYXRjaFJvdXRlcygpIGFnYWluIGluIHRoZSBsaXN0ZW4gY2FsbGJhY2suXG5cdCAgICAgIHBhcnRpYWxOZXh0U3RhdGUgPSBfZXh0ZW5kcyh7fSwgbmV4dFN0YXRlLCB7IGxvY2F0aW9uOiBsb2NhdGlvbiB9KTtcblx0XG5cdCAgICAgIHZhciBob29rcyA9IGdldFJvdXRlSG9va3NGb3JSb3V0ZXMoKDAsIF9jb21wdXRlQ2hhbmdlZFJvdXRlczMuZGVmYXVsdCkoc3RhdGUsIHBhcnRpYWxOZXh0U3RhdGUpLmxlYXZlUm91dGVzKTtcblx0XG5cdCAgICAgIHZhciByZXN1bHQgPSB2b2lkIDA7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBob29rcy5sZW5ndGg7IHJlc3VsdCA9PSBudWxsICYmIGkgPCBsZW47ICsraSkge1xuXHQgICAgICAgIC8vIFBhc3NpbmcgdGhlIGxvY2F0aW9uIGFyZyBoZXJlIGluZGljYXRlcyB0b1xuXHQgICAgICAgIC8vIHRoZSB1c2VyIHRoYXQgdGhpcyBpcyBhIHRyYW5zaXRpb24gaG9vay5cblx0ICAgICAgICByZXN1bHQgPSBob29rc1tpXShsb2NhdGlvbik7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGNhbGxiYWNrKHJlc3VsdCk7XG5cdCAgICB9KTtcblx0ICB9XG5cdFxuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiB1bnRlc3RhYmxlIHdpdGggS2FybWEgKi9cblx0ICBmdW5jdGlvbiBiZWZvcmVVbmxvYWRIb29rKCkge1xuXHQgICAgLy8gU3luY2hyb25vdXNseSBjaGVjayB0byBzZWUgaWYgYW55IHJvdXRlIGhvb2tzIHdhbnRcblx0ICAgIC8vIHRvIHByZXZlbnQgdGhlIGN1cnJlbnQgd2luZG93L3RhYiBmcm9tIGNsb3NpbmcuXG5cdCAgICBpZiAoc3RhdGUucm91dGVzKSB7XG5cdCAgICAgIHZhciBob29rcyA9IGdldFJvdXRlSG9va3NGb3JSb3V0ZXMoc3RhdGUucm91dGVzKTtcblx0XG5cdCAgICAgIHZhciBtZXNzYWdlID0gdm9pZCAwO1xuXHQgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gaG9va3MubGVuZ3RoOyB0eXBlb2YgbWVzc2FnZSAhPT0gJ3N0cmluZycgJiYgaSA8IGxlbjsgKytpKSB7XG5cdCAgICAgICAgLy8gUGFzc2luZyBubyBhcmdzIGluZGljYXRlcyB0byB0aGUgdXNlciB0aGF0IHRoaXMgaXMgYVxuXHQgICAgICAgIC8vIGJlZm9yZXVubG9hZCBob29rLiBXZSBkb24ndCBrbm93IHRoZSBuZXh0IGxvY2F0aW9uLlxuXHQgICAgICAgIG1lc3NhZ2UgPSBob29rc1tpXSgpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gbWVzc2FnZTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHZhciB1bmxpc3RlbkJlZm9yZSA9IHZvaWQgMCxcblx0ICAgICAgdW5saXN0ZW5CZWZvcmVVbmxvYWQgPSB2b2lkIDA7XG5cdFxuXHQgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbkJlZm9yZUhvb2tzRm9yUm91dGUocm91dGUpIHtcblx0ICAgIHZhciByb3V0ZUlEID0gZ2V0Um91dGVJRChyb3V0ZSwgZmFsc2UpO1xuXHQgICAgaWYgKCFyb3V0ZUlEKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBkZWxldGUgUm91dGVIb29rc1tyb3V0ZUlEXTtcblx0XG5cdCAgICBpZiAoIWhhc0FueVByb3BlcnRpZXMoUm91dGVIb29rcykpIHtcblx0ICAgICAgLy8gdGVhcmRvd24gdHJhbnNpdGlvbiAmIGJlZm9yZXVubG9hZCBob29rc1xuXHQgICAgICBpZiAodW5saXN0ZW5CZWZvcmUpIHtcblx0ICAgICAgICB1bmxpc3RlbkJlZm9yZSgpO1xuXHQgICAgICAgIHVubGlzdGVuQmVmb3JlID0gbnVsbDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKHVubGlzdGVuQmVmb3JlVW5sb2FkKSB7XG5cdCAgICAgICAgdW5saXN0ZW5CZWZvcmVVbmxvYWQoKTtcblx0ICAgICAgICB1bmxpc3RlbkJlZm9yZVVubG9hZCA9IG51bGw7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIFJlZ2lzdGVycyB0aGUgZ2l2ZW4gaG9vayBmdW5jdGlvbiB0byBydW4gYmVmb3JlIGxlYXZpbmcgdGhlIGdpdmVuIHJvdXRlLlxuXHQgICAqXG5cdCAgICogRHVyaW5nIGEgbm9ybWFsIHRyYW5zaXRpb24sIHRoZSBob29rIGZ1bmN0aW9uIHJlY2VpdmVzIHRoZSBuZXh0IGxvY2F0aW9uXG5cdCAgICogYXMgaXRzIG9ubHkgYXJndW1lbnQgYW5kIGNhbiByZXR1cm4gZWl0aGVyIGEgcHJvbXB0IG1lc3NhZ2UgKHN0cmluZykgdG8gc2hvdyB0aGUgdXNlcixcblx0ICAgKiB0byBtYWtlIHN1cmUgdGhleSB3YW50IHRvIGxlYXZlIHRoZSBwYWdlOyBvciBgZmFsc2VgLCB0byBwcmV2ZW50IHRoZSB0cmFuc2l0aW9uLlxuXHQgICAqIEFueSBvdGhlciByZXR1cm4gdmFsdWUgd2lsbCBoYXZlIG5vIGVmZmVjdC5cblx0ICAgKlxuXHQgICAqIER1cmluZyB0aGUgYmVmb3JldW5sb2FkIGV2ZW50IChpbiBicm93c2VycykgdGhlIGhvb2sgcmVjZWl2ZXMgbm8gYXJndW1lbnRzLlxuXHQgICAqIEluIHRoaXMgY2FzZSBpdCBtdXN0IHJldHVybiBhIHByb21wdCBtZXNzYWdlIHRvIHByZXZlbnQgdGhlIHRyYW5zaXRpb24uXG5cdCAgICpcblx0ICAgKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBtYXkgYmUgdXNlZCB0byB1bmJpbmQgdGhlIGxpc3RlbmVyLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGxpc3RlbkJlZm9yZUxlYXZpbmdSb3V0ZShyb3V0ZSwgaG9vaykge1xuXHQgICAgLy8gVE9ETzogV2FybiBpZiB0aGV5IHJlZ2lzdGVyIGZvciBhIHJvdXRlIHRoYXQgaXNuJ3QgY3VycmVudGx5XG5cdCAgICAvLyBhY3RpdmUuIFRoZXkncmUgcHJvYmFibHkgZG9pbmcgc29tZXRoaW5nIHdyb25nLCBsaWtlIHJlLWNyZWF0aW5nXG5cdCAgICAvLyByb3V0ZSBvYmplY3RzIG9uIGV2ZXJ5IGxvY2F0aW9uIGNoYW5nZS5cblx0ICAgIHZhciByb3V0ZUlEID0gZ2V0Um91dGVJRChyb3V0ZSk7XG5cdCAgICB2YXIgaG9va3MgPSBSb3V0ZUhvb2tzW3JvdXRlSURdO1xuXHRcblx0ICAgIGlmICghaG9va3MpIHtcblx0ICAgICAgdmFyIHRoZXJlV2VyZU5vUm91dGVIb29rcyA9ICFoYXNBbnlQcm9wZXJ0aWVzKFJvdXRlSG9va3MpO1xuXHRcblx0ICAgICAgUm91dGVIb29rc1tyb3V0ZUlEXSA9IFtob29rXTtcblx0XG5cdCAgICAgIGlmICh0aGVyZVdlcmVOb1JvdXRlSG9va3MpIHtcblx0ICAgICAgICAvLyBzZXR1cCB0cmFuc2l0aW9uICYgYmVmb3JldW5sb2FkIGhvb2tzXG5cdCAgICAgICAgdW5saXN0ZW5CZWZvcmUgPSBoaXN0b3J5Lmxpc3RlbkJlZm9yZSh0cmFuc2l0aW9uSG9vayk7XG5cdFxuXHQgICAgICAgIGlmIChoaXN0b3J5Lmxpc3RlbkJlZm9yZVVubG9hZCkgdW5saXN0ZW5CZWZvcmVVbmxvYWQgPSBoaXN0b3J5Lmxpc3RlbkJlZm9yZVVubG9hZChiZWZvcmVVbmxvYWRIb29rKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaWYgKGhvb2tzLmluZGV4T2YoaG9vaykgPT09IC0xKSB7XG5cdCAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdhZGRpbmcgbXVsdGlwbGUgbGVhdmUgaG9va3MgZm9yIHRoZSBzYW1lIHJvdXRlIGlzIGRlcHJlY2F0ZWQ7IG1hbmFnZSBtdWx0aXBsZSBjb25maXJtYXRpb25zIGluIHlvdXIgb3duIGNvZGUgaW5zdGVhZCcpIDogdm9pZCAwO1xuXHRcblx0ICAgICAgICBob29rcy5wdXNoKGhvb2spO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIGhvb2tzID0gUm91dGVIb29rc1tyb3V0ZUlEXTtcblx0XG5cdCAgICAgIGlmIChob29rcykge1xuXHQgICAgICAgIHZhciBuZXdIb29rcyA9IGhvb2tzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgICAgcmV0dXJuIGl0ZW0gIT09IGhvb2s7XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIGlmIChuZXdIb29rcy5sZW5ndGggPT09IDApIHtcblx0ICAgICAgICAgIHJlbW92ZUxpc3RlbkJlZm9yZUhvb2tzRm9yUm91dGUocm91dGUpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBSb3V0ZUhvb2tzW3JvdXRlSURdID0gbmV3SG9va3M7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogVGhpcyBpcyB0aGUgQVBJIGZvciBzdGF0ZWZ1bCBlbnZpcm9ubWVudHMuIEFzIHRoZSBsb2NhdGlvblxuXHQgICAqIGNoYW5nZXMsIHdlIHVwZGF0ZSBzdGF0ZSBhbmQgY2FsbCB0aGUgbGlzdGVuZXIuIFdlIGNhbiBhbHNvXG5cdCAgICogZ3JhY2VmdWxseSBoYW5kbGUgZXJyb3JzIGFuZCByZWRpcmVjdHMuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG5cdCAgICAvLyBUT0RPOiBPbmx5IHVzZSBhIHNpbmdsZSBoaXN0b3J5IGxpc3RlbmVyLiBPdGhlcndpc2Ugd2UnbGxcblx0ICAgIC8vIGVuZCB1cCB3aXRoIG11bHRpcGxlIGNvbmN1cnJlbnQgY2FsbHMgdG8gbWF0Y2guXG5cdCAgICByZXR1cm4gaGlzdG9yeS5saXN0ZW4oZnVuY3Rpb24gKGxvY2F0aW9uKSB7XG5cdCAgICAgIGlmIChzdGF0ZS5sb2NhdGlvbiA9PT0gbG9jYXRpb24pIHtcblx0ICAgICAgICBsaXN0ZW5lcihudWxsLCBzdGF0ZSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgbWF0Y2gobG9jYXRpb24sIGZ1bmN0aW9uIChlcnJvciwgcmVkaXJlY3RMb2NhdGlvbiwgbmV4dFN0YXRlKSB7XG5cdCAgICAgICAgICBpZiAoZXJyb3IpIHtcblx0ICAgICAgICAgICAgbGlzdGVuZXIoZXJyb3IpO1xuXHQgICAgICAgICAgfSBlbHNlIGlmIChyZWRpcmVjdExvY2F0aW9uKSB7XG5cdCAgICAgICAgICAgIGhpc3RvcnkucmVwbGFjZShyZWRpcmVjdExvY2F0aW9uKTtcblx0ICAgICAgICAgIH0gZWxzZSBpZiAobmV4dFN0YXRlKSB7XG5cdCAgICAgICAgICAgIGxpc3RlbmVyKG51bGwsIG5leHRTdGF0ZSk7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ0xvY2F0aW9uIFwiJXNcIiBkaWQgbm90IG1hdGNoIGFueSByb3V0ZXMnLCBsb2NhdGlvbi5wYXRobmFtZSArIGxvY2F0aW9uLnNlYXJjaCArIGxvY2F0aW9uLmhhc2gpIDogdm9pZCAwO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICBpc0FjdGl2ZTogaXNBY3RpdmUsXG5cdCAgICBtYXRjaDogbWF0Y2gsXG5cdCAgICBsaXN0ZW5CZWZvcmVMZWF2aW5nUm91dGU6IGxpc3RlbkJlZm9yZUxlYXZpbmdSb3V0ZSxcblx0ICAgIGxpc3RlbjogbGlzdGVuXG5cdCAgfTtcblx0fVxuXHRcblx0Ly9leHBvcnQgZGVmYXVsdCB1c2VSb3V0ZXNcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKSkpXG5cbi8qKiovIH0sXG4vKiAzNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0IWZ1bmN0aW9uKHQsZSl7IHRydWU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5SZWR1eD1lKCk6dC5SZWR1eD1lKCl9KHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyKXtpZihuW3JdKXJldHVybiBuW3JdLmV4cG9ydHM7dmFyIG89bltyXT17ZXhwb3J0czp7fSxpZDpyLGxvYWRlZDohMX07cmV0dXJuIHRbcl0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsZSksby5sb2FkZWQ9ITAsby5leHBvcnRzfXZhciBuPXt9O3JldHVybiBlLm09dCxlLmM9bixlLnA9XCJcIixlKDApfShbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1lLl9fZXNNb2R1bGU9ITAsZS5jb21wb3NlPWUuYXBwbHlNaWRkbGV3YXJlPWUuYmluZEFjdGlvbkNyZWF0b3JzPWUuY29tYmluZVJlZHVjZXJzPWUuY3JlYXRlU3RvcmU9dm9pZCAwO3ZhciBvPW4oMiksdT1yKG8pLGk9big3KSxjPXIoaSksYT1uKDYpLGY9cihhKSxzPW4oNSksZD1yKHMpLGw9bigxKSxwPXIobCkseT1uKDMpO3IoeSk7ZS5jcmVhdGVTdG9yZT11W1wiZGVmYXVsdFwiXSxlLmNvbWJpbmVSZWR1Y2Vycz1jW1wiZGVmYXVsdFwiXSxlLmJpbmRBY3Rpb25DcmVhdG9ycz1mW1wiZGVmYXVsdFwiXSxlLmFwcGx5TWlkZGxld2FyZT1kW1wiZGVmYXVsdFwiXSxlLmNvbXBvc2U9cFtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9QXJyYXkodCksbj0wO3Q+bjtuKyspZVtuXT1hcmd1bWVudHNbbl07aWYoMD09PWUubGVuZ3RoKXJldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdH07aWYoMT09PWUubGVuZ3RoKXJldHVybiBlWzBdO3ZhciByPWVbZS5sZW5ndGgtMV0sbz1lLnNsaWNlKDAsLTEpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBvLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUodCl9LHIuYXBwbHkodm9pZCAwLGFyZ3VtZW50cykpfX1lLl9fZXNNb2R1bGU9ITAsZVtcImRlZmF1bHRcIl09bn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiBvKHQsZSxuKXtmdW5jdGlvbiByKCl7Yj09PWgmJihiPWguc2xpY2UoKSl9ZnVuY3Rpb24gdSgpe3JldHVybiB2fWZ1bmN0aW9uIGModCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBFcnJvcihcIkV4cGVjdGVkIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24uXCIpO3ZhciBlPSEwO3JldHVybiByKCksYi5wdXNoKHQpLGZ1bmN0aW9uKCl7aWYoZSl7ZT0hMSxyKCk7dmFyIG49Yi5pbmRleE9mKHQpO2Iuc3BsaWNlKG4sMSl9fX1mdW5jdGlvbiBzKHQpe2lmKCEoMCxpW1wiZGVmYXVsdFwiXSkodCkpdGhyb3cgRXJyb3IoXCJBY3Rpb25zIG11c3QgYmUgcGxhaW4gb2JqZWN0cy4gVXNlIGN1c3RvbSBtaWRkbGV3YXJlIGZvciBhc3luYyBhY3Rpb25zLlwiKTtpZih2b2lkIDA9PT10LnR5cGUpdGhyb3cgRXJyb3IoJ0FjdGlvbnMgbWF5IG5vdCBoYXZlIGFuIHVuZGVmaW5lZCBcInR5cGVcIiBwcm9wZXJ0eS4gSGF2ZSB5b3UgbWlzc3BlbGxlZCBhIGNvbnN0YW50PycpO2lmKG0pdGhyb3cgRXJyb3IoXCJSZWR1Y2VycyBtYXkgbm90IGRpc3BhdGNoIGFjdGlvbnMuXCIpO3RyeXttPSEwLHY9eSh2LHQpfWZpbmFsbHl7bT0hMX1mb3IodmFyIGU9aD1iLG49MDtlLmxlbmd0aD5uO24rKyllW25dKCk7cmV0dXJuIHR9ZnVuY3Rpb24gZCh0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IEVycm9yKFwiRXhwZWN0ZWQgdGhlIG5leHRSZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uXCIpO3k9dCxzKHt0eXBlOmYuSU5JVH0pfWZ1bmN0aW9uIGwoKXt2YXIgdCxlPWM7cmV0dXJuIHQ9e3N1YnNjcmliZTpmdW5jdGlvbih0KXtmdW5jdGlvbiBuKCl7dC5uZXh0JiZ0Lm5leHQodSgpKX1pZihcIm9iamVjdFwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgdGhlIG9ic2VydmVyIHRvIGJlIGFuIG9iamVjdC5cIik7bigpO3ZhciByPWUobik7cmV0dXJue3Vuc3Vic2NyaWJlOnJ9fX0sdFthW1wiZGVmYXVsdFwiXV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sdH12YXIgcDtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZ2b2lkIDA9PT1uJiYobj1lLGU9dm9pZCAwKSx2b2lkIDAhPT1uKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXRocm93IEVycm9yKFwiRXhwZWN0ZWQgdGhlIGVuaGFuY2VyIHRvIGJlIGEgZnVuY3Rpb24uXCIpO3JldHVybiBuKG8pKHQsZSl9aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBFcnJvcihcIkV4cGVjdGVkIHRoZSByZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uXCIpO3ZhciB5PXQsdj1lLGg9W10sYj1oLG09ITE7cmV0dXJuIHMoe3R5cGU6Zi5JTklUfSkscD17ZGlzcGF0Y2g6cyxzdWJzY3JpYmU6YyxnZXRTdGF0ZTp1LHJlcGxhY2VSZWR1Y2VyOmR9LHBbYVtcImRlZmF1bHRcIl1dPWwscH1lLl9fZXNNb2R1bGU9ITAsZS5BY3Rpb25UeXBlcz12b2lkIDAsZVtcImRlZmF1bHRcIl09bzt2YXIgdT1uKDQpLGk9cih1KSxjPW4oMTIpLGE9cihjKSxmPWUuQWN0aW9uVHlwZXM9e0lOSVQ6XCJAQHJlZHV4L0lOSVRcIn19LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgY29uc29sZS5lcnJvciYmY29uc29sZS5lcnJvcih0KTt0cnl7dGhyb3cgRXJyb3IodCl9Y2F0Y2goZSl7fX1lLl9fZXNNb2R1bGU9ITAsZVtcImRlZmF1bHRcIl09bn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7aWYoIWkodCl8fHAuY2FsbCh0KSE9Y3x8dSh0KSlyZXR1cm4hMTt2YXIgZT1vKHQpO2lmKG51bGw9PT1lKXJldHVybiEwO3ZhciBuPWQuY2FsbChlLFwiY29uc3RydWN0b3JcIikmJmUuY29uc3RydWN0b3I7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmbiBpbnN0YW5jZW9mIG4mJnMuY2FsbChuKT09bH12YXIgbz1uKDgpLHU9big5KSxpPW4oMTEpLGM9XCJbb2JqZWN0IE9iamVjdF1cIixhPUZ1bmN0aW9uLnByb3RvdHlwZSxmPU9iamVjdC5wcm90b3R5cGUscz1hLnRvU3RyaW5nLGQ9Zi5oYXNPd25Qcm9wZXJ0eSxsPXMuY2FsbChPYmplY3QpLHA9Zi50b1N0cmluZzt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiBvKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1BcnJheSh0KSxuPTA7dD5uO24rKyllW25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKG4scixvKXt2YXIgaT10KG4scixvKSxhPWkuZGlzcGF0Y2gsZj1bXSxzPXtnZXRTdGF0ZTppLmdldFN0YXRlLGRpc3BhdGNoOmZ1bmN0aW9uKHQpe3JldHVybiBhKHQpfX07cmV0dXJuIGY9ZS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQocyl9KSxhPWNbXCJkZWZhdWx0XCJdLmFwcGx5KHZvaWQgMCxmKShpLmRpc3BhdGNoKSx1KHt9LGkse2Rpc3BhdGNoOmF9KX19fWUuX19lc01vZHVsZT0hMDt2YXIgdT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJih0W3JdPW5bcl0pfXJldHVybiB0fTtlW1wiZGVmYXVsdFwiXT1vO3ZhciBpPW4oMSksYz1yKGkpfSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0LmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpKX19ZnVuY3Rpb24gcih0LGUpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpcmV0dXJuIG4odCxlKTtpZihcIm9iamVjdFwiIT10eXBlb2YgdHx8bnVsbD09PXQpdGhyb3cgRXJyb3IoXCJiaW5kQWN0aW9uQ3JlYXRvcnMgZXhwZWN0ZWQgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24sIGluc3RlYWQgcmVjZWl2ZWQgXCIrKG51bGw9PT10P1wibnVsbFwiOnR5cGVvZiB0KSsnLiBEaWQgeW91IHdyaXRlIFwiaW1wb3J0IEFjdGlvbkNyZWF0b3JzIGZyb21cIiBpbnN0ZWFkIG9mIFwiaW1wb3J0ICogYXMgQWN0aW9uQ3JlYXRvcnMgZnJvbVwiPycpO2Zvcih2YXIgcj1PYmplY3Qua2V5cyh0KSxvPXt9LHU9MDtyLmxlbmd0aD51O3UrKyl7dmFyIGk9clt1XSxjPXRbaV07XCJmdW5jdGlvblwiPT10eXBlb2YgYyYmKG9baV09bihjLGUpKX1yZXR1cm4gb31lLl9fZXNNb2R1bGU9ITAsZVtcImRlZmF1bHRcIl09cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiBvKHQsZSl7dmFyIG49ZSYmZS50eXBlLHI9biYmJ1wiJytuKydcIid8fFwiYW4gYWN0aW9uXCI7cmV0dXJuXCJHaXZlbiBhY3Rpb24gXCIrcisnLCByZWR1Y2VyIFwiJyt0KydcIiByZXR1cm5lZCB1bmRlZmluZWQuIFRvIGlnbm9yZSBhbiBhY3Rpb24sIHlvdSBtdXN0IGV4cGxpY2l0bHkgcmV0dXJuIHRoZSBwcmV2aW91cyBzdGF0ZS4nfWZ1bmN0aW9uIHUodCl7T2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj10W2VdLHI9bih2b2lkIDAse3R5cGU6Yy5BY3Rpb25UeXBlcy5JTklUfSk7aWYodm9pZCAwPT09cil0aHJvdyBFcnJvcignUmVkdWNlciBcIicrZSsnXCIgcmV0dXJuZWQgdW5kZWZpbmVkIGR1cmluZyBpbml0aWFsaXphdGlvbi4gSWYgdGhlIHN0YXRlIHBhc3NlZCB0byB0aGUgcmVkdWNlciBpcyB1bmRlZmluZWQsIHlvdSBtdXN0IGV4cGxpY2l0bHkgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgbm90IGJlIHVuZGVmaW5lZC4nKTt2YXIgbz1cIkBAcmVkdXgvUFJPQkVfVU5LTk9XTl9BQ1RJT05fXCIrTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDcpLnNwbGl0KFwiXCIpLmpvaW4oXCIuXCIpO2lmKHZvaWQgMD09PW4odm9pZCAwLHt0eXBlOm99KSl0aHJvdyBFcnJvcignUmVkdWNlciBcIicrZSsnXCIgcmV0dXJuZWQgdW5kZWZpbmVkIHdoZW4gcHJvYmVkIHdpdGggYSByYW5kb20gdHlwZS4gJysoXCJEb24ndCB0cnkgdG8gaGFuZGxlIFwiK2MuQWN0aW9uVHlwZXMuSU5JVCsnIG9yIG90aGVyIGFjdGlvbnMgaW4gXCJyZWR1eC8qXCIgJykrXCJuYW1lc3BhY2UuIFRoZXkgYXJlIGNvbnNpZGVyZWQgcHJpdmF0ZS4gSW5zdGVhZCwgeW91IG11c3QgcmV0dXJuIHRoZSBjdXJyZW50IHN0YXRlIGZvciBhbnkgdW5rbm93biBhY3Rpb25zLCB1bmxlc3MgaXQgaXMgdW5kZWZpbmVkLCBpbiB3aGljaCBjYXNlIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZSwgcmVnYXJkbGVzcyBvZiB0aGUgYWN0aW9uIHR5cGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSBub3QgYmUgdW5kZWZpbmVkLlwiKX0pfWZ1bmN0aW9uIGkodCl7Zm9yKHZhciBlPU9iamVjdC5rZXlzKHQpLG49e30scj0wO2UubGVuZ3RoPnI7cisrKXt2YXIgaT1lW3JdO1wiZnVuY3Rpb25cIj09dHlwZW9mIHRbaV0mJihuW2ldPXRbaV0pfXZhciBjLGE9T2JqZWN0LmtleXMobik7dHJ5e3Uobil9Y2F0Y2goZil7Yz1mfXJldHVybiBmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPWFyZ3VtZW50c1sxXTtpZihjKXRocm93IGM7Zm9yKHZhciByPSExLHU9e30saT0wO2EubGVuZ3RoPmk7aSsrKXt2YXIgZj1hW2ldLHM9bltmXSxkPXRbZl0sbD1zKGQsZSk7aWYodm9pZCAwPT09bCl7dmFyIHA9byhmLGUpO3Rocm93IEVycm9yKHApfXVbZl09bCxyPXJ8fGwhPT1kfXJldHVybiByP3U6dH19ZS5fX2VzTW9kdWxlPSEwLGVbXCJkZWZhdWx0XCJdPWk7dmFyIGM9bigyKSxhPW4oNCksZj0ocihhKSxuKDMpKTtyKGYpfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMCksbz1yKE9iamVjdC5nZXRQcm90b3R5cGVPZixPYmplY3QpO3QuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCl7dmFyIGU9ITE7aWYobnVsbCE9dCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdC50b1N0cmluZyl0cnl7ZT0hISh0K1wiXCIpfWNhdGNoKG4pe31yZXR1cm4gZX10LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiB0KGUobikpfX10LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQpe3JldHVybiEhdCYmXCJvYmplY3RcIj09dHlwZW9mIHR9dC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigxMyl9LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMTQpLHU9cihvKSxpPXZvaWQgMDt2b2lkIDAhPT10P2k9dDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYoaT13aW5kb3cpO3ZhciBjPSgwLHVbXCJkZWZhdWx0XCJdKShpKTtlW1wiZGVmYXVsdFwiXT1jfSkuY2FsbChlLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7dmFyIGUsbj10LlN5bWJvbDtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuP24ub2JzZXJ2YWJsZT9lPW4ub2JzZXJ2YWJsZTooZT1uKFwib2JzZXJ2YWJsZVwiKSxuLm9ic2VydmFibGU9ZSk6ZT1cIkBAb2JzZXJ2YWJsZVwiLGV9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZVtcImRlZmF1bHRcIl09bn1dKX0pO1xuXG4vKioqLyB9LFxuLyogMzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdC8qKlxuXHQgKiBDcmVhdGVkIGJ5IGxpYW9qaWFuanVuIG9uIDIwMTYvNy8yNy5cblx0ICovXG5cdFxuXHQvKioqKioqKioqKioqKueZu+mZhueVjOmdoioqKioqKioqKioqKioqKioqKi9cblx0dmFyIFJFUVVFU1RfTE9HSU4gPSBleHBvcnRzLlJFUVVFU1RfTE9HSU4gPSBcIlJFUVVFU1RfTE9HSU5cIjtcblx0dmFyIFJFQ0VJVkVfTE9HSU4gPSBleHBvcnRzLlJFQ0VJVkVfTE9HSU4gPSBcIlJFQ0VJVkVfTE9HSU5cIjtcblxuLyoqKi8gfSxcbi8qIDM3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgey8qZXNsaW50LWRpc2FibGUgbm8tZW1wdHkgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0cy5zYXZlU3RhdGUgPSBzYXZlU3RhdGU7XG5cdGV4cG9ydHMucmVhZFN0YXRlID0gcmVhZFN0YXRlO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0dmFyIF93YXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblx0XG5cdHZhciBLZXlQcmVmaXggPSAnQEBIaXN0b3J5Lyc7XG5cdHZhciBRdW90YUV4Y2VlZGVkRXJyb3JzID0gWydRdW90YUV4Y2VlZGVkRXJyb3InLCAnUVVPVEFfRVhDRUVERURfRVJSJ107XG5cdFxuXHR2YXIgU2VjdXJpdHlFcnJvciA9ICdTZWN1cml0eUVycm9yJztcblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUtleShrZXkpIHtcblx0ICByZXR1cm4gS2V5UHJlZml4ICsga2V5O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzYXZlU3RhdGUoa2V5LCBzdGF0ZSkge1xuXHQgIHRyeSB7XG5cdCAgICBpZiAoc3RhdGUgPT0gbnVsbCkge1xuXHQgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShjcmVhdGVLZXkoa2V5KSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShjcmVhdGVLZXkoa2V5KSwgSlNPTi5zdHJpbmdpZnkoc3RhdGUpKTtcblx0ICAgIH1cblx0ICB9IGNhdGNoIChlcnJvcikge1xuXHQgICAgaWYgKGVycm9yLm5hbWUgPT09IFNlY3VyaXR5RXJyb3IpIHtcblx0ICAgICAgLy8gQmxvY2tpbmcgY29va2llcyBpbiBDaHJvbWUvRmlyZWZveC9TYWZhcmkgdGhyb3dzIFNlY3VyaXR5RXJyb3Igb24gYW55XG5cdCAgICAgIC8vIGF0dGVtcHQgdG8gYWNjZXNzIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5cblx0ICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGZhbHNlLCAnW2hpc3RvcnldIFVuYWJsZSB0byBzYXZlIHN0YXRlOyBzZXNzaW9uU3RvcmFnZSBpcyBub3QgYXZhaWxhYmxlIGR1ZSB0byBzZWN1cml0eSBzZXR0aW5ncycpIDogdW5kZWZpbmVkO1xuXHRcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChRdW90YUV4Y2VlZGVkRXJyb3JzLmluZGV4T2YoZXJyb3IubmFtZSkgPj0gMCAmJiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UubGVuZ3RoID09PSAwKSB7XG5cdCAgICAgIC8vIFNhZmFyaSBcInByaXZhdGUgbW9kZVwiIHRocm93cyBRdW90YUV4Y2VlZGVkRXJyb3IuXG5cdCAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShmYWxzZSwgJ1toaXN0b3J5XSBVbmFibGUgdG8gc2F2ZSBzdGF0ZTsgc2Vzc2lvblN0b3JhZ2UgaXMgbm90IGF2YWlsYWJsZSBpbiBTYWZhcmkgcHJpdmF0ZSBtb2RlJykgOiB1bmRlZmluZWQ7XG5cdFxuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgdGhyb3cgZXJyb3I7XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWFkU3RhdGUoa2V5KSB7XG5cdCAgdmFyIGpzb24gPSB1bmRlZmluZWQ7XG5cdCAgdHJ5IHtcblx0ICAgIGpzb24gPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShjcmVhdGVLZXkoa2V5KSk7XG5cdCAgfSBjYXRjaCAoZXJyb3IpIHtcblx0ICAgIGlmIChlcnJvci5uYW1lID09PSBTZWN1cml0eUVycm9yKSB7XG5cdCAgICAgIC8vIEJsb2NraW5nIGNvb2tpZXMgaW4gQ2hyb21lL0ZpcmVmb3gvU2FmYXJpIHRocm93cyBTZWN1cml0eUVycm9yIG9uIGFueVxuXHQgICAgICAvLyBhdHRlbXB0IHRvIGFjY2VzcyB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuXG5cdCAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShmYWxzZSwgJ1toaXN0b3J5XSBVbmFibGUgdG8gcmVhZCBzdGF0ZTsgc2Vzc2lvblN0b3JhZ2UgaXMgbm90IGF2YWlsYWJsZSBkdWUgdG8gc2VjdXJpdHkgc2V0dGluZ3MnKSA6IHVuZGVmaW5lZDtcblx0XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgaWYgKGpzb24pIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb24pO1xuXHQgICAgfSBjYXRjaCAoZXJyb3IpIHtcblx0ICAgICAgLy8gSWdub3JlIGludmFsaWQgSlNPTi5cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiBudWxsO1xuXHR9XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKSlcblxuLyoqKi8gfSxcbi8qIDM4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0dmFyIF9pbnZhcmlhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblx0XG5cdHZhciBfRXhlY3V0aW9uRW52aXJvbm1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblx0XG5cdHZhciBfRE9NVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblx0XG5cdHZhciBfY3JlYXRlSGlzdG9yeSA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXHRcblx0dmFyIF9jcmVhdGVIaXN0b3J5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUhpc3RvcnkpO1xuXHRcblx0ZnVuY3Rpb24gY3JlYXRlRE9NSGlzdG9yeShvcHRpb25zKSB7XG5cdCAgdmFyIGhpc3RvcnkgPSBfY3JlYXRlSGlzdG9yeTJbJ2RlZmF1bHQnXShfZXh0ZW5kcyh7XG5cdCAgICBnZXRVc2VyQ29uZmlybWF0aW9uOiBfRE9NVXRpbHMuZ2V0VXNlckNvbmZpcm1hdGlvblxuXHQgIH0sIG9wdGlvbnMsIHtcblx0ICAgIGdvOiBfRE9NVXRpbHMuZ29cblx0ICB9KSk7XG5cdFxuXHQgIGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuXHQgICAgIV9FeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX2ludmFyaWFudDJbJ2RlZmF1bHQnXShmYWxzZSwgJ0RPTSBoaXN0b3J5IG5lZWRzIGEgRE9NJykgOiBfaW52YXJpYW50MlsnZGVmYXVsdCddKGZhbHNlKSA6IHVuZGVmaW5lZDtcblx0XG5cdCAgICByZXR1cm4gaGlzdG9yeS5saXN0ZW4obGlzdGVuZXIpO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIF9leHRlbmRzKHt9LCBoaXN0b3J5LCB7XG5cdCAgICBsaXN0ZW46IGxpc3RlblxuXHQgIH0pO1xuXHR9XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBjcmVhdGVET01IaXN0b3J5O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkpKVxuXG4vKioqLyB9LFxuLyogMzkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXHRcblx0dmFyIF9pbnZhcmlhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblx0XG5cdHZhciBfQWN0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHRcblx0dmFyIF9QYXRoVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdHZhciBfRXhlY3V0aW9uRW52aXJvbm1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblx0XG5cdHZhciBfRE9NVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblx0XG5cdHZhciBfRE9NU3RhdGVTdG9yYWdlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cdFxuXHR2YXIgX2NyZWF0ZURPTUhpc3RvcnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcblx0XG5cdHZhciBfY3JlYXRlRE9NSGlzdG9yeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVET01IaXN0b3J5KTtcblx0XG5cdGZ1bmN0aW9uIGlzQWJzb2x1dGVQYXRoKHBhdGgpIHtcblx0ICByZXR1cm4gdHlwZW9mIHBhdGggPT09ICdzdHJpbmcnICYmIHBhdGguY2hhckF0KDApID09PSAnLyc7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGVuc3VyZVNsYXNoKCkge1xuXHQgIHZhciBwYXRoID0gX0RPTVV0aWxzLmdldEhhc2hQYXRoKCk7XG5cdFxuXHQgIGlmIChpc0Fic29sdXRlUGF0aChwYXRoKSkgcmV0dXJuIHRydWU7XG5cdFxuXHQgIF9ET01VdGlscy5yZXBsYWNlSGFzaFBhdGgoJy8nICsgcGF0aCk7XG5cdFxuXHQgIHJldHVybiBmYWxzZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYWRkUXVlcnlTdHJpbmdWYWx1ZVRvUGF0aChwYXRoLCBrZXksIHZhbHVlKSB7XG5cdCAgcmV0dXJuIHBhdGggKyAocGF0aC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArIChrZXkgKyAnPScgKyB2YWx1ZSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHN0cmlwUXVlcnlTdHJpbmdWYWx1ZUZyb21QYXRoKHBhdGgsIGtleSkge1xuXHQgIHJldHVybiBwYXRoLnJlcGxhY2UobmV3IFJlZ0V4cCgnWz8mXT8nICsga2V5ICsgJz1bYS16QS1aMC05XSsnKSwgJycpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRRdWVyeVN0cmluZ1ZhbHVlRnJvbVBhdGgocGF0aCwga2V5KSB7XG5cdCAgdmFyIG1hdGNoID0gcGF0aC5tYXRjaChuZXcgUmVnRXhwKCdcXFxcPy4qP1xcXFxiJyArIGtleSArICc9KC4rPylcXFxcYicpKTtcblx0ICByZXR1cm4gbWF0Y2ggJiYgbWF0Y2hbMV07XG5cdH1cblx0XG5cdHZhciBEZWZhdWx0UXVlcnlLZXkgPSAnX2snO1xuXHRcblx0ZnVuY3Rpb24gY3JlYXRlSGFzaEhpc3RvcnkoKSB7XG5cdCAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblx0XG5cdCAgIV9FeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX2ludmFyaWFudDJbJ2RlZmF1bHQnXShmYWxzZSwgJ0hhc2ggaGlzdG9yeSBuZWVkcyBhIERPTScpIDogX2ludmFyaWFudDJbJ2RlZmF1bHQnXShmYWxzZSkgOiB1bmRlZmluZWQ7XG5cdFxuXHQgIHZhciBxdWVyeUtleSA9IG9wdGlvbnMucXVlcnlLZXk7XG5cdFxuXHQgIGlmIChxdWVyeUtleSA9PT0gdW5kZWZpbmVkIHx8ICEhcXVlcnlLZXkpIHF1ZXJ5S2V5ID0gdHlwZW9mIHF1ZXJ5S2V5ID09PSAnc3RyaW5nJyA/IHF1ZXJ5S2V5IDogRGVmYXVsdFF1ZXJ5S2V5O1xuXHRcblx0ICBmdW5jdGlvbiBnZXRDdXJyZW50TG9jYXRpb24oKSB7XG5cdCAgICB2YXIgcGF0aCA9IF9ET01VdGlscy5nZXRIYXNoUGF0aCgpO1xuXHRcblx0ICAgIHZhciBrZXkgPSB1bmRlZmluZWQsXG5cdCAgICAgICAgc3RhdGUgPSB1bmRlZmluZWQ7XG5cdCAgICBpZiAocXVlcnlLZXkpIHtcblx0ICAgICAga2V5ID0gZ2V0UXVlcnlTdHJpbmdWYWx1ZUZyb21QYXRoKHBhdGgsIHF1ZXJ5S2V5KTtcblx0ICAgICAgcGF0aCA9IHN0cmlwUXVlcnlTdHJpbmdWYWx1ZUZyb21QYXRoKHBhdGgsIHF1ZXJ5S2V5KTtcblx0XG5cdCAgICAgIGlmIChrZXkpIHtcblx0ICAgICAgICBzdGF0ZSA9IF9ET01TdGF0ZVN0b3JhZ2UucmVhZFN0YXRlKGtleSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgc3RhdGUgPSBudWxsO1xuXHQgICAgICAgIGtleSA9IGhpc3RvcnkuY3JlYXRlS2V5KCk7XG5cdCAgICAgICAgX0RPTVV0aWxzLnJlcGxhY2VIYXNoUGF0aChhZGRRdWVyeVN0cmluZ1ZhbHVlVG9QYXRoKHBhdGgsIHF1ZXJ5S2V5LCBrZXkpKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAga2V5ID0gc3RhdGUgPSBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBsb2NhdGlvbiA9IF9QYXRoVXRpbHMucGFyc2VQYXRoKHBhdGgpO1xuXHRcblx0ICAgIHJldHVybiBoaXN0b3J5LmNyZWF0ZUxvY2F0aW9uKF9leHRlbmRzKHt9LCBsb2NhdGlvbiwgeyBzdGF0ZTogc3RhdGUgfSksIHVuZGVmaW5lZCwga2V5KTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHN0YXJ0SGFzaENoYW5nZUxpc3RlbmVyKF9yZWYpIHtcblx0ICAgIHZhciB0cmFuc2l0aW9uVG8gPSBfcmVmLnRyYW5zaXRpb25Ubztcblx0XG5cdCAgICBmdW5jdGlvbiBoYXNoQ2hhbmdlTGlzdGVuZXIoKSB7XG5cdCAgICAgIGlmICghZW5zdXJlU2xhc2goKSkgcmV0dXJuOyAvLyBBbHdheXMgbWFrZSBzdXJlIGhhc2hlcyBhcmUgcHJlY2VlZGVkIHdpdGggYSAvLlxuXHRcblx0ICAgICAgdHJhbnNpdGlvblRvKGdldEN1cnJlbnRMb2NhdGlvbigpKTtcblx0ICAgIH1cblx0XG5cdCAgICBlbnN1cmVTbGFzaCgpO1xuXHQgICAgX0RPTVV0aWxzLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LCAnaGFzaGNoYW5nZScsIGhhc2hDaGFuZ2VMaXN0ZW5lcik7XG5cdFxuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX0RPTVV0aWxzLnJlbW92ZUV2ZW50TGlzdGVuZXIod2luZG93LCAnaGFzaGNoYW5nZScsIGhhc2hDaGFuZ2VMaXN0ZW5lcik7XG5cdCAgICB9O1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gZmluaXNoVHJhbnNpdGlvbihsb2NhdGlvbikge1xuXHQgICAgdmFyIGJhc2VuYW1lID0gbG9jYXRpb24uYmFzZW5hbWU7XG5cdCAgICB2YXIgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcblx0ICAgIHZhciBzZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2g7XG5cdCAgICB2YXIgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZTtcblx0ICAgIHZhciBhY3Rpb24gPSBsb2NhdGlvbi5hY3Rpb247XG5cdCAgICB2YXIga2V5ID0gbG9jYXRpb24ua2V5O1xuXHRcblx0ICAgIGlmIChhY3Rpb24gPT09IF9BY3Rpb25zLlBPUCkgcmV0dXJuOyAvLyBOb3RoaW5nIHRvIGRvLlxuXHRcblx0ICAgIHZhciBwYXRoID0gKGJhc2VuYW1lIHx8ICcnKSArIHBhdGhuYW1lICsgc2VhcmNoO1xuXHRcblx0ICAgIGlmIChxdWVyeUtleSkge1xuXHQgICAgICBwYXRoID0gYWRkUXVlcnlTdHJpbmdWYWx1ZVRvUGF0aChwYXRoLCBxdWVyeUtleSwga2V5KTtcblx0ICAgICAgX0RPTVN0YXRlU3RvcmFnZS5zYXZlU3RhdGUoa2V5LCBzdGF0ZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAvLyBEcm9wIGtleSBhbmQgc3RhdGUuXG5cdCAgICAgIGxvY2F0aW9uLmtleSA9IGxvY2F0aW9uLnN0YXRlID0gbnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgY3VycmVudEhhc2ggPSBfRE9NVXRpbHMuZ2V0SGFzaFBhdGgoKTtcblx0XG5cdCAgICBpZiAoYWN0aW9uID09PSBfQWN0aW9ucy5QVVNIKSB7XG5cdCAgICAgIGlmIChjdXJyZW50SGFzaCAhPT0gcGF0aCkge1xuXHQgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gcGF0aDtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10oZmFsc2UsICdZb3UgY2Fubm90IFBVU0ggdGhlIHNhbWUgcGF0aCB1c2luZyBoYXNoIGhpc3RvcnknKSA6IHVuZGVmaW5lZDtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChjdXJyZW50SGFzaCAhPT0gcGF0aCkge1xuXHQgICAgICAvLyBSRVBMQUNFXG5cdCAgICAgIF9ET01VdGlscy5yZXBsYWNlSGFzaFBhdGgocGF0aCk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICB2YXIgaGlzdG9yeSA9IF9jcmVhdGVET01IaXN0b3J5MlsnZGVmYXVsdCddKF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG5cdCAgICBnZXRDdXJyZW50TG9jYXRpb246IGdldEN1cnJlbnRMb2NhdGlvbixcblx0ICAgIGZpbmlzaFRyYW5zaXRpb246IGZpbmlzaFRyYW5zaXRpb24sXG5cdCAgICBzYXZlU3RhdGU6IF9ET01TdGF0ZVN0b3JhZ2Uuc2F2ZVN0YXRlXG5cdCAgfSkpO1xuXHRcblx0ICB2YXIgbGlzdGVuZXJDb3VudCA9IDAsXG5cdCAgICAgIHN0b3BIYXNoQ2hhbmdlTGlzdGVuZXIgPSB1bmRlZmluZWQ7XG5cdFxuXHQgIGZ1bmN0aW9uIGxpc3RlbkJlZm9yZShsaXN0ZW5lcikge1xuXHQgICAgaWYgKCsrbGlzdGVuZXJDb3VudCA9PT0gMSkgc3RvcEhhc2hDaGFuZ2VMaXN0ZW5lciA9IHN0YXJ0SGFzaENoYW5nZUxpc3RlbmVyKGhpc3RvcnkpO1xuXHRcblx0ICAgIHZhciB1bmxpc3RlbiA9IGhpc3RvcnkubGlzdGVuQmVmb3JlKGxpc3RlbmVyKTtcblx0XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgICB1bmxpc3RlbigpO1xuXHRcblx0ICAgICAgaWYgKC0tbGlzdGVuZXJDb3VudCA9PT0gMCkgc3RvcEhhc2hDaGFuZ2VMaXN0ZW5lcigpO1xuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuXHQgICAgaWYgKCsrbGlzdGVuZXJDb3VudCA9PT0gMSkgc3RvcEhhc2hDaGFuZ2VMaXN0ZW5lciA9IHN0YXJ0SGFzaENoYW5nZUxpc3RlbmVyKGhpc3RvcnkpO1xuXHRcblx0ICAgIHZhciB1bmxpc3RlbiA9IGhpc3RvcnkubGlzdGVuKGxpc3RlbmVyKTtcblx0XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgICB1bmxpc3RlbigpO1xuXHRcblx0ICAgICAgaWYgKC0tbGlzdGVuZXJDb3VudCA9PT0gMCkgc3RvcEhhc2hDaGFuZ2VMaXN0ZW5lcigpO1xuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHB1c2gobG9jYXRpb24pIHtcblx0ICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShxdWVyeUtleSB8fCBsb2NhdGlvbi5zdGF0ZSA9PSBudWxsLCAnWW91IGNhbm5vdCB1c2Ugc3RhdGUgd2l0aG91dCBhIHF1ZXJ5S2V5IGl0IHdpbGwgYmUgZHJvcHBlZCcpIDogdW5kZWZpbmVkO1xuXHRcblx0ICAgIGhpc3RvcnkucHVzaChsb2NhdGlvbik7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiByZXBsYWNlKGxvY2F0aW9uKSB7XG5cdCAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10ocXVlcnlLZXkgfHwgbG9jYXRpb24uc3RhdGUgPT0gbnVsbCwgJ1lvdSBjYW5ub3QgdXNlIHN0YXRlIHdpdGhvdXQgYSBxdWVyeUtleSBpdCB3aWxsIGJlIGRyb3BwZWQnKSA6IHVuZGVmaW5lZDtcblx0XG5cdCAgICBoaXN0b3J5LnJlcGxhY2UobG9jYXRpb24pO1xuXHQgIH1cblx0XG5cdCAgdmFyIGdvSXNTdXBwb3J0ZWRXaXRob3V0UmVsb2FkID0gX0RPTVV0aWxzLnN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoKCk7XG5cdFxuXHQgIGZ1bmN0aW9uIGdvKG4pIHtcblx0ICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShnb0lzU3VwcG9ydGVkV2l0aG91dFJlbG9hZCwgJ0hhc2ggaGlzdG9yeSBnbyhuKSBjYXVzZXMgYSBmdWxsIHBhZ2UgcmVsb2FkIGluIHRoaXMgYnJvd3NlcicpIDogdW5kZWZpbmVkO1xuXHRcblx0ICAgIGhpc3RvcnkuZ28obik7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVIcmVmKHBhdGgpIHtcblx0ICAgIHJldHVybiAnIycgKyBoaXN0b3J5LmNyZWF0ZUhyZWYocGF0aCk7XG5cdCAgfVxuXHRcblx0ICAvLyBkZXByZWNhdGVkXG5cdCAgZnVuY3Rpb24gcmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKSB7XG5cdCAgICBpZiAoKytsaXN0ZW5lckNvdW50ID09PSAxKSBzdG9wSGFzaENoYW5nZUxpc3RlbmVyID0gc3RhcnRIYXNoQ2hhbmdlTGlzdGVuZXIoaGlzdG9yeSk7XG5cdFxuXHQgICAgaGlzdG9yeS5yZWdpc3RlclRyYW5zaXRpb25Ib29rKGhvb2spO1xuXHQgIH1cblx0XG5cdCAgLy8gZGVwcmVjYXRlZFxuXHQgIGZ1bmN0aW9uIHVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKSB7XG5cdCAgICBoaXN0b3J5LnVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKTtcblx0XG5cdCAgICBpZiAoLS1saXN0ZW5lckNvdW50ID09PSAwKSBzdG9wSGFzaENoYW5nZUxpc3RlbmVyKCk7XG5cdCAgfVxuXHRcblx0ICAvLyBkZXByZWNhdGVkXG5cdCAgZnVuY3Rpb24gcHVzaFN0YXRlKHN0YXRlLCBwYXRoKSB7XG5cdCAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10ocXVlcnlLZXkgfHwgc3RhdGUgPT0gbnVsbCwgJ1lvdSBjYW5ub3QgdXNlIHN0YXRlIHdpdGhvdXQgYSBxdWVyeUtleSBpdCB3aWxsIGJlIGRyb3BwZWQnKSA6IHVuZGVmaW5lZDtcblx0XG5cdCAgICBoaXN0b3J5LnB1c2hTdGF0ZShzdGF0ZSwgcGF0aCk7XG5cdCAgfVxuXHRcblx0ICAvLyBkZXByZWNhdGVkXG5cdCAgZnVuY3Rpb24gcmVwbGFjZVN0YXRlKHN0YXRlLCBwYXRoKSB7XG5cdCAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10ocXVlcnlLZXkgfHwgc3RhdGUgPT0gbnVsbCwgJ1lvdSBjYW5ub3QgdXNlIHN0YXRlIHdpdGhvdXQgYSBxdWVyeUtleSBpdCB3aWxsIGJlIGRyb3BwZWQnKSA6IHVuZGVmaW5lZDtcblx0XG5cdCAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShzdGF0ZSwgcGF0aCk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gX2V4dGVuZHMoe30sIGhpc3RvcnksIHtcblx0ICAgIGxpc3RlbkJlZm9yZTogbGlzdGVuQmVmb3JlLFxuXHQgICAgbGlzdGVuOiBsaXN0ZW4sXG5cdCAgICBwdXNoOiBwdXNoLFxuXHQgICAgcmVwbGFjZTogcmVwbGFjZSxcblx0ICAgIGdvOiBnbyxcblx0ICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYsXG5cdFxuXHQgICAgcmVnaXN0ZXJUcmFuc2l0aW9uSG9vazogcmVnaXN0ZXJUcmFuc2l0aW9uSG9vaywgLy8gZGVwcmVjYXRlZCAtIHdhcm5pbmcgaXMgaW4gY3JlYXRlSGlzdG9yeVxuXHQgICAgdW5yZWdpc3RlclRyYW5zaXRpb25Ib29rOiB1bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2ssIC8vIGRlcHJlY2F0ZWQgLSB3YXJuaW5nIGlzIGluIGNyZWF0ZUhpc3Rvcnlcblx0ICAgIHB1c2hTdGF0ZTogcHVzaFN0YXRlLCAvLyBkZXByZWNhdGVkIC0gd2FybmluZyBpcyBpbiBjcmVhdGVIaXN0b3J5XG5cdCAgICByZXBsYWNlU3RhdGU6IHJlcGxhY2VTdGF0ZSAvLyBkZXByZWNhdGVkIC0gd2FybmluZyBpcyBpbiBjcmVhdGVIaXN0b3J5XG5cdCAgfSk7XG5cdH1cblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IGNyZWF0ZUhhc2hIaXN0b3J5O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkpKVxuXG4vKioqLyB9LFxuLyogNDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXHRcblx0dmFyIF9kZWVwRXF1YWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYzKTtcblx0XG5cdHZhciBfZGVlcEVxdWFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZXBFcXVhbCk7XG5cdFxuXHR2YXIgX1BhdGhVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0dmFyIF9Bc3luY1V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5cdFxuXHR2YXIgX0FjdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblx0XG5cdHZhciBfY3JlYXRlTG9jYXRpb24yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7XG5cdFxuXHR2YXIgX2NyZWF0ZUxvY2F0aW9uMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUxvY2F0aW9uMik7XG5cdFxuXHR2YXIgX3J1blRyYW5zaXRpb25Ib29rID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cdFxuXHR2YXIgX3J1blRyYW5zaXRpb25Ib29rMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3J1blRyYW5zaXRpb25Ib29rKTtcblx0XG5cdHZhciBfZGVwcmVjYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG5cdFxuXHR2YXIgX2RlcHJlY2F0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZXByZWNhdGUpO1xuXHRcblx0ZnVuY3Rpb24gY3JlYXRlUmFuZG9tS2V5KGxlbmd0aCkge1xuXHQgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgbGVuZ3RoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbG9jYXRpb25zQXJlRXF1YWwoYSwgYikge1xuXHQgIHJldHVybiBhLnBhdGhuYW1lID09PSBiLnBhdGhuYW1lICYmIGEuc2VhcmNoID09PSBiLnNlYXJjaCAmJlxuXHQgIC8vYS5hY3Rpb24gPT09IGIuYWN0aW9uICYmIC8vIERpZmZlcmVudCBhY3Rpb24gIT09IGxvY2F0aW9uIGNoYW5nZS5cblx0ICBhLmtleSA9PT0gYi5rZXkgJiYgX2RlZXBFcXVhbDJbJ2RlZmF1bHQnXShhLnN0YXRlLCBiLnN0YXRlKTtcblx0fVxuXHRcblx0dmFyIERlZmF1bHRLZXlMZW5ndGggPSA2O1xuXHRcblx0ZnVuY3Rpb24gY3JlYXRlSGlzdG9yeSgpIHtcblx0ICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXHQgIHZhciBnZXRDdXJyZW50TG9jYXRpb24gPSBvcHRpb25zLmdldEN1cnJlbnRMb2NhdGlvbjtcblx0ICB2YXIgZmluaXNoVHJhbnNpdGlvbiA9IG9wdGlvbnMuZmluaXNoVHJhbnNpdGlvbjtcblx0ICB2YXIgc2F2ZVN0YXRlID0gb3B0aW9ucy5zYXZlU3RhdGU7XG5cdCAgdmFyIGdvID0gb3B0aW9ucy5nbztcblx0ICB2YXIgZ2V0VXNlckNvbmZpcm1hdGlvbiA9IG9wdGlvbnMuZ2V0VXNlckNvbmZpcm1hdGlvbjtcblx0ICB2YXIga2V5TGVuZ3RoID0gb3B0aW9ucy5rZXlMZW5ndGg7XG5cdFxuXHQgIGlmICh0eXBlb2Yga2V5TGVuZ3RoICE9PSAnbnVtYmVyJykga2V5TGVuZ3RoID0gRGVmYXVsdEtleUxlbmd0aDtcblx0XG5cdCAgdmFyIHRyYW5zaXRpb25Ib29rcyA9IFtdO1xuXHRcblx0ICBmdW5jdGlvbiBsaXN0ZW5CZWZvcmUoaG9vaykge1xuXHQgICAgdHJhbnNpdGlvbkhvb2tzLnB1c2goaG9vayk7XG5cdFxuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdHJhbnNpdGlvbkhvb2tzID0gdHJhbnNpdGlvbkhvb2tzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgIHJldHVybiBpdGVtICE9PSBob29rO1xuXHQgICAgICB9KTtcblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICB2YXIgYWxsS2V5cyA9IFtdO1xuXHQgIHZhciBjaGFuZ2VMaXN0ZW5lcnMgPSBbXTtcblx0ICB2YXIgbG9jYXRpb24gPSB1bmRlZmluZWQ7XG5cdFxuXHQgIGZ1bmN0aW9uIGdldEN1cnJlbnQoKSB7XG5cdCAgICBpZiAocGVuZGluZ0xvY2F0aW9uICYmIHBlbmRpbmdMb2NhdGlvbi5hY3Rpb24gPT09IF9BY3Rpb25zLlBPUCkge1xuXHQgICAgICByZXR1cm4gYWxsS2V5cy5pbmRleE9mKHBlbmRpbmdMb2NhdGlvbi5rZXkpO1xuXHQgICAgfSBlbHNlIGlmIChsb2NhdGlvbikge1xuXHQgICAgICByZXR1cm4gYWxsS2V5cy5pbmRleE9mKGxvY2F0aW9uLmtleSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gLTE7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiB1cGRhdGVMb2NhdGlvbihuZXdMb2NhdGlvbikge1xuXHQgICAgdmFyIGN1cnJlbnQgPSBnZXRDdXJyZW50KCk7XG5cdFxuXHQgICAgbG9jYXRpb24gPSBuZXdMb2NhdGlvbjtcblx0XG5cdCAgICBpZiAobG9jYXRpb24uYWN0aW9uID09PSBfQWN0aW9ucy5QVVNIKSB7XG5cdCAgICAgIGFsbEtleXMgPSBbXS5jb25jYXQoYWxsS2V5cy5zbGljZSgwLCBjdXJyZW50ICsgMSksIFtsb2NhdGlvbi5rZXldKTtcblx0ICAgIH0gZWxzZSBpZiAobG9jYXRpb24uYWN0aW9uID09PSBfQWN0aW9ucy5SRVBMQUNFKSB7XG5cdCAgICAgIGFsbEtleXNbY3VycmVudF0gPSBsb2NhdGlvbi5rZXk7XG5cdCAgICB9XG5cdFxuXHQgICAgY2hhbmdlTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG5cdCAgICAgIGxpc3RlbmVyKGxvY2F0aW9uKTtcblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG5cdCAgICBjaGFuZ2VMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cdFxuXHQgICAgaWYgKGxvY2F0aW9uKSB7XG5cdCAgICAgIGxpc3RlbmVyKGxvY2F0aW9uKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZhciBfbG9jYXRpb24gPSBnZXRDdXJyZW50TG9jYXRpb24oKTtcblx0ICAgICAgYWxsS2V5cyA9IFtfbG9jYXRpb24ua2V5XTtcblx0ICAgICAgdXBkYXRlTG9jYXRpb24oX2xvY2F0aW9uKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgICBjaGFuZ2VMaXN0ZW5lcnMgPSBjaGFuZ2VMaXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgcmV0dXJuIGl0ZW0gIT09IGxpc3RlbmVyO1xuXHQgICAgICB9KTtcblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBjYWxsYmFjaykge1xuXHQgICAgX0FzeW5jVXRpbHMubG9vcEFzeW5jKHRyYW5zaXRpb25Ib29rcy5sZW5ndGgsIGZ1bmN0aW9uIChpbmRleCwgbmV4dCwgZG9uZSkge1xuXHQgICAgICBfcnVuVHJhbnNpdGlvbkhvb2syWydkZWZhdWx0J10odHJhbnNpdGlvbkhvb2tzW2luZGV4XSwgbG9jYXRpb24sIGZ1bmN0aW9uIChyZXN1bHQpIHtcblx0ICAgICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcblx0ICAgICAgICAgIGRvbmUocmVzdWx0KTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgbmV4dCgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9LCBmdW5jdGlvbiAobWVzc2FnZSkge1xuXHQgICAgICBpZiAoZ2V0VXNlckNvbmZpcm1hdGlvbiAmJiB0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICBnZXRVc2VyQ29uZmlybWF0aW9uKG1lc3NhZ2UsIGZ1bmN0aW9uIChvaykge1xuXHQgICAgICAgICAgY2FsbGJhY2sob2sgIT09IGZhbHNlKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBjYWxsYmFjayhtZXNzYWdlICE9PSBmYWxzZSk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgdmFyIHBlbmRpbmdMb2NhdGlvbiA9IHVuZGVmaW5lZDtcblx0XG5cdCAgZnVuY3Rpb24gdHJhbnNpdGlvblRvKG5leHRMb2NhdGlvbikge1xuXHQgICAgaWYgKGxvY2F0aW9uICYmIGxvY2F0aW9uc0FyZUVxdWFsKGxvY2F0aW9uLCBuZXh0TG9jYXRpb24pKSByZXR1cm47IC8vIE5vdGhpbmcgdG8gZG8uXG5cdFxuXHQgICAgcGVuZGluZ0xvY2F0aW9uID0gbmV4dExvY2F0aW9uO1xuXHRcblx0ICAgIGNvbmZpcm1UcmFuc2l0aW9uVG8obmV4dExvY2F0aW9uLCBmdW5jdGlvbiAob2spIHtcblx0ICAgICAgaWYgKHBlbmRpbmdMb2NhdGlvbiAhPT0gbmV4dExvY2F0aW9uKSByZXR1cm47IC8vIFRyYW5zaXRpb24gd2FzIGludGVycnVwdGVkLlxuXHRcblx0ICAgICAgaWYgKG9rKSB7XG5cdCAgICAgICAgLy8gdHJlYXQgUFVTSCB0byBjdXJyZW50IHBhdGggbGlrZSBSRVBMQUNFIHRvIGJlIGNvbnNpc3RlbnQgd2l0aCBicm93c2Vyc1xuXHQgICAgICAgIGlmIChuZXh0TG9jYXRpb24uYWN0aW9uID09PSBfQWN0aW9ucy5QVVNIKSB7XG5cdCAgICAgICAgICB2YXIgcHJldlBhdGggPSBjcmVhdGVQYXRoKGxvY2F0aW9uKTtcblx0ICAgICAgICAgIHZhciBuZXh0UGF0aCA9IGNyZWF0ZVBhdGgobmV4dExvY2F0aW9uKTtcblx0XG5cdCAgICAgICAgICBpZiAobmV4dFBhdGggPT09IHByZXZQYXRoICYmIF9kZWVwRXF1YWwyWydkZWZhdWx0J10obG9jYXRpb24uc3RhdGUsIG5leHRMb2NhdGlvbi5zdGF0ZSkpIG5leHRMb2NhdGlvbi5hY3Rpb24gPSBfQWN0aW9ucy5SRVBMQUNFO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGZpbmlzaFRyYW5zaXRpb24obmV4dExvY2F0aW9uKSAhPT0gZmFsc2UpIHVwZGF0ZUxvY2F0aW9uKG5leHRMb2NhdGlvbik7XG5cdCAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24gJiYgbmV4dExvY2F0aW9uLmFjdGlvbiA9PT0gX0FjdGlvbnMuUE9QKSB7XG5cdCAgICAgICAgdmFyIHByZXZJbmRleCA9IGFsbEtleXMuaW5kZXhPZihsb2NhdGlvbi5rZXkpO1xuXHQgICAgICAgIHZhciBuZXh0SW5kZXggPSBhbGxLZXlzLmluZGV4T2YobmV4dExvY2F0aW9uLmtleSk7XG5cdFxuXHQgICAgICAgIGlmIChwcmV2SW5kZXggIT09IC0xICYmIG5leHRJbmRleCAhPT0gLTEpIGdvKHByZXZJbmRleCAtIG5leHRJbmRleCk7IC8vIFJlc3RvcmUgdGhlIFVSTC5cblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBwdXNoKGxvY2F0aW9uKSB7XG5cdCAgICB0cmFuc2l0aW9uVG8oY3JlYXRlTG9jYXRpb24obG9jYXRpb24sIF9BY3Rpb25zLlBVU0gsIGNyZWF0ZUtleSgpKSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiByZXBsYWNlKGxvY2F0aW9uKSB7XG5cdCAgICB0cmFuc2l0aW9uVG8oY3JlYXRlTG9jYXRpb24obG9jYXRpb24sIF9BY3Rpb25zLlJFUExBQ0UsIGNyZWF0ZUtleSgpKSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBnb0JhY2soKSB7XG5cdCAgICBnbygtMSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBnb0ZvcndhcmQoKSB7XG5cdCAgICBnbygxKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZUtleSgpIHtcblx0ICAgIHJldHVybiBjcmVhdGVSYW5kb21LZXkoa2V5TGVuZ3RoKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZVBhdGgobG9jYXRpb24pIHtcblx0ICAgIGlmIChsb2NhdGlvbiA9PSBudWxsIHx8IHR5cGVvZiBsb2NhdGlvbiA9PT0gJ3N0cmluZycpIHJldHVybiBsb2NhdGlvbjtcblx0XG5cdCAgICB2YXIgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcblx0ICAgIHZhciBzZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2g7XG5cdCAgICB2YXIgaGFzaCA9IGxvY2F0aW9uLmhhc2g7XG5cdFxuXHQgICAgdmFyIHJlc3VsdCA9IHBhdGhuYW1lO1xuXHRcblx0ICAgIGlmIChzZWFyY2gpIHJlc3VsdCArPSBzZWFyY2g7XG5cdFxuXHQgICAgaWYgKGhhc2gpIHJlc3VsdCArPSBoYXNoO1xuXHRcblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVIcmVmKGxvY2F0aW9uKSB7XG5cdCAgICByZXR1cm4gY3JlYXRlUGF0aChsb2NhdGlvbik7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVMb2NhdGlvbihsb2NhdGlvbiwgYWN0aW9uKSB7XG5cdCAgICB2YXIga2V5ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gY3JlYXRlS2V5KCkgOiBhcmd1bWVudHNbMl07XG5cdFxuXHQgICAgaWYgKHR5cGVvZiBhY3Rpb24gPT09ICdvYmplY3QnKSB7XG5cdCAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShmYWxzZSwgJ1RoZSBzdGF0ZSAoMm5kKSBhcmd1bWVudCB0byBoaXN0b3J5LmNyZWF0ZUxvY2F0aW9uIGlzIGRlcHJlY2F0ZWQ7IHVzZSBhICcgKyAnbG9jYXRpb24gZGVzY3JpcHRvciBpbnN0ZWFkJykgOiB1bmRlZmluZWQ7XG5cdFxuXHQgICAgICBpZiAodHlwZW9mIGxvY2F0aW9uID09PSAnc3RyaW5nJykgbG9jYXRpb24gPSBfUGF0aFV0aWxzLnBhcnNlUGF0aChsb2NhdGlvbik7XG5cdFxuXHQgICAgICBsb2NhdGlvbiA9IF9leHRlbmRzKHt9LCBsb2NhdGlvbiwgeyBzdGF0ZTogYWN0aW9uIH0pO1xuXHRcblx0ICAgICAgYWN0aW9uID0ga2V5O1xuXHQgICAgICBrZXkgPSBhcmd1bWVudHNbM10gfHwgY3JlYXRlS2V5KCk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIF9jcmVhdGVMb2NhdGlvbjNbJ2RlZmF1bHQnXShsb2NhdGlvbiwgYWN0aW9uLCBrZXkpO1xuXHQgIH1cblx0XG5cdCAgLy8gZGVwcmVjYXRlZFxuXHQgIGZ1bmN0aW9uIHNldFN0YXRlKHN0YXRlKSB7XG5cdCAgICBpZiAobG9jYXRpb24pIHtcblx0ICAgICAgdXBkYXRlTG9jYXRpb25TdGF0ZShsb2NhdGlvbiwgc3RhdGUpO1xuXHQgICAgICB1cGRhdGVMb2NhdGlvbihsb2NhdGlvbik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB1cGRhdGVMb2NhdGlvblN0YXRlKGdldEN1cnJlbnRMb2NhdGlvbigpLCBzdGF0ZSk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiB1cGRhdGVMb2NhdGlvblN0YXRlKGxvY2F0aW9uLCBzdGF0ZSkge1xuXHQgICAgbG9jYXRpb24uc3RhdGUgPSBfZXh0ZW5kcyh7fSwgbG9jYXRpb24uc3RhdGUsIHN0YXRlKTtcblx0ICAgIHNhdmVTdGF0ZShsb2NhdGlvbi5rZXksIGxvY2F0aW9uLnN0YXRlKTtcblx0ICB9XG5cdFxuXHQgIC8vIGRlcHJlY2F0ZWRcblx0ICBmdW5jdGlvbiByZWdpc3RlclRyYW5zaXRpb25Ib29rKGhvb2spIHtcblx0ICAgIGlmICh0cmFuc2l0aW9uSG9va3MuaW5kZXhPZihob29rKSA9PT0gLTEpIHRyYW5zaXRpb25Ib29rcy5wdXNoKGhvb2spO1xuXHQgIH1cblx0XG5cdCAgLy8gZGVwcmVjYXRlZFxuXHQgIGZ1bmN0aW9uIHVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKSB7XG5cdCAgICB0cmFuc2l0aW9uSG9va3MgPSB0cmFuc2l0aW9uSG9va3MuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgIHJldHVybiBpdGVtICE9PSBob29rO1xuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICAvLyBkZXByZWNhdGVkXG5cdCAgZnVuY3Rpb24gcHVzaFN0YXRlKHN0YXRlLCBwYXRoKSB7XG5cdCAgICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSBwYXRoID0gX1BhdGhVdGlscy5wYXJzZVBhdGgocGF0aCk7XG5cdFxuXHQgICAgcHVzaChfZXh0ZW5kcyh7IHN0YXRlOiBzdGF0ZSB9LCBwYXRoKSk7XG5cdCAgfVxuXHRcblx0ICAvLyBkZXByZWNhdGVkXG5cdCAgZnVuY3Rpb24gcmVwbGFjZVN0YXRlKHN0YXRlLCBwYXRoKSB7XG5cdCAgICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSBwYXRoID0gX1BhdGhVdGlscy5wYXJzZVBhdGgocGF0aCk7XG5cdFxuXHQgICAgcmVwbGFjZShfZXh0ZW5kcyh7IHN0YXRlOiBzdGF0ZSB9LCBwYXRoKSk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgbGlzdGVuQmVmb3JlOiBsaXN0ZW5CZWZvcmUsXG5cdCAgICBsaXN0ZW46IGxpc3Rlbixcblx0ICAgIHRyYW5zaXRpb25UbzogdHJhbnNpdGlvblRvLFxuXHQgICAgcHVzaDogcHVzaCxcblx0ICAgIHJlcGxhY2U6IHJlcGxhY2UsXG5cdCAgICBnbzogZ28sXG5cdCAgICBnb0JhY2s6IGdvQmFjayxcblx0ICAgIGdvRm9yd2FyZDogZ29Gb3J3YXJkLFxuXHQgICAgY3JlYXRlS2V5OiBjcmVhdGVLZXksXG5cdCAgICBjcmVhdGVQYXRoOiBjcmVhdGVQYXRoLFxuXHQgICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZixcblx0ICAgIGNyZWF0ZUxvY2F0aW9uOiBjcmVhdGVMb2NhdGlvbixcblx0XG5cdCAgICBzZXRTdGF0ZTogX2RlcHJlY2F0ZTJbJ2RlZmF1bHQnXShzZXRTdGF0ZSwgJ3NldFN0YXRlIGlzIGRlcHJlY2F0ZWQ7IHVzZSBsb2NhdGlvbi5rZXkgdG8gc2F2ZSBzdGF0ZSBpbnN0ZWFkJyksXG5cdCAgICByZWdpc3RlclRyYW5zaXRpb25Ib29rOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHJlZ2lzdGVyVHJhbnNpdGlvbkhvb2ssICdyZWdpc3RlclRyYW5zaXRpb25Ib29rIGlzIGRlcHJlY2F0ZWQ7IHVzZSBsaXN0ZW5CZWZvcmUgaW5zdGVhZCcpLFxuXHQgICAgdW5yZWdpc3RlclRyYW5zaXRpb25Ib29rOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vaywgJ3VucmVnaXN0ZXJUcmFuc2l0aW9uSG9vayBpcyBkZXByZWNhdGVkOyB1c2UgdGhlIGNhbGxiYWNrIHJldHVybmVkIGZyb20gbGlzdGVuQmVmb3JlIGluc3RlYWQnKSxcblx0ICAgIHB1c2hTdGF0ZTogX2RlcHJlY2F0ZTJbJ2RlZmF1bHQnXShwdXNoU3RhdGUsICdwdXNoU3RhdGUgaXMgZGVwcmVjYXRlZDsgdXNlIHB1c2ggaW5zdGVhZCcpLFxuXHQgICAgcmVwbGFjZVN0YXRlOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHJlcGxhY2VTdGF0ZSwgJ3JlcGxhY2VTdGF0ZSBpcyBkZXByZWNhdGVkOyB1c2UgcmVwbGFjZSBpbnN0ZWFkJylcblx0ICB9O1xuXHR9XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBjcmVhdGVIaXN0b3J5O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkpKVxuXG4vKioqLyB9LFxuLyogNDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXHRcblx0dmFyIF9FeGVjdXRpb25FbnZpcm9ubWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXHRcblx0dmFyIF9QYXRoVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdHZhciBfcnVuVHJhbnNpdGlvbkhvb2sgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcblx0XG5cdHZhciBfcnVuVHJhbnNpdGlvbkhvb2syID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcnVuVHJhbnNpdGlvbkhvb2spO1xuXHRcblx0dmFyIF9kZXByZWNhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcblx0XG5cdHZhciBfZGVwcmVjYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlcHJlY2F0ZSk7XG5cdFxuXHRmdW5jdGlvbiB1c2VCYXNlbmFtZShjcmVhdGVIaXN0b3J5KSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cdFxuXHQgICAgdmFyIGhpc3RvcnkgPSBjcmVhdGVIaXN0b3J5KG9wdGlvbnMpO1xuXHRcblx0ICAgIHZhciBiYXNlbmFtZSA9IG9wdGlvbnMuYmFzZW5hbWU7XG5cdFxuXHQgICAgdmFyIGNoZWNrZWRCYXNlSHJlZiA9IGZhbHNlO1xuXHRcblx0ICAgIGZ1bmN0aW9uIGNoZWNrQmFzZUhyZWYoKSB7XG5cdCAgICAgIGlmIChjaGVja2VkQmFzZUhyZWYpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIC8vIEF1dG9tYXRpY2FsbHkgdXNlIHRoZSB2YWx1ZSBvZiA8YmFzZSBocmVmPiBpbiBIVE1MXG5cdCAgICAgIC8vIGRvY3VtZW50cyBhcyBiYXNlbmFtZSBpZiBpdCdzIG5vdCBleHBsaWNpdGx5IGdpdmVuLlxuXHQgICAgICBpZiAoYmFzZW5hbWUgPT0gbnVsbCAmJiBfRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG5cdCAgICAgICAgdmFyIGJhc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYmFzZScpWzBdO1xuXHQgICAgICAgIHZhciBiYXNlSHJlZiA9IGJhc2UgJiYgYmFzZS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcblx0XG5cdCAgICAgICAgaWYgKGJhc2VIcmVmICE9IG51bGwpIHtcblx0ICAgICAgICAgIGJhc2VuYW1lID0gYmFzZUhyZWY7XG5cdFxuXHQgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGZhbHNlLCAnQXV0b21hdGljYWxseSBzZXR0aW5nIGJhc2VuYW1lIHVzaW5nIDxiYXNlIGhyZWY+IGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgJyArICdiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuIFRoZSBzZW1hbnRpY3Mgb2YgPGJhc2UgaHJlZj4gYXJlICcgKyAnc3VidGx5IGRpZmZlcmVudCBmcm9tIGJhc2VuYW1lLiBQbGVhc2UgcGFzcyB0aGUgYmFzZW5hbWUgZXhwbGljaXRseSBpbiAnICsgJ3RoZSBvcHRpb25zIHRvIGNyZWF0ZUhpc3RvcnknKSA6IHVuZGVmaW5lZDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGNoZWNrZWRCYXNlSHJlZiA9IHRydWU7XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gYWRkQmFzZW5hbWUobG9jYXRpb24pIHtcblx0ICAgICAgY2hlY2tCYXNlSHJlZigpO1xuXHRcblx0ICAgICAgaWYgKGJhc2VuYW1lICYmIGxvY2F0aW9uLmJhc2VuYW1lID09IG51bGwpIHtcblx0ICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZihiYXNlbmFtZSkgPT09IDApIHtcblx0ICAgICAgICAgIGxvY2F0aW9uLnBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWUuc3Vic3RyaW5nKGJhc2VuYW1lLmxlbmd0aCk7XG5cdCAgICAgICAgICBsb2NhdGlvbi5iYXNlbmFtZSA9IGJhc2VuYW1lO1xuXHRcblx0ICAgICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJycpIGxvY2F0aW9uLnBhdGhuYW1lID0gJy8nO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBsb2NhdGlvbi5iYXNlbmFtZSA9ICcnO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIGxvY2F0aW9uO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIHByZXBlbmRCYXNlbmFtZShsb2NhdGlvbikge1xuXHQgICAgICBjaGVja0Jhc2VIcmVmKCk7XG5cdFxuXHQgICAgICBpZiAoIWJhc2VuYW1lKSByZXR1cm4gbG9jYXRpb247XG5cdFxuXHQgICAgICBpZiAodHlwZW9mIGxvY2F0aW9uID09PSAnc3RyaW5nJykgbG9jYXRpb24gPSBfUGF0aFV0aWxzLnBhcnNlUGF0aChsb2NhdGlvbik7XG5cdFxuXHQgICAgICB2YXIgcG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcblx0ICAgICAgdmFyIG5vcm1hbGl6ZWRCYXNlbmFtZSA9IGJhc2VuYW1lLnNsaWNlKC0xKSA9PT0gJy8nID8gYmFzZW5hbWUgOiBiYXNlbmFtZSArICcvJztcblx0ICAgICAgdmFyIG5vcm1hbGl6ZWRQYXRobmFtZSA9IHBuYW1lLmNoYXJBdCgwKSA9PT0gJy8nID8gcG5hbWUuc2xpY2UoMSkgOiBwbmFtZTtcblx0ICAgICAgdmFyIHBhdGhuYW1lID0gbm9ybWFsaXplZEJhc2VuYW1lICsgbm9ybWFsaXplZFBhdGhuYW1lO1xuXHRcblx0ICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBsb2NhdGlvbiwge1xuXHQgICAgICAgIHBhdGhuYW1lOiBwYXRobmFtZVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBPdmVycmlkZSBhbGwgcmVhZCBtZXRob2RzIHdpdGggYmFzZW5hbWUtYXdhcmUgdmVyc2lvbnMuXG5cdCAgICBmdW5jdGlvbiBsaXN0ZW5CZWZvcmUoaG9vaykge1xuXHQgICAgICByZXR1cm4gaGlzdG9yeS5saXN0ZW5CZWZvcmUoZnVuY3Rpb24gKGxvY2F0aW9uLCBjYWxsYmFjaykge1xuXHQgICAgICAgIF9ydW5UcmFuc2l0aW9uSG9vazJbJ2RlZmF1bHQnXShob29rLCBhZGRCYXNlbmFtZShsb2NhdGlvbiksIGNhbGxiYWNrKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG5cdCAgICAgIHJldHVybiBoaXN0b3J5Lmxpc3RlbihmdW5jdGlvbiAobG9jYXRpb24pIHtcblx0ICAgICAgICBsaXN0ZW5lcihhZGRCYXNlbmFtZShsb2NhdGlvbikpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBPdmVycmlkZSBhbGwgd3JpdGUgbWV0aG9kcyB3aXRoIGJhc2VuYW1lLWF3YXJlIHZlcnNpb25zLlxuXHQgICAgZnVuY3Rpb24gcHVzaChsb2NhdGlvbikge1xuXHQgICAgICBoaXN0b3J5LnB1c2gocHJlcGVuZEJhc2VuYW1lKGxvY2F0aW9uKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gcmVwbGFjZShsb2NhdGlvbikge1xuXHQgICAgICBoaXN0b3J5LnJlcGxhY2UocHJlcGVuZEJhc2VuYW1lKGxvY2F0aW9uKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gY3JlYXRlUGF0aChsb2NhdGlvbikge1xuXHQgICAgICByZXR1cm4gaGlzdG9yeS5jcmVhdGVQYXRoKHByZXBlbmRCYXNlbmFtZShsb2NhdGlvbikpO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIGNyZWF0ZUhyZWYobG9jYXRpb24pIHtcblx0ICAgICAgcmV0dXJuIGhpc3RvcnkuY3JlYXRlSHJlZihwcmVwZW5kQmFzZW5hbWUobG9jYXRpb24pKTtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBjcmVhdGVMb2NhdGlvbihsb2NhdGlvbikge1xuXHQgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIGFkZEJhc2VuYW1lKGhpc3RvcnkuY3JlYXRlTG9jYXRpb24uYXBwbHkoaGlzdG9yeSwgW3ByZXBlbmRCYXNlbmFtZShsb2NhdGlvbildLmNvbmNhdChhcmdzKSkpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIGRlcHJlY2F0ZWRcblx0ICAgIGZ1bmN0aW9uIHB1c2hTdGF0ZShzdGF0ZSwgcGF0aCkge1xuXHQgICAgICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSBwYXRoID0gX1BhdGhVdGlscy5wYXJzZVBhdGgocGF0aCk7XG5cdFxuXHQgICAgICBwdXNoKF9leHRlbmRzKHsgc3RhdGU6IHN0YXRlIH0sIHBhdGgpKTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBkZXByZWNhdGVkXG5cdCAgICBmdW5jdGlvbiByZXBsYWNlU3RhdGUoc3RhdGUsIHBhdGgpIHtcblx0ICAgICAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykgcGF0aCA9IF9QYXRoVXRpbHMucGFyc2VQYXRoKHBhdGgpO1xuXHRcblx0ICAgICAgcmVwbGFjZShfZXh0ZW5kcyh7IHN0YXRlOiBzdGF0ZSB9LCBwYXRoKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBoaXN0b3J5LCB7XG5cdCAgICAgIGxpc3RlbkJlZm9yZTogbGlzdGVuQmVmb3JlLFxuXHQgICAgICBsaXN0ZW46IGxpc3Rlbixcblx0ICAgICAgcHVzaDogcHVzaCxcblx0ICAgICAgcmVwbGFjZTogcmVwbGFjZSxcblx0ICAgICAgY3JlYXRlUGF0aDogY3JlYXRlUGF0aCxcblx0ICAgICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZixcblx0ICAgICAgY3JlYXRlTG9jYXRpb246IGNyZWF0ZUxvY2F0aW9uLFxuXHRcblx0ICAgICAgcHVzaFN0YXRlOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHB1c2hTdGF0ZSwgJ3B1c2hTdGF0ZSBpcyBkZXByZWNhdGVkOyB1c2UgcHVzaCBpbnN0ZWFkJyksXG5cdCAgICAgIHJlcGxhY2VTdGF0ZTogX2RlcHJlY2F0ZTJbJ2RlZmF1bHQnXShyZXBsYWNlU3RhdGUsICdyZXBsYWNlU3RhdGUgaXMgZGVwcmVjYXRlZDsgdXNlIHJlcGxhY2UgaW5zdGVhZCcpXG5cdCAgICB9KTtcblx0ICB9O1xuXHR9XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSB1c2VCYXNlbmFtZTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKSlcblxuLyoqKi8gfSxcbi8qIDQyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcm91dGVyV2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX3JvdXRlcldhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm91dGVyV2FybmluZyk7XG5cdFxuXHR2YXIgX2ludmFyaWFudCA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuXHRcblx0dmFyIF9Qcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob2JqLCBrZXlzKSB7IHZhciB0YXJnZXQgPSB7fTsgZm9yICh2YXIgaSBpbiBvYmopIHsgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7IHRhcmdldFtpXSA9IG9ialtpXTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cdFxuXHR2YXIgX1JlYWN0JFByb3BUeXBlcyA9IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXM7XG5cdHZhciBib29sID0gX1JlYWN0JFByb3BUeXBlcy5ib29sO1xuXHR2YXIgb2JqZWN0ID0gX1JlYWN0JFByb3BUeXBlcy5vYmplY3Q7XG5cdHZhciBzdHJpbmcgPSBfUmVhY3QkUHJvcFR5cGVzLnN0cmluZztcblx0dmFyIGZ1bmMgPSBfUmVhY3QkUHJvcFR5cGVzLmZ1bmM7XG5cdHZhciBvbmVPZlR5cGUgPSBfUmVhY3QkUHJvcFR5cGVzLm9uZU9mVHlwZTtcblx0XG5cdFxuXHRmdW5jdGlvbiBpc0xlZnRDbGlja0V2ZW50KGV2ZW50KSB7XG5cdCAgcmV0dXJuIGV2ZW50LmJ1dHRvbiA9PT0gMDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNNb2RpZmllZEV2ZW50KGV2ZW50KSB7XG5cdCAgcmV0dXJuICEhKGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuc2hpZnRLZXkpO1xuXHR9XG5cdFxuXHQvLyBUT0RPOiBEZS1kdXBsaWNhdGUgYWdhaW5zdCBoYXNBbnlQcm9wZXJ0aWVzIGluIGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyLlxuXHRmdW5jdGlvbiBpc0VtcHR5T2JqZWN0KG9iamVjdCkge1xuXHQgIGZvciAodmFyIHAgaW4gb2JqZWN0KSB7XG5cdCAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcCkpIHJldHVybiBmYWxzZTtcblx0ICB9cmV0dXJuIHRydWU7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uRGVzY3JpcHRvcih0bywgX3JlZikge1xuXHQgIHZhciBxdWVyeSA9IF9yZWYucXVlcnk7XG5cdCAgdmFyIGhhc2ggPSBfcmVmLmhhc2g7XG5cdCAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZTtcblx0XG5cdCAgaWYgKHF1ZXJ5IHx8IGhhc2ggfHwgc3RhdGUpIHtcblx0ICAgIHJldHVybiB7IHBhdGhuYW1lOiB0bywgcXVlcnk6IHF1ZXJ5LCBoYXNoOiBoYXNoLCBzdGF0ZTogc3RhdGUgfTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiB0bztcblx0fVxuXHRcblx0LyoqXG5cdCAqIEEgPExpbms+IGlzIHVzZWQgdG8gY3JlYXRlIGFuIDxhPiBlbGVtZW50IHRoYXQgbGlua3MgdG8gYSByb3V0ZS5cblx0ICogV2hlbiB0aGF0IHJvdXRlIGlzIGFjdGl2ZSwgdGhlIGxpbmsgZ2V0cyB0aGUgdmFsdWUgb2YgaXRzXG5cdCAqIGFjdGl2ZUNsYXNzTmFtZSBwcm9wLlxuXHQgKlxuXHQgKiBGb3IgZXhhbXBsZSwgYXNzdW1pbmcgeW91IGhhdmUgdGhlIGZvbGxvd2luZyByb3V0ZTpcblx0ICpcblx0ICogICA8Um91dGUgcGF0aD1cIi9wb3N0cy86cG9zdElEXCIgY29tcG9uZW50PXtQb3N0fSAvPlxuXHQgKlxuXHQgKiBZb3UgY291bGQgdXNlIHRoZSBmb2xsb3dpbmcgY29tcG9uZW50IHRvIGxpbmsgdG8gdGhhdCByb3V0ZTpcblx0ICpcblx0ICogICA8TGluayB0bz17YC9wb3N0cy8ke3Bvc3QuaWR9YH0gLz5cblx0ICpcblx0ICogTGlua3MgbWF5IHBhc3MgYWxvbmcgbG9jYXRpb24gc3RhdGUgYW5kL29yIHF1ZXJ5IHN0cmluZyBwYXJhbWV0ZXJzXG5cdCAqIGluIHRoZSBzdGF0ZS9xdWVyeSBwcm9wcywgcmVzcGVjdGl2ZWx5LlxuXHQgKlxuXHQgKiAgIDxMaW5rIC4uLiBxdWVyeT17eyBzaG93OiB0cnVlIH19IHN0YXRlPXt7IHRoZTogJ3N0YXRlJyB9fSAvPlxuXHQgKi9cblx0dmFyIExpbmsgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3Moe1xuXHQgIGRpc3BsYXlOYW1lOiAnTGluaycsXG5cdFxuXHRcblx0ICBjb250ZXh0VHlwZXM6IHtcblx0ICAgIHJvdXRlcjogX1Byb3BUeXBlcy5yb3V0ZXJTaGFwZVxuXHQgIH0sXG5cdFxuXHQgIHByb3BUeXBlczoge1xuXHQgICAgdG86IG9uZU9mVHlwZShbc3RyaW5nLCBvYmplY3RdKSxcblx0ICAgIHF1ZXJ5OiBvYmplY3QsXG5cdCAgICBoYXNoOiBzdHJpbmcsXG5cdCAgICBzdGF0ZTogb2JqZWN0LFxuXHQgICAgYWN0aXZlU3R5bGU6IG9iamVjdCxcblx0ICAgIGFjdGl2ZUNsYXNzTmFtZTogc3RyaW5nLFxuXHQgICAgb25seUFjdGl2ZU9uSW5kZXg6IGJvb2wuaXNSZXF1aXJlZCxcblx0ICAgIG9uQ2xpY2s6IGZ1bmMsXG5cdCAgICB0YXJnZXQ6IHN0cmluZ1xuXHQgIH0sXG5cdFxuXHQgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgb25seUFjdGl2ZU9uSW5kZXg6IGZhbHNlLFxuXHQgICAgICBzdHlsZToge31cblx0ICAgIH07XG5cdCAgfSxcblx0ICBoYW5kbGVDbGljazogZnVuY3Rpb24gaGFuZGxlQ2xpY2soZXZlbnQpIHtcblx0ICAgIGlmICh0aGlzLnByb3BzLm9uQ2xpY2spIHRoaXMucHJvcHMub25DbGljayhldmVudCk7XG5cdFxuXHQgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHJldHVybjtcblx0XG5cdCAgICAhdGhpcy5jb250ZXh0LnJvdXRlciA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UsICc8TGluaz5zIHJlbmRlcmVkIG91dHNpZGUgb2YgYSByb3V0ZXIgY29udGV4dCBjYW5ub3QgbmF2aWdhdGUuJykgOiAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UpIDogdm9pZCAwO1xuXHRcblx0ICAgIGlmIChpc01vZGlmaWVkRXZlbnQoZXZlbnQpIHx8ICFpc0xlZnRDbGlja0V2ZW50KGV2ZW50KSkgcmV0dXJuO1xuXHRcblx0ICAgIC8vIElmIHRhcmdldCBwcm9wIGlzIHNldCAoZS5nLiB0byBcIl9ibGFua1wiKSwgbGV0IGJyb3dzZXIgaGFuZGxlIGxpbmsuXG5cdCAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWY6IHVudGVzdGFibGUgd2l0aCBLYXJtYSAqL1xuXHQgICAgaWYgKHRoaXMucHJvcHMudGFyZ2V0KSByZXR1cm47XG5cdFxuXHQgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XG5cdCAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciB0byA9IF9wcm9wcy50bztcblx0ICAgIHZhciBxdWVyeSA9IF9wcm9wcy5xdWVyeTtcblx0ICAgIHZhciBoYXNoID0gX3Byb3BzLmhhc2g7XG5cdCAgICB2YXIgc3RhdGUgPSBfcHJvcHMuc3RhdGU7XG5cdFxuXHQgICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb25EZXNjcmlwdG9yKHRvLCB7IHF1ZXJ5OiBxdWVyeSwgaGFzaDogaGFzaCwgc3RhdGU6IHN0YXRlIH0pO1xuXHRcblx0ICAgIHRoaXMuY29udGV4dC5yb3V0ZXIucHVzaChsb2NhdGlvbik7XG5cdCAgfSxcblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciB0byA9IF9wcm9wczIudG87XG5cdCAgICB2YXIgcXVlcnkgPSBfcHJvcHMyLnF1ZXJ5O1xuXHQgICAgdmFyIGhhc2ggPSBfcHJvcHMyLmhhc2g7XG5cdCAgICB2YXIgc3RhdGUgPSBfcHJvcHMyLnN0YXRlO1xuXHQgICAgdmFyIGFjdGl2ZUNsYXNzTmFtZSA9IF9wcm9wczIuYWN0aXZlQ2xhc3NOYW1lO1xuXHQgICAgdmFyIGFjdGl2ZVN0eWxlID0gX3Byb3BzMi5hY3RpdmVTdHlsZTtcblx0ICAgIHZhciBvbmx5QWN0aXZlT25JbmRleCA9IF9wcm9wczIub25seUFjdGl2ZU9uSW5kZXg7XG5cdFxuXHQgICAgdmFyIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9wcm9wczIsIFsndG8nLCAncXVlcnknLCAnaGFzaCcsICdzdGF0ZScsICdhY3RpdmVDbGFzc05hbWUnLCAnYWN0aXZlU3R5bGUnLCAnb25seUFjdGl2ZU9uSW5kZXgnXSk7XG5cdFxuXHQgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoIShxdWVyeSB8fCBoYXNoIHx8IHN0YXRlKSwgJ3RoZSBgcXVlcnlgLCBgaGFzaGAsIGFuZCBgc3RhdGVgIHByb3BzIG9uIGA8TGluaz5gIGFyZSBkZXByZWNhdGVkLCB1c2UgYDxMaW5rIHRvPXt7IHBhdGhuYW1lLCBxdWVyeSwgaGFzaCwgc3RhdGUgfX0vPi4gaHR0cDovL3RpbnkuY2Mvcm91dGVyLWlzQWN0aXZlZGVwcmVjYXRlZCcpIDogdm9pZCAwO1xuXHRcblx0ICAgIC8vIElnbm9yZSBpZiByZW5kZXJlZCBvdXRzaWRlIHRoZSBjb250ZXh0IG9mIHJvdXRlciwgc2ltcGxpZmllcyB1bml0IHRlc3RpbmcuXG5cdCAgICB2YXIgcm91dGVyID0gdGhpcy5jb250ZXh0LnJvdXRlcjtcblx0XG5cdFxuXHQgICAgaWYgKHJvdXRlcikge1xuXHQgICAgICAvLyBJZiB1c2VyIGRvZXMgbm90IHNwZWNpZnkgYSBgdG9gIHByb3AsIHJldHVybiBhbiBlbXB0eSBhbmNob3IgdGFnLlxuXHQgICAgICBpZiAodG8gPT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnYScsIHByb3BzKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb25EZXNjcmlwdG9yKHRvLCB7IHF1ZXJ5OiBxdWVyeSwgaGFzaDogaGFzaCwgc3RhdGU6IHN0YXRlIH0pO1xuXHQgICAgICBwcm9wcy5ocmVmID0gcm91dGVyLmNyZWF0ZUhyZWYobG9jYXRpb24pO1xuXHRcblx0ICAgICAgaWYgKGFjdGl2ZUNsYXNzTmFtZSB8fCBhY3RpdmVTdHlsZSAhPSBudWxsICYmICFpc0VtcHR5T2JqZWN0KGFjdGl2ZVN0eWxlKSkge1xuXHQgICAgICAgIGlmIChyb3V0ZXIuaXNBY3RpdmUobG9jYXRpb24sIG9ubHlBY3RpdmVPbkluZGV4KSkge1xuXHQgICAgICAgICAgaWYgKGFjdGl2ZUNsYXNzTmFtZSkge1xuXHQgICAgICAgICAgICBpZiAocHJvcHMuY2xhc3NOYW1lKSB7XG5cdCAgICAgICAgICAgICAgcHJvcHMuY2xhc3NOYW1lICs9ICcgJyArIGFjdGl2ZUNsYXNzTmFtZTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICBwcm9wcy5jbGFzc05hbWUgPSBhY3RpdmVDbGFzc05hbWU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICBpZiAoYWN0aXZlU3R5bGUpIHByb3BzLnN0eWxlID0gX2V4dGVuZHMoe30sIHByb3BzLnN0eWxlLCBhY3RpdmVTdHlsZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdhJywgX2V4dGVuZHMoe30sIHByb3BzLCB7IG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ2xpY2sgfSkpO1xuXHQgIH1cblx0fSk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBMaW5rO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkpKVxuXG4vKioqLyB9LFxuLyogNDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2ludmFyaWFudCA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuXHRcblx0dmFyIF9Sb3V0ZVV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfUGF0dGVyblV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cdFxuXHR2YXIgX0ludGVybmFsUHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIF9SZWFjdCRQcm9wVHlwZXMgPSBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzO1xuXHR2YXIgc3RyaW5nID0gX1JlYWN0JFByb3BUeXBlcy5zdHJpbmc7XG5cdHZhciBvYmplY3QgPSBfUmVhY3QkUHJvcFR5cGVzLm9iamVjdDtcblx0XG5cdC8qKlxuXHQgKiBBIDxSZWRpcmVjdD4gaXMgdXNlZCB0byBkZWNsYXJlIGFub3RoZXIgVVJMIHBhdGggYSBjbGllbnQgc2hvdWxkXG5cdCAqIGJlIHNlbnQgdG8gd2hlbiB0aGV5IHJlcXVlc3QgYSBnaXZlbiBVUkwuXG5cdCAqXG5cdCAqIFJlZGlyZWN0cyBhcmUgcGxhY2VkIGFsb25nc2lkZSByb3V0ZXMgaW4gdGhlIHJvdXRlIGNvbmZpZ3VyYXRpb25cblx0ICogYW5kIGFyZSB0cmF2ZXJzZWQgaW4gdGhlIHNhbWUgbWFubmVyLlxuXHQgKi9cblx0XG5cdHZhciBSZWRpcmVjdCA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVDbGFzcyh7XG5cdCAgZGlzcGxheU5hbWU6ICdSZWRpcmVjdCcsXG5cdFxuXHRcblx0ICBzdGF0aWNzOiB7XG5cdCAgICBjcmVhdGVSb3V0ZUZyb21SZWFjdEVsZW1lbnQ6IGZ1bmN0aW9uIGNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudChlbGVtZW50KSB7XG5cdCAgICAgIHZhciByb3V0ZSA9ICgwLCBfUm91dGVVdGlscy5jcmVhdGVSb3V0ZUZyb21SZWFjdEVsZW1lbnQpKGVsZW1lbnQpO1xuXHRcblx0ICAgICAgaWYgKHJvdXRlLmZyb20pIHJvdXRlLnBhdGggPSByb3V0ZS5mcm9tO1xuXHRcblx0ICAgICAgcm91dGUub25FbnRlciA9IGZ1bmN0aW9uIChuZXh0U3RhdGUsIHJlcGxhY2UpIHtcblx0ICAgICAgICB2YXIgbG9jYXRpb24gPSBuZXh0U3RhdGUubG9jYXRpb247XG5cdCAgICAgICAgdmFyIHBhcmFtcyA9IG5leHRTdGF0ZS5wYXJhbXM7XG5cdFxuXHRcblx0ICAgICAgICB2YXIgcGF0aG5hbWUgPSB2b2lkIDA7XG5cdCAgICAgICAgaWYgKHJvdXRlLnRvLmNoYXJBdCgwKSA9PT0gJy8nKSB7XG5cdCAgICAgICAgICBwYXRobmFtZSA9ICgwLCBfUGF0dGVyblV0aWxzLmZvcm1hdFBhdHRlcm4pKHJvdXRlLnRvLCBwYXJhbXMpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoIXJvdXRlLnRvKSB7XG5cdCAgICAgICAgICBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB2YXIgcm91dGVJbmRleCA9IG5leHRTdGF0ZS5yb3V0ZXMuaW5kZXhPZihyb3V0ZSk7XG5cdCAgICAgICAgICB2YXIgcGFyZW50UGF0dGVybiA9IFJlZGlyZWN0LmdldFJvdXRlUGF0dGVybihuZXh0U3RhdGUucm91dGVzLCByb3V0ZUluZGV4IC0gMSk7XG5cdCAgICAgICAgICB2YXIgcGF0dGVybiA9IHBhcmVudFBhdHRlcm4ucmVwbGFjZSgvXFwvKiQvLCAnLycpICsgcm91dGUudG87XG5cdCAgICAgICAgICBwYXRobmFtZSA9ICgwLCBfUGF0dGVyblV0aWxzLmZvcm1hdFBhdHRlcm4pKHBhdHRlcm4sIHBhcmFtcyk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXBsYWNlKHtcblx0ICAgICAgICAgIHBhdGhuYW1lOiBwYXRobmFtZSxcblx0ICAgICAgICAgIHF1ZXJ5OiByb3V0ZS5xdWVyeSB8fCBsb2NhdGlvbi5xdWVyeSxcblx0ICAgICAgICAgIHN0YXRlOiByb3V0ZS5zdGF0ZSB8fCBsb2NhdGlvbi5zdGF0ZVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9O1xuXHRcblx0ICAgICAgcmV0dXJuIHJvdXRlO1xuXHQgICAgfSxcblx0ICAgIGdldFJvdXRlUGF0dGVybjogZnVuY3Rpb24gZ2V0Um91dGVQYXR0ZXJuKHJvdXRlcywgcm91dGVJbmRleCkge1xuXHQgICAgICB2YXIgcGFyZW50UGF0dGVybiA9ICcnO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IHJvdXRlSW5kZXg7IGkgPj0gMDsgaS0tKSB7XG5cdCAgICAgICAgdmFyIHJvdXRlID0gcm91dGVzW2ldO1xuXHQgICAgICAgIHZhciBwYXR0ZXJuID0gcm91dGUucGF0aCB8fCAnJztcblx0XG5cdCAgICAgICAgcGFyZW50UGF0dGVybiA9IHBhdHRlcm4ucmVwbGFjZSgvXFwvKiQvLCAnLycpICsgcGFyZW50UGF0dGVybjtcblx0XG5cdCAgICAgICAgaWYgKHBhdHRlcm4uaW5kZXhPZignLycpID09PSAwKSBicmVhaztcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuICcvJyArIHBhcmVudFBhdHRlcm47XG5cdCAgICB9XG5cdCAgfSxcblx0XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICBwYXRoOiBzdHJpbmcsXG5cdCAgICBmcm9tOiBzdHJpbmcsIC8vIEFsaWFzIGZvciBwYXRoXG5cdCAgICB0bzogc3RyaW5nLmlzUmVxdWlyZWQsXG5cdCAgICBxdWVyeTogb2JqZWN0LFxuXHQgICAgc3RhdGU6IG9iamVjdCxcblx0ICAgIG9uRW50ZXI6IF9JbnRlcm5hbFByb3BUeXBlcy5mYWxzeSxcblx0ICAgIGNoaWxkcmVuOiBfSW50ZXJuYWxQcm9wVHlwZXMuZmFsc3lcblx0ICB9LFxuXHRcblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogc2FuaXR5IGNoZWNrICovXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgdHJ1ZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UsICc8UmVkaXJlY3Q+IGVsZW1lbnRzIGFyZSBmb3Igcm91dGVyIGNvbmZpZ3VyYXRpb24gb25seSBhbmQgc2hvdWxkIG5vdCBiZSByZW5kZXJlZCcpIDogKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlKSA6IHZvaWQgMDtcblx0ICB9XG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gUmVkaXJlY3Q7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKSkpXG5cbi8qKiovIH0sXG4vKiA0NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdGV4cG9ydHMuY3JlYXRlUm91dGVyT2JqZWN0ID0gY3JlYXRlUm91dGVyT2JqZWN0O1xuXHRleHBvcnRzLmNyZWF0ZVJvdXRpbmdIaXN0b3J5ID0gY3JlYXRlUm91dGluZ0hpc3Rvcnk7XG5cdFxuXHR2YXIgX2RlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblx0XG5cdHZhciBfZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVSb3V0ZXJPYmplY3QoaGlzdG9yeSwgdHJhbnNpdGlvbk1hbmFnZXIpIHtcblx0ICByZXR1cm4gX2V4dGVuZHMoe30sIGhpc3RvcnksIHtcblx0ICAgIHNldFJvdXRlTGVhdmVIb29rOiB0cmFuc2l0aW9uTWFuYWdlci5saXN0ZW5CZWZvcmVMZWF2aW5nUm91dGUsXG5cdCAgICBpc0FjdGl2ZTogdHJhbnNpdGlvbk1hbmFnZXIuaXNBY3RpdmVcblx0ICB9KTtcblx0fVxuXHRcblx0Ly8gZGVwcmVjYXRlZFxuXHRmdW5jdGlvbiBjcmVhdGVSb3V0aW5nSGlzdG9yeShoaXN0b3J5LCB0cmFuc2l0aW9uTWFuYWdlcikge1xuXHQgIGhpc3RvcnkgPSBfZXh0ZW5kcyh7fSwgaGlzdG9yeSwgdHJhbnNpdGlvbk1hbmFnZXIpO1xuXHRcblx0ICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgaGlzdG9yeSA9ICgwLCBfZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllczIuZGVmYXVsdCkoaGlzdG9yeSwgJ2Bwcm9wcy5oaXN0b3J5YCBhbmQgYGNvbnRleHQuaGlzdG9yeWAgYXJlIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgYGNvbnRleHQucm91dGVyYC4gaHR0cDovL3RpbnkuY2Mvcm91dGVyLWNvbnRleHRjaGFuZ2VzJyk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gaGlzdG9yeTtcblx0fVxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKSkpXG5cbi8qKiovIH0sXG4vKiA0NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlTWVtb3J5SGlzdG9yeTtcblx0XG5cdHZhciBfdXNlUXVlcmllcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXHRcblx0dmFyIF91c2VRdWVyaWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VzZVF1ZXJpZXMpO1xuXHRcblx0dmFyIF91c2VCYXNlbmFtZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXHRcblx0dmFyIF91c2VCYXNlbmFtZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91c2VCYXNlbmFtZSk7XG5cdFxuXHR2YXIgX2NyZWF0ZU1lbW9yeUhpc3RvcnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5KTtcblx0XG5cdHZhciBfY3JlYXRlTWVtb3J5SGlzdG9yeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVNZW1vcnlIaXN0b3J5KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVNZW1vcnlIaXN0b3J5KG9wdGlvbnMpIHtcblx0ICAvLyBzaWduYXR1cmVzIGFuZCB0eXBlIGNoZWNraW5nIGRpZmZlciBiZXR3ZWVuIGB1c2VSb3V0ZXNgIGFuZFxuXHQgIC8vIGBjcmVhdGVNZW1vcnlIaXN0b3J5YCwgaGF2ZSB0byBjcmVhdGUgYG1lbW9yeUhpc3RvcnlgIGZpcnN0IGJlY2F1c2Vcblx0ICAvLyBgdXNlUXVlcmllc2AgZG9lc24ndCB1bmRlcnN0YW5kIHRoZSBzaWduYXR1cmVcblx0ICB2YXIgbWVtb3J5SGlzdG9yeSA9ICgwLCBfY3JlYXRlTWVtb3J5SGlzdG9yeTIuZGVmYXVsdCkob3B0aW9ucyk7XG5cdCAgdmFyIGNyZWF0ZUhpc3RvcnkgPSBmdW5jdGlvbiBjcmVhdGVIaXN0b3J5KCkge1xuXHQgICAgcmV0dXJuIG1lbW9yeUhpc3Rvcnk7XG5cdCAgfTtcblx0ICB2YXIgaGlzdG9yeSA9ICgwLCBfdXNlUXVlcmllczIuZGVmYXVsdCkoKDAsIF91c2VCYXNlbmFtZTIuZGVmYXVsdCkoY3JlYXRlSGlzdG9yeSkpKG9wdGlvbnMpO1xuXHQgIGhpc3RvcnkuX192Ml9jb21wYXRpYmxlX18gPSB0cnVlO1xuXHQgIHJldHVybiBoaXN0b3J5O1xuXHR9XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogNDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoY3JlYXRlSGlzdG9yeSkge1xuXHQgIHZhciBoaXN0b3J5ID0gdm9pZCAwO1xuXHQgIGlmIChjYW5Vc2VET00pIGhpc3RvcnkgPSAoMCwgX3VzZVJvdXRlckhpc3RvcnkyLmRlZmF1bHQpKGNyZWF0ZUhpc3RvcnkpKCk7XG5cdCAgcmV0dXJuIGhpc3Rvcnk7XG5cdH07XG5cdFxuXHR2YXIgX3VzZVJvdXRlckhpc3RvcnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBfdXNlUm91dGVySGlzdG9yeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91c2VSb3V0ZXJIaXN0b3J5KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgY2FuVXNlRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogNDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBtYWtlU3RhdGVXaXRoTG9jYXRpb247XG5cdFxuXHR2YXIgX2RlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblx0XG5cdHZhciBfcm91dGVyV2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX3JvdXRlcldhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm91dGVyV2FybmluZyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gbWFrZVN0YXRlV2l0aExvY2F0aW9uKHN0YXRlLCBsb2NhdGlvbikge1xuXHQgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIF9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzLmNhblVzZU1lbWJyYW5lKSB7XG5cdCAgICB2YXIgc3RhdGVXaXRoTG9jYXRpb24gPSBfZXh0ZW5kcyh7fSwgc3RhdGUpO1xuXHRcblx0ICAgIC8vIEkgZG9uJ3QgdXNlIGRlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMgaGVyZSBiZWNhdXNlIEkgd2FudCB0byBrZWVwIHRoZVxuXHQgICAgLy8gc2FtZSBjb2RlIHBhdGggYmV0d2VlbiBkZXZlbG9wbWVudCBhbmQgcHJvZHVjdGlvbiwgaW4gdGhhdCB3ZSBqdXN0XG5cdCAgICAvLyBhc3NpZ24gZXh0cmEgcHJvcGVydGllcyB0byB0aGUgY29weSBvZiB0aGUgc3RhdGUgb2JqZWN0IGluIGJvdGggY2FzZXMuXG5cdFxuXHQgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AocHJvcCkge1xuXHQgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsb2NhdGlvbiwgcHJvcCkpIHtcblx0ICAgICAgICByZXR1cm4gJ2NvbnRpbnVlJztcblx0ICAgICAgfVxuXHRcblx0ICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN0YXRlV2l0aExvY2F0aW9uLCBwcm9wLCB7XG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ0FjY2Vzc2luZyBsb2NhdGlvbiBwcm9wZXJ0aWVzIGRpcmVjdGx5IGZyb20gdGhlIGZpcnN0IGFyZ3VtZW50IHRvIGBnZXRDb21wb25lbnRgLCBgZ2V0Q29tcG9uZW50c2AsIGBnZXRDaGlsZFJvdXRlc2AsIGFuZCBgZ2V0SW5kZXhSb3V0ZWAgaXMgZGVwcmVjYXRlZC4gVGhhdCBhcmd1bWVudCBpcyBub3cgdGhlIHJvdXRlciBzdGF0ZSAoYG5leHRTdGF0ZWAgb3IgYHBhcnRpYWxOZXh0U3RhdGVgKSByYXRoZXIgdGhhbiB0aGUgbG9jYXRpb24uIFRvIGFjY2VzcyB0aGUgbG9jYXRpb24sIHVzZSBgbmV4dFN0YXRlLmxvY2F0aW9uYCBvciBgcGFydGlhbE5leHRTdGF0ZS5sb2NhdGlvbmAuJykgOiB2b2lkIDA7XG5cdCAgICAgICAgICByZXR1cm4gbG9jYXRpb25bcHJvcF07XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgZm9yICh2YXIgcHJvcCBpbiBsb2NhdGlvbikge1xuXHQgICAgICB2YXIgX3JldCA9IF9sb29wKHByb3ApO1xuXHRcblx0ICAgICAgaWYgKF9yZXQgPT09ICdjb250aW51ZScpIGNvbnRpbnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBzdGF0ZVdpdGhMb2NhdGlvbjtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RhdGUsIGxvY2F0aW9uKTtcblx0fVxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkpKVxuXG4vKioqLyB9LFxuLyogNDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHVzZVJvdXRlckhpc3Rvcnk7XG5cdFxuXHR2YXIgX3VzZVF1ZXJpZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcblx0XG5cdHZhciBfdXNlUXVlcmllczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91c2VRdWVyaWVzKTtcblx0XG5cdHZhciBfdXNlQmFzZW5hbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcblx0XG5cdHZhciBfdXNlQmFzZW5hbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXNlQmFzZW5hbWUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIHVzZVJvdXRlckhpc3RvcnkoY3JlYXRlSGlzdG9yeSkge1xuXHQgIHJldHVybiBmdW5jdGlvbiAob3B0aW9ucykge1xuXHQgICAgdmFyIGhpc3RvcnkgPSAoMCwgX3VzZVF1ZXJpZXMyLmRlZmF1bHQpKCgwLCBfdXNlQmFzZW5hbWUyLmRlZmF1bHQpKGNyZWF0ZUhpc3RvcnkpKShvcHRpb25zKTtcblx0ICAgIGhpc3RvcnkuX192Ml9jb21wYXRpYmxlX18gPSB0cnVlO1xuXHQgICAgcmV0dXJuIGhpc3Rvcnk7XG5cdCAgfTtcblx0fVxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDQ5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHR2YXIgcmVwZWF0ID0gZXhwb3J0cy5yZXBlYXQgPSBmdW5jdGlvbiByZXBlYXQoc3RyLCB0aW1lcykge1xuXHQgIHJldHVybiBuZXcgQXJyYXkodGltZXMgKyAxKS5qb2luKHN0cik7XG5cdH07XG5cdFxuXHR2YXIgcGFkID0gZXhwb3J0cy5wYWQgPSBmdW5jdGlvbiBwYWQobnVtLCBtYXhMZW5ndGgpIHtcblx0ICByZXR1cm4gcmVwZWF0KFwiMFwiLCBtYXhMZW5ndGggLSBudW0udG9TdHJpbmcoKS5sZW5ndGgpICsgbnVtO1xuXHR9O1xuXHRcblx0dmFyIGZvcm1hdFRpbWUgPSBleHBvcnRzLmZvcm1hdFRpbWUgPSBmdW5jdGlvbiBmb3JtYXRUaW1lKHRpbWUpIHtcblx0ICByZXR1cm4gcGFkKHRpbWUuZ2V0SG91cnMoKSwgMikgKyBcIjpcIiArIHBhZCh0aW1lLmdldE1pbnV0ZXMoKSwgMikgKyBcIjpcIiArIHBhZCh0aW1lLmdldFNlY29uZHMoKSwgMikgKyBcIi5cIiArIHBhZCh0aW1lLmdldE1pbGxpc2Vjb25kcygpLCAzKTtcblx0fTtcblx0XG5cdC8vIFVzZSBwZXJmb3JtYW5jZSBBUEkgaWYgaXQncyBhdmFpbGFibGUgaW4gb3JkZXIgdG8gZ2V0IGJldHRlciBwcmVjaXNpb25cblx0dmFyIHRpbWVyID0gZXhwb3J0cy50aW1lciA9IHR5cGVvZiBwZXJmb3JtYW5jZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwZXJmb3JtYW5jZSAhPT0gbnVsbCAmJiB0eXBlb2YgcGVyZm9ybWFuY2Uubm93ID09PSBcImZ1bmN0aW9uXCIgPyBwZXJmb3JtYW5jZSA6IERhdGU7XG5cbi8qKiovIH0sXG4vKiA1MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5nZXRMb2dpbiA9IGdldExvZ2luO1xuXHRcblx0dmFyIF9BY3Rpb25zVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTtcblx0XG5cdHZhciBfbG9naW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKTtcblx0XG5cdHZhciBfbG9naW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9naW4pO1xuXHRcblx0dmFyIF9hbnRkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBnZXRMb2dpbihkYXRhKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKGRpc3BhdGNoKSB7XG5cdCAgICAgICAgX2FudGQubWVzc2FnZS5sb2FkaW5nKCfnmbvlvZXkuK0uLi4nKTtcblx0ICAgICAgICBfbG9naW4yLmRlZmF1bHQubG9naW4oZGF0YSwgZnVuY3Rpb24gKGNvbmZpZykge1xuXHQgICAgICAgICAgICBkaXNwYXRjaCh7XG5cdCAgICAgICAgICAgICAgICB0eXBlOiBfQWN0aW9uc1R5cGVzLlJFQ0VJVkVfTE9HSU4sXG5cdCAgICAgICAgICAgICAgICBjb25maWc6IGNvbmZpZ1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdH1cblxuLyoqKi8gfSxcbi8qIDUxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9pc29tb3JwaGljRmV0Y2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKTtcblx0XG5cdHZhciBfaXNvbW9ycGhpY0ZldGNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzb21vcnBoaWNGZXRjaCk7XG5cdFxuXHR2YXIgX2FudGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9yZWFjdFJvdXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0ge1xuXHQgICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKGRhdGEsIGNiKSB7XG5cdCAgICAgICAgX3JlYWN0Um91dGVyLmJyb3dzZXJIaXN0b3J5LnB1c2goJy9lZUluQnVwdFdlYi9kYXNoYm9hcmQnKTtcblx0ICAgICAgICBfYW50ZC5tZXNzYWdlLnN1Y2Nlc3MoJ+eZu+W9leaIkOWKn++8gScpO1xuXHQgICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuXHQgICAgICAgIGZvciAobmFtZSBpbiBkYXRhKSB7XG5cdCAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChuYW1lLCBkYXRhW25hbWVdKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgKDAsIF9pc29tb3JwaGljRmV0Y2gyLmRlZmF1bHQpKCcvZmVlbGVyMi9sb2dpbi9zdWJtaXQnLCB7XG5cdCAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuXHQgICAgICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyxcblx0ICAgICAgICAgICAgYm9keTogZm9ybURhdGFcblx0ICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpLnRoZW4oZnVuY3Rpb24gKGpzb24pIHtcblx0ICAgICAgICAgICAgICAgIHN3aXRjaCAoanNvbi5lcnJDb2RlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuXHQgICAgICAgICAgICAgICAgICAgICAgICBfYW50ZC5tZXNzYWdlLnN1Y2Nlc3MoJ+eZu+W9leaIkOWKn++8gScpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3RSb3V0ZXIuYnJvd3Nlckhpc3RvcnkucHVzaCgnL2VlSW5CdXB0V2ViL2Rhc2hib2FyZCcpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjYihqc29uLmRhdGEpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgICAgICBjYXNlIDEwMDEwMDA6XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF9hbnRkLm1lc3NhZ2UuZXJyb3IoXCLnlKjmiLfkuI3lrZjlnKhcIik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgICAgIGNhc2UgMTAwMTAwMTpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX2FudGQubWVzc2FnZS5lcnJvcihcIuWvhueggemUmeivr1wiKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX2FudGQubWVzc2FnZS5lcnJvcihqc29uLm1zZyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblx0fTsgLyoqXG5cdCAgICAqIENyZWF0ZWQgYnkgbGlhb2ppYW5qdW4gb24gMjAxNi83LzI3LlxuXHQgICAgKi9cblxuLyoqKi8gfSxcbi8qIDUyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9hbnRkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfcmVhY3RSb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMDApO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfSAvKipcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlZCBieSBqb3NlcGhpIG9uIDIwMTYvMTIvMjIuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXHRcblx0XG5cdHZhciBDZmlndXJlID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoQ2ZpZ3VyZSwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIENmaWd1cmUocHJvcHMpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDZmlndXJlKTtcblx0XG5cdCAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ2ZpZ3VyZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENmaWd1cmUpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgX3RoaXMuc3RhdGUgPSB7fTtcblx0ICAgIHJldHVybiBfdGhpcztcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhDZmlndXJlLCBbe1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogJ2ZpZ3VyZScgfSxcblx0ICAgICAgICAnXFx1NTJBOFxcdTU2RkUuLi4nXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gQ2ZpZ3VyZTtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IENmaWd1cmU7XG5cbi8qKiovIH0sXG4vKiA1MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfYW50ZCA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX3JlYWN0Um91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTAxKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZWQgYnkgam9zZXBoaSBvbiAyMDE2LzEyLzIxLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblx0XG5cdFxuXHR2YXIgQ2hhbm5lbCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKENoYW5uZWwsIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBDaGFubmVsKHByb3BzKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2hhbm5lbCk7XG5cdFxuXHQgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKENoYW5uZWwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDaGFubmVsKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgIF90aGlzLnN0YXRlID0ge307XG5cdCAgICByZXR1cm4gX3RoaXM7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoQ2hhbm5lbCwgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6ICdjaGFubmVsJyB9LFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG5cdCAgICAgICAgICAgICAgX3JlYWN0Um91dGVyLmJyb3dzZXJIaXN0b3J5LnB1c2goKTtcblx0ICAgICAgICAgICAgfSwgc3R5bGU6IHsgZm9udFNpemU6IFwiNDBweFwiLCBjb2xvcjogXCJwdXJwbGVcIiB9IH0sXG5cdCAgICAgICAgICAnXFx1NUZFQlxcdTkwMUZcXHU5MDFBXFx1OTA1Mydcblx0ICAgICAgICApLFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG5cdCAgICAgICAgICAgICAgX3JlYWN0Um91dGVyLmJyb3dzZXJIaXN0b3J5LnB1c2goKTtcblx0ICAgICAgICAgICAgfSB9LFxuXHQgICAgICAgICAgJ1xcdTVCNjZcXHU1NDU4XFx1NkNFOFxcdTUxOEMvXFx1NzY3QlxcdTVGNTUnXG5cdCAgICAgICAgKSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuXHQgICAgICAgICAgICAgIF9yZWFjdFJvdXRlci5icm93c2VySGlzdG9yeS5wdXNoKCk7XG5cdCAgICAgICAgICAgIH0gfSxcblx0ICAgICAgICAgICdcXHU1QjY2XFx1NTQ1OFxcdTRFMkRcXHU1RkMzJ1xuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcblx0ICAgICAgICAgICAgICBfcmVhY3RSb3V0ZXIuYnJvd3Nlckhpc3RvcnkucHVzaCgpO1xuXHQgICAgICAgICAgICB9IH0sXG5cdCAgICAgICAgICAnXFx1OEJGRVxcdTdBMEJcXHU1N0Y5XFx1OEJBRCdcblx0ICAgICAgICApLFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG5cdCAgICAgICAgICAgICAgX3JlYWN0Um91dGVyLmJyb3dzZXJIaXN0b3J5LnB1c2goKTtcblx0ICAgICAgICAgICAgfSB9LFxuXHQgICAgICAgICAgJ1xcdTgwNTRcXHU3Q0ZCXFx1NjIxMVxcdTRFRUMnXG5cdCAgICAgICAgKVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIENoYW5uZWw7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBDaGFubmVsO1xuXG4vKioqLyB9LFxuLyogNTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2FudGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9yZWFjdFJvdXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9IC8qKlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVkIGJ5IGpvc2VwaGkgb24gMjAxNi8xMi8yMi5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cdFxuXHRcblx0dmFyIFNob3dMaXN0ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoU2hvd0xpc3QsIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBTaG93TGlzdChwcm9wcykge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNob3dMaXN0KTtcblx0XG5cdCAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoU2hvd0xpc3QuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihTaG93TGlzdCkpLmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICBfdGhpcy5zdGF0ZSA9IHt9O1xuXHQgICAgcmV0dXJuIF90aGlzO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKFNob3dMaXN0LCBbe1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciB0cmVuZHNMaXN0ID0gdGhpcy5wcm9wcy50cmVuZHNMaXN0Lm1hcChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2xpJyxcblx0ICAgICAgICAgIHsga2V5OiBpbmRleCB9LFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NvbnRlbnQnIH0sXG5cdCAgICAgICAgICAgIHZhbHVlLmNvbnRlbnRcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICAnICcsXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAndGltZScgfSxcblx0ICAgICAgICAgICAgJ1snLFxuXHQgICAgICAgICAgICB2YWx1ZS50aW1lLFxuXHQgICAgICAgICAgICAnXSAnXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHZhciBuZXdDbGFzc0xpc3QgPSB0aGlzLnByb3BzLm5ld0NsYXNzTGlzdC5tYXAoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdsaScsXG5cdCAgICAgICAgICB7IGtleTogaW5kZXggfSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdjb250ZW50JyB9LFxuXHQgICAgICAgICAgICB2YWx1ZS5jb250ZW50XG5cdCAgICAgICAgICApLFxuXHQgICAgICAgICAgJyAnLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3RpbWUnIH0sXG5cdCAgICAgICAgICAgICdbJyxcblx0ICAgICAgICAgICAgdmFsdWUudGltZSxcblx0ICAgICAgICAgICAgJ10gJ1xuXHQgICAgICAgICAgKVxuXHQgICAgICAgICk7XG5cdCAgICAgIH0pO1xuXHQgICAgICB2YXIgaG90Q2xhc3NMaXN0ID0gdGhpcy5wcm9wcy5ob3RDbGFzc0xpc3QubWFwKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnbGknLFxuXHQgICAgICAgICAgeyBrZXk6IGluZGV4IH0sXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY29udGVudCcgfSxcblx0ICAgICAgICAgICAgdmFsdWUuY29udGVudFxuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgICcgJyxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICd0aW1lJyB9LFxuXHQgICAgICAgICAgICAnWycsXG5cdCAgICAgICAgICAgIHZhbHVlLnRpbWUsXG5cdCAgICAgICAgICAgICddICdcblx0ICAgICAgICAgIClcblx0ICAgICAgICApO1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogJ3Nob3dMaXN0JyB9LFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogJ25ld1RyZW5kcycgfSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnaDMnLFxuXHQgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAnXFx1NjcwMFxcdTY1QjBcXHU1MkE4XFx1NjAwMSdcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6ICdibGFuaycgfSksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ3VsJyxcblx0ICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgdHJlbmRzTGlzdFxuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IGNsYXNzTmFtZTogJ2JsYW5rJyB9KVxuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiAnbmV3Q2xhc3MnLCBzdHlsZTogeyBtYXJnaW46IFwiMCAyJVwiIH0gfSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnaDMnLFxuXHQgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAnXFx1NjcwMFxcdTY1QjBcXHU4QkZFXFx1N0EwQidcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6ICdibGFuaycgfSksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ3VsJyxcblx0ICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgbmV3Q2xhc3NMaXN0XG5cdCAgICAgICAgICApLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3NOYW1lOiAnYmxhbmsnIH0pXG5cdCAgICAgICAgKSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6ICdob3RDbGFzcycgfSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnaDMnLFxuXHQgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAnXFx1NjcwMFxcdTcwRURcXHU4QkZFXFx1N0EwQidcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6ICdibGFuaycgfSksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ3VsJyxcblx0ICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgaG90Q2xhc3NMaXN0XG5cdCAgICAgICAgICApLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3NOYW1lOiAnYmxhbmsnIH0pXG5cdCAgICAgICAgKVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIFNob3dMaXN0O1xuXHR9KF9yZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gU2hvd0xpc3Q7XG5cbi8qKiovIH0sXG4vKiA1NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfYW50ZCA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX3JlYWN0Um91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTAzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZWQgYnkgam9zZXBoaSBvbiAyMDE2LzEyLzE5LlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblx0XG5cdFxuXHR2YXIgVGl0bGUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhUaXRsZSwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFRpdGxlKHByb3BzKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGl0bGUpO1xuXHRcblx0ICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUaXRsZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFRpdGxlKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgIF90aGlzLnN0YXRlID0ge307XG5cdCAgICByZXR1cm4gX3RoaXM7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoVGl0bGUsIFt7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiAndGl0bGUnIH0sXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcblx0ICAgICAgICAgICAgICBfcmVhY3RSb3V0ZXIuYnJvd3Nlckhpc3RvcnkucHVzaCgpO1xuXHQgICAgICAgICAgICB9IH0sXG5cdCAgICAgICAgICAnXFx1OTk5NlxcdTk4NzUnXG5cdCAgICAgICAgKSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuXHQgICAgICAgICAgICAgIF9yZWFjdFJvdXRlci5icm93c2VySGlzdG9yeS5wdXNoKCk7XG5cdCAgICAgICAgICAgIH0gfSxcblx0ICAgICAgICAgICdcXHU2NUIwXFx1OTVGQlxcdThENDRcXHU4QkFGJ1xuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcblx0ICAgICAgICAgICAgICBfcmVhY3RSb3V0ZXIuYnJvd3Nlckhpc3RvcnkucHVzaCgpO1xuXHQgICAgICAgICAgICB9IH0sXG5cdCAgICAgICAgICAnXFx1NTcyOFxcdTdFQkZcXHU1QjY2XFx1NEU2MCdcblx0ICAgICAgICApLFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG5cdCAgICAgICAgICAgICAgX3JlYWN0Um91dGVyLmJyb3dzZXJIaXN0b3J5LnB1c2goKTtcblx0ICAgICAgICAgICAgfSB9LFxuXHQgICAgICAgICAgJ1xcdTRFMEJcXHU4RjdEXFx1NEUxM1xcdTUzM0EnXG5cdCAgICAgICAgKSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuXHQgICAgICAgICAgICAgIF9yZWFjdFJvdXRlci5icm93c2VySGlzdG9yeS5wdXNoKCk7XG5cdCAgICAgICAgICAgIH0gfSxcblx0ICAgICAgICAgICdcXHU1MTczXFx1NEU4RVxcdTYyMTFcXHU0RUVDJ1xuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBUaXRsZTtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFRpdGxlO1xuXG4vKioqLyB9LFxuLyogNTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTEzKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTEpO1xuXHRcblx0dmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG5cdFxuXHR2YXIgX3JlYWN0Um91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdHZhciBfY29uZmlndXJlU3RvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxKTtcblx0XG5cdHZhciBfY29uZmlndXJlU3RvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uZmlndXJlU3RvcmUpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMDcpO1xuXHRcblx0dmFyIF9pbmRleCA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xuXHRcblx0dmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmRleCk7XG5cdFxuXHR2YXIgX2luZGV4MyA9IF9fd2VicGFja19yZXF1aXJlX18oNTcpO1xuXHRcblx0dmFyIF9pbmRleDQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmRleDMpO1xuXHRcblx0dmFyIF9Mb2dpbiA9IF9fd2VicGFja19yZXF1aXJlX18oNTkpO1xuXHRcblx0dmFyIF9Mb2dpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Mb2dpbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0LyoqXG5cdCAqIENyZWF0ZWQgYnkgam9zZXBoaSBvbiAyMDE2LzEyLzE4LlxuXHQgKi9cblx0dmFyIHN0b3JlID0gKDAsIF9jb25maWd1cmVTdG9yZTIuZGVmYXVsdCkoKTtcblx0KDAsIF9yZWFjdERvbS5yZW5kZXIpKF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgIF9yZWFjdFJlZHV4LlByb3ZpZGVyLFxuXHQgIHsgc3RvcmU6IHN0b3JlIH0sXG5cdCAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICBfcmVhY3RSb3V0ZXIuUm91dGVyLFxuXHQgICAgeyBoaXN0b3J5OiBfcmVhY3RSb3V0ZXIuYnJvd3Nlckhpc3RvcnkgfSxcblx0ICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdFJvdXRlci5Sb3V0ZSwgeyBwYXRoOiAnLycsIGNvbXBvbmVudDogRGFzaGJvYXJkcyB9KSxcblx0ICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdFJvdXRlci5Sb3V0ZSwgeyBwYXRoOiAnL2xvZ2luJywgY29tcG9uZW50OiBfTG9naW4yLmRlZmF1bHQgfSksXG5cdCAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RSb3V0ZXIuUm91dGUsIHsgcGF0aDogJy9yZWdpc3RlcicgfSksXG5cdCAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RSb3V0ZXIuUm91dGUsIHsgcGF0aDogJy9lZUluQnVwdFdlYi9kYXNoYm9hcmQnLCBjb21wb25lbnQ6IF9pbmRleDIuZGVmYXVsdCB9KVxuXHQgIClcblx0KSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKSk7XG5cbi8qKiovIH0sXG4vKiA1NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0UmVkdXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0XG5cdHZhciBfbW9tZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTIpO1xuXHRcblx0dmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTA0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZWQgYnkgamFja2llbGlhbyBvbiAyMDE3LzEvMjQuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXHRcblx0XG5cdHZhciBIb21lUGFnZSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoSG9tZVBhZ2UsIF9Db21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIEhvbWVQYWdlKHByb3BzKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhvbWVQYWdlKTtcblx0XG5cdCAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEhvbWVQYWdlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoSG9tZVBhZ2UpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgICAgIF90aGlzLnN0YXRlID0ge307XG5cdCAgICAgICAgcmV0dXJuIF90aGlzO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhIb21lUGFnZSwgW3tcblx0ICAgICAgICBrZXk6IFwicmVuZGVyXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgXCJkaXZcIixcblx0ICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcImNvbnRhaW5lclwiIH0sXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcInRpdGxlXCIgfSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwidGl0bGUtbmFtZSB0aXRsZS1sZWZ0XCIgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgXCJcXHU1MTNGXFx1N0FFNVxcdTkwMDJcXHU1MzNCXFx1NUUwOFxcdThCQURcXHU1RTczXFx1NTNGMFwiXG5cdCAgICAgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwidGl0bGUtcmlnaHRcIiB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogXCJsb2dpblwiIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNwYW5cIixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXFx1NzY3QlxcdTk2NDZcIlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiL1wiLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzcGFuXCIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcdTZDRThcXHU1MThDXCJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwidGltZVwiIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgX21vbWVudDIuZGVmYXVsdCkoKS5mb3JtYXQoXCJNTS9ERC9ZWVlZXCIpLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIkbmJzcDtcIixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBfbW9tZW50Mi5kZWZhdWx0KSgpLmZvcm1hdChcIkhIOm1tXCIpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBIb21lUGFnZTtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEhvbWVQYWdlO1xuXG4vKioqLyB9LFxuLyogNTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0UmVkdXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0XG5cdHZhciBfcmVhY3RSb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF9hbnRkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTA1KTtcblx0XG5cdHZhciBfVGl0bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KTtcblx0XG5cdHZhciBfVGl0bGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGl0bGUpO1xuXHRcblx0dmFyIF9pbmRleCA9IF9fd2VicGFja19yZXF1aXJlX18oNTMpO1xuXHRcblx0dmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmRleCk7XG5cdFxuXHR2YXIgX2luZGV4MyA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpO1xuXHRcblx0dmFyIF9pbmRleDQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmRleDMpO1xuXHRcblx0dmFyIF9pbmRleDUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KTtcblx0XG5cdHZhciBfaW5kZXg2ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5kZXg1KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZWQgYnkgam9zZXBoaSBvbiAyMDE2LzEyLzE5LlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblx0XG5cdFxuXHR2YXIgU2VhcmNoID0gX2FudGQuSW5wdXQuU2VhcmNoO1xuXHRcblx0dmFyIEluZGV4ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoSW5kZXgsIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBJbmRleChwcm9wcykge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEluZGV4KTtcblx0XG5cdCAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoSW5kZXguX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihJbmRleCkpLmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICBfdGhpcy5zdGF0ZSA9IHt9O1xuXHQgICAgX3RoaXMuaGFuZGxlU2lnbiA9IF90aGlzLmhhbmRsZVNpZ24uYmluZChfdGhpcyk7XG5cdCAgICByZXR1cm4gX3RoaXM7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoSW5kZXgsIFt7XG5cdCAgICBrZXk6ICdoYW5kbGVTaWduJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTaWduKGUpIHt9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciB0cmVuZHNMaXN0ID0gW3sgY29udGVudDogXCLpq5jogIPlpI3kuaAxMjMyMzEzMTIzMTMxMzIxMzEzMTIzMTMxMzEyMzEyM1wiLCB0aW1lOiBcIjIwMTYtMTEtMjhcIiB9LCB7XG5cdCAgICAgICAgY29udGVudDogXCLpq5jogIPlpI3kuaBcIixcblx0ICAgICAgICB0aW1lOiBcIjIwMTYtMTEtMjhcIlxuXHQgICAgICB9LCB7IGNvbnRlbnQ6IFwi6auY6ICD5aSN5LmgXCIsIHRpbWU6IFwiMjAxNi0xMS0yOFwiIH0sIHsgY29udGVudDogXCLpq5jogIPlpI3kuaBcIiwgdGltZTogXCIyMDE2LTExLTI4XCIgfSwge1xuXHQgICAgICAgIGNvbnRlbnQ6IFwi6auY6ICD5aSN5LmgXCIsXG5cdCAgICAgICAgdGltZTogXCIyMDE2LTExLTI4XCJcblx0ICAgICAgfV07XG5cdCAgICAgIHZhciBuZXdDbGFzc0xpc3QgPSBbeyBjb250ZW50OiBcIumrmOiAg+WkjeS5oFwiLCB0aW1lOiBcIjIwMTYtMTEtMjhcIiB9LCB7IGNvbnRlbnQ6IFwi6auY6ICD5aSN5LmgXCIsIHRpbWU6IFwiMjAxNi0xMS0yOFwiIH0sIHsgY29udGVudDogXCLpq5jogIPlpI3kuaBcIiwgdGltZTogXCIyMDE2LTExLTI4XCIgfSwgeyBjb250ZW50OiBcIumrmOiAg+WkjeS5oFwiLCB0aW1lOiBcIjIwMTYtMTEtMjhcIiB9LCB7XG5cdCAgICAgICAgY29udGVudDogXCLpq5jogIPlpI3kuaBcIixcblx0ICAgICAgICB0aW1lOiBcIjIwMTYtMTEtMjhcIlxuXHQgICAgICB9XTtcblx0ICAgICAgdmFyIGhvdENsYXNzTGlzdCA9IFt7IGNvbnRlbnQ6IFwi6auY6ICD5aSN5LmgXCIsIHRpbWU6IFwiMjAxNi0xMS0yOFwiIH0sIHsgY29udGVudDogXCLpq5jogIPlpI3kuaBcIiwgdGltZTogXCIyMDE2LTExLTI4XCIgfSwgeyBjb250ZW50OiBcIumrmOiAg+WkjeS5oFwiLCB0aW1lOiBcIjIwMTYtMTEtMjhcIiB9LCB7IGNvbnRlbnQ6IFwi6auY6ICD5aSN5LmgXCIsIHRpbWU6IFwiMjAxNi0xMS0yOFwiIH0sIHtcblx0ICAgICAgICBjb250ZW50OiBcIumrmOiAg+WkjeS5oFwiLFxuXHQgICAgICAgIHRpbWU6IFwiMjAxNi0xMS0yOFwiXG5cdCAgICAgIH1dO1xuXHQgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6ICdjb250YWluZXInIH0sXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiAnc2lnbicgfSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFNlYXJjaCwgeyBwbGFjZWhvbGRlcjogJ1xcdThCRjdcXHU4RjkzXFx1NTE2NVxcdTYwQThcXHU4OTgxXFx1NjdFNVxcdTYyN0VcXHU3Njg0XFx1NTE4NVxcdTVCQjknLCBvblNlYXJjaDogZnVuY3Rpb24gb25TZWFyY2godmFsdWUpIHtcblx0ICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2codmFsdWUpO1xuXHQgICAgICAgICAgICB9IH0pLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIF9hbnRkLkJ1dHRvbi5Hcm91cCxcblx0ICAgICAgICAgICAgeyBzaXplOiAnZGVmYXVsdCcgfSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgX2FudGQuQnV0dG9uLFxuXHQgICAgICAgICAgICAgIHsgdHlwZTogJ3ByaW1hcnknLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuXHQgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Um91dGVyLmJyb3dzZXJIaXN0b3J5LnB1c2goJy9sb2dpbicpO1xuXHQgICAgICAgICAgICAgICAgfSB9LFxuXHQgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9hbnRkLkljb24sIHsgdHlwZTogJ3VzZXInLFxuXHQgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcblx0ICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdFJvdXRlci5icm93c2VySGlzdG9yeS5wdXNoKCcvbG9naW4nKTtcblx0ICAgICAgICAgICAgICAgIH0gfSksXG5cdCAgICAgICAgICAgICAgJ1xcdTc2N0JcXHU1RjU1J1xuXHQgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICBfYW50ZC5CdXR0b24sXG5cdCAgICAgICAgICAgICAgeyBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuXHQgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Um91dGVyLmJyb3dzZXJIaXN0b3J5LnB1c2goJy8nKTtcblx0ICAgICAgICAgICAgICAgIH0gfSxcblx0ICAgICAgICAgICAgICAnXFx1NkNFOFxcdTUxOEMnXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICAgIClcblx0ICAgICAgICApLFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NvbXBhbnknIH0sXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6ICdpbWcnIH0pLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ25hbWUnIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdoMScsXG5cdCAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAnXFx1NTEzRlxcdTc5RDFcXHU1MzNCXFx1NUUwOFxcdTU3RjlcXHU4QkFEXFx1NUU3M1xcdTUzRjAnXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICAgIClcblx0ICAgICAgICApLFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UaXRsZTIuZGVmYXVsdCwgbnVsbCksXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY2hhbm5lbC1pbWcnIH0sXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaW5kZXgyLmRlZmF1bHQsIG51bGwpLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2luZGV4NC5kZWZhdWx0LCBudWxsKVxuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaW5kZXg2LmRlZmF1bHQsIHsgdHJlbmRzTGlzdDogdHJlbmRzTGlzdCwgbmV3Q2xhc3NMaXN0OiBuZXdDbGFzc0xpc3QsIGhvdENsYXNzTGlzdDogaG90Q2xhc3NMaXN0IH0pXG5cdCAgICAgICAgKSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6ICdmb290ZXInIH0sXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZnJpZW5kVXJsJyB9LFxuXHQgICAgICAgICAgICAnXFx1NTNDQlxcdTYwQzVcXHU5NEZFXFx1NjNBNTonLFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAnYScsXG5cdCAgICAgICAgICAgICAgeyBocmVmOiAnaHR0cDovL3d3dy5iam11LmVkdS5jbi8nIH0sXG5cdCAgICAgICAgICAgICAgJ1xcdTUzMTdcXHU0RUFDXFx1NTkyN1xcdTVCNjZcXHU1MzNCXFx1NUI2NlxcdTkwRTgnXG5cdCAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdlbScsXG5cdCAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAnfCdcblx0ICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ2EnLFxuXHQgICAgICAgICAgICAgIHsgaHJlZjogJ2h0dHA6Ly93d3cuY2N0Zi5vcmcuY24vJyB9LFxuXHQgICAgICAgICAgICAgICdcXHU0RTJEXFx1NTZGRFxcdTUxM0ZcXHU3QUU1XFx1NUMxMVxcdTVFNzRcXHU1N0ZBXFx1OTFEMVxcdTRGMUEnXG5cdCAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdlbScsXG5cdCAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAnfCdcblx0ICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ2EnLFxuXHQgICAgICAgICAgICAgIHsgaHJlZjogJ2h0dHA6Ly93d3cuYmRkeXl5LmNvbS5jbi8nIH0sXG5cdCAgICAgICAgICAgICAgJ1xcdTUzMTdcXHU0RUFDXFx1NTkyN1xcdTVCNjZcXHU3QjJDXFx1NEUwMFxcdTUzM0JcXHU5NjYyJ1xuXHQgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAnZW0nLFxuXHQgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgJ3wnXG5cdCAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdhJyxcblx0ICAgICAgICAgICAgICB7IGhyZWY6ICdodHRwOi8vYmRmY2suY25rbWUuY29tLycgfSxcblx0ICAgICAgICAgICAgICAnXFx1NTMxN1xcdTRFQUNcXHU1OTI3XFx1NUI2NlxcdTdCMkNcXHU0RTAwXFx1NTMzQlxcdTk2NjJcXHU1OTg3XFx1NEVBN1xcdTc5RDEnXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncGhvbmUnLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdFJvdXRlci5icm93c2VySGlzdG9yeS5wdXNoKCcvbG9naW4nKTtcblx0ICAgICAgICAgICAgICB9IH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9hbnRkLkljb24sIHsgdHlwZTogJ3Bob25lJywgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3RSb3V0ZXIuYnJvd3Nlckhpc3RvcnkucHVzaCgnL2xvZ2luJyk7XG5cdCAgICAgICAgICAgICAgfSB9KSxcblx0ICAgICAgICAgICAgJ1xcdTU0QThcXHU4QkUyXFx1NzBFRFxcdTdFQkZcXHVGRjFBJyxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ2EnLFxuXHQgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgJzEzNTIwNDA1NDcxJ1xuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIEluZGV4O1xuXHR9KF9yZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gSW5kZXg7XG5cbi8qKiovIH0sXG4vKiA1OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTA2KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0Um91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdHZhciBfcmVhY3RSZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXHRcblx0dmFyIF9hbnRkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfZmV0Y2hMb2dpbkluZm8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgTG9naW4gPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhMb2dpbiwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIExvZ2luKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvZ2luKTtcblx0XG5cdCAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTG9naW4uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihMb2dpbikpLmNhbGwodGhpcykpO1xuXHRcblx0ICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICB1c2VybmFtZTogJycsXG5cdCAgICAgIHBhc3N3b3JkOiAnJ1xuXHQgICAgfTtcblx0ICAgIF90aGlzLmhhbmRsZVByZXNzRW50ZXIgPSBfdGhpcy5oYW5kbGVQcmVzc0VudGVyLmJpbmQoX3RoaXMpO1xuXHQgICAgcmV0dXJuIF90aGlzO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKExvZ2luLCBbe1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlUHJlc3NFbnRlcik7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlUHJlc3NFbnRlcik7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGFuZGxlUHJlc3NFbnRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUHJlc3NFbnRlcihldnQpIHtcblx0ICAgICAgaWYgKGV2dC5rZXlDb2RlID09IDEzKSB7XG5cdCAgICAgICAgdGhpcy5oYW5kbGVTdWJtaXQoKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2hhbmRsZUNoYW5nZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGUpIHtcblx0ICAgICAgdmFyIHZhbHVlID0gZS50YXJnZXQudmFsdWU7XG5cdCAgICAgIHZhciBuYW1lID0gZS50YXJnZXQubmFtZTtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZShfZGVmaW5lUHJvcGVydHkoe30sIG5hbWUsIHZhbHVlKSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGFuZGxlU3VibWl0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoKSB7XG5cdCAgICAgIHZhciBkYXRhID0ge1xuXHQgICAgICAgIGVtYWlsOiB0aGlzLnN0YXRlLnVzZXJuYW1lLFxuXHQgICAgICAgIHB3ZDogdGhpcy5zdGF0ZS5wYXNzd29yZFxuXHQgICAgICB9O1xuXHQgICAgICBpZiAoZGF0YS5lbWFpbCA9PSBcIlwiKSB7XG5cdCAgICAgICAgX2FudGQubWVzc2FnZS5lcnJvcihcIuivt+i+k+WFpeeUqOaIt+WQjVwiLCAyKTtcblx0ICAgICAgfSBlbHNlIGlmIChkYXRhLnB3ZCA9PSBcIlwiKSB7XG5cdCAgICAgICAgX2FudGQubWVzc2FnZS5lcnJvcihcIuivt+i+k+WFpeWvhueggVwiLCAyKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKCgwLCBfZmV0Y2hMb2dpbkluZm8uZ2V0TG9naW4pKGRhdGEpKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgZm9ybUl0ZW1MYXlvdXQgPSB7XG5cdCAgICAgICAgbGFiZWxDb2w6IHsgc3BhbjogNiB9LFxuXHQgICAgICAgIHdyYXBwZXJDb2w6IHsgc3BhbjogMTQgfVxuXHQgICAgICB9O1xuXHQgICAgICB2YXIgRm9ybUl0ZW0gPSBfYW50ZC5Gb3JtLkl0ZW07XG5cdCAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogJ2xvZ2luQ29udGFpbmVyJyB9LFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9hbnRkLkljb24sIHsgdHlwZTogJ2FwcGxlJywgY2xhc3NOYW1lOiAnbG9nbycgfSksXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnaDInLFxuXHQgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICdlZUluQnVwdFdlYlxcdTc2N0JcXHU1RjU1J1xuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBfYW50ZC5Gb3JtLFxuXHQgICAgICAgICAgeyBob3Jpem9udGFsOiB0cnVlLCBjbGFzc05hbWU6ICdsb2dpbkZvcm0nIH0sXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgRm9ybUl0ZW0sXG5cdCAgICAgICAgICAgIF9leHRlbmRzKHt9LCBmb3JtSXRlbUxheW91dCwge1xuXHQgICAgICAgICAgICAgIGxhYmVsOiAnXFx1NzUyOFxcdTYyMzdcXHU1NDBEJyB9KSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2FudGQuSW5wdXQsIHsgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyksIG5hbWU6ICd1c2VybmFtZScgfSlcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgRm9ybUl0ZW0sXG5cdCAgICAgICAgICAgIF9leHRlbmRzKHt9LCBmb3JtSXRlbUxheW91dCwge1xuXHQgICAgICAgICAgICAgIGxhYmVsOiAnXFx1NUJDNlxcdTc4MDEnIH0pLFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfYW50ZC5JbnB1dCwgeyB0eXBlOiAncGFzc3dvcmQnLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKSwgbmFtZTogJ3Bhc3N3b3JkJyB9KVxuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBGb3JtSXRlbSxcblx0ICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgIHdyYXBwZXJDb2w6IHsgb2Zmc2V0OiA2LCBzcGFuOiAxNCB9IH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgIF9hbnRkLkJ1dHRvbixcblx0ICAgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgICB0eXBlOiAncHJpbWFyeScsXG5cdCAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZVN1Ym1pdC5iaW5kKHRoaXMpIH0sXG5cdCAgICAgICAgICAgICAgJ1xcdTc2N0JcXHhBMFxceEEwXFx1NUY1NSdcblx0ICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ2EnLFxuXHQgICAgICAgICAgICAgIHsgc3JjOiAnJyB9LFxuXHQgICAgICAgICAgICAgICdcXHU2Q0U4XFx1NTE4Qydcblx0ICAgICAgICAgICAgKVxuXHQgICAgICAgICAgKVxuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBMb2dpbjtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdExvZ2luLnByb3BUeXBlcyA9IHtcblx0ICBsb2dpbjogX3JlYWN0LlByb3BUeXBlcy5zaGFwZSh7fSkuaXNSZXF1aXJlZFxuXHR9O1xuXHRmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcblx0ICByZXR1cm4ge1xuXHQgICAgbG9naW46IHN0YXRlLmxvZ2luXG5cdCAgfTtcblx0fVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9yZWFjdFJlZHV4LmNvbm5lY3QpKG1hcFN0YXRlVG9Qcm9wcykoTG9naW4pO1xuXG4vKioqLyB9LFxuLyogNjAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMubG9naW4gPSBsb2dpbjtcblx0XG5cdHZhciBfQWN0aW9uc1R5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNik7XG5cdFxuXHR2YXIgX2FudGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0LyoqXG5cdCAqIENyZWF0ZWQgYnkgbGlhb2ppYW5qdW4gb24gMjAxNi83LzI3LlxuXHQgKi9cblx0dmFyIGluaXRpYWxTdGF0ZSA9IHtcblx0ICAgIGxvZ2luOiB7fVxuXHR9O1xuXHRmdW5jdGlvbiBsb2dpbigpIHtcblx0ICAgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogaW5pdGlhbFN0YXRlLmxvZ2luO1xuXHQgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG5cdCAgICAgICAgY2FzZSBfQWN0aW9uc1R5cGVzLlJFQ0VJVkVfTE9HSU46XG5cdCAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgYWN0aW9uLmxvZ2luKTtcblx0ICAgICAgICBkZWZhdWx0OlxuXHQgICAgICAgICAgICByZXR1cm4gc3RhdGU7XG5cdCAgICB9XG5cdH1cblxuLyoqKi8gfSxcbi8qIDYxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gY29uZmlndXJlU3RvcmU7XG5cdFxuXHR2YXIgX3JlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSk7XG5cdFxuXHR2YXIgX3JlZHV4VGh1bmsgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk4KTtcblx0XG5cdHZhciBfcmVkdXhUaHVuazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWR1eFRodW5rKTtcblx0XG5cdHZhciBfcmVkdXhMb2dnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk3KTtcblx0XG5cdHZhciBfcmVkdXhMb2dnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVkdXhMb2dnZXIpO1xuXHRcblx0dmFyIF9yZWR1Y2VycyA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXHRcblx0dmFyIF9yZWR1Y2VyczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWR1Y2Vycyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gY29uZmlndXJlU3RvcmUoaW5pdGlhbFN0YXRlKSB7XG5cdCAgdmFyIHN0b3JlID0gKDAsIF9yZWR1eC5jcmVhdGVTdG9yZSkoX3JlZHVjZXJzMi5kZWZhdWx0LCBpbml0aWFsU3RhdGUsICgwLCBfcmVkdXguYXBwbHlNaWRkbGV3YXJlKShfcmVkdXhUaHVuazIuZGVmYXVsdCwgKDAsIF9yZWR1eExvZ2dlcjIuZGVmYXVsdCkoKSkpO1xuXHRcblx0ICBpZiAodHJ1ZSkge1xuXHQgICAgLy8gRW5hYmxlIFdlYnBhY2sgaG90IG1vZHVsZSByZXBsYWNlbWVudCBmb3IgcmVkdWNlcnNcblx0ICAgIG1vZHVsZS5ob3QuYWNjZXB0KDIwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBuZXh0Um9vdFJlZHVjZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKS5kZWZhdWx0O1xuXHQgICAgICBzdG9yZS5yZXBsYWNlUmVkdWNlcihuZXh0Um9vdFJlZHVjZXIpO1xuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gc3RvcmU7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDYyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkgey8qIVxuXHQgKiBkZWVwLWRpZmYuXG5cdCAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cblx0ICovXG5cdDsoZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuXHQgICd1c2Ugc3RyaWN0Jztcblx0ICBpZiAodHJ1ZSkge1xuXHQgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHQgICAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW10sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiBmYWN0b3J5KCk7XG5cdCAgICB9LmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdCAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcblx0ICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuXHQgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG5cdCAgICAvLyBsaWtlIE5vZGUuXG5cdCAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcblx0ICAgIHJvb3QuRGVlcERpZmYgPSBmYWN0b3J5KCk7XG5cdCAgfVxuXHR9KHRoaXMsIGZ1bmN0aW9uKHVuZGVmaW5lZCkge1xuXHQgICd1c2Ugc3RyaWN0Jztcblx0XG5cdCAgdmFyICRzY29wZSwgY29uZmxpY3QsIGNvbmZsaWN0UmVzb2x1dGlvbiA9IFtdO1xuXHQgIGlmICh0eXBlb2YgZ2xvYmFsID09PSAnb2JqZWN0JyAmJiBnbG9iYWwpIHtcblx0ICAgICRzY29wZSA9IGdsb2JhbDtcblx0ICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAkc2NvcGUgPSB3aW5kb3c7XG5cdCAgfSBlbHNlIHtcblx0ICAgICRzY29wZSA9IHt9O1xuXHQgIH1cblx0ICBjb25mbGljdCA9ICRzY29wZS5EZWVwRGlmZjtcblx0ICBpZiAoY29uZmxpY3QpIHtcblx0ICAgIGNvbmZsaWN0UmVzb2x1dGlvbi5wdXNoKFxuXHQgICAgICBmdW5jdGlvbigpIHtcblx0ICAgICAgICBpZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBjb25mbGljdCAmJiAkc2NvcGUuRGVlcERpZmYgPT09IGFjY3VtdWxhdGVEaWZmKSB7XG5cdCAgICAgICAgICAkc2NvcGUuRGVlcERpZmYgPSBjb25mbGljdDtcblx0ICAgICAgICAgIGNvbmZsaWN0ID0gdW5kZWZpbmVkO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgfVxuXHRcblx0ICAvLyBub2RlanMgY29tcGF0aWJsZSBvbiBzZXJ2ZXIgc2lkZSBhbmQgaW4gdGhlIGJyb3dzZXIuXG5cdCAgZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG5cdCAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3Rvcjtcblx0ICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG5cdCAgICAgIGNvbnN0cnVjdG9yOiB7XG5cdCAgICAgICAgdmFsdWU6IGN0b3IsXG5cdCAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG5cdCAgICAgICAgd3JpdGFibGU6IHRydWUsXG5cdCAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gRGlmZihraW5kLCBwYXRoKSB7XG5cdCAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2tpbmQnLCB7XG5cdCAgICAgIHZhbHVlOiBraW5kLFxuXHQgICAgICBlbnVtZXJhYmxlOiB0cnVlXG5cdCAgICB9KTtcblx0ICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoKSB7XG5cdCAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncGF0aCcsIHtcblx0ICAgICAgICB2YWx1ZTogcGF0aCxcblx0ICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gRGlmZkVkaXQocGF0aCwgb3JpZ2luLCB2YWx1ZSkge1xuXHQgICAgRGlmZkVkaXQuc3VwZXJfLmNhbGwodGhpcywgJ0UnLCBwYXRoKTtcblx0ICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbGhzJywge1xuXHQgICAgICB2YWx1ZTogb3JpZ2luLFxuXHQgICAgICBlbnVtZXJhYmxlOiB0cnVlXG5cdCAgICB9KTtcblx0ICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncmhzJywge1xuXHQgICAgICB2YWx1ZTogdmFsdWUsXG5cdCAgICAgIGVudW1lcmFibGU6IHRydWVcblx0ICAgIH0pO1xuXHQgIH1cblx0ICBpbmhlcml0cyhEaWZmRWRpdCwgRGlmZik7XG5cdFxuXHQgIGZ1bmN0aW9uIERpZmZOZXcocGF0aCwgdmFsdWUpIHtcblx0ICAgIERpZmZOZXcuc3VwZXJfLmNhbGwodGhpcywgJ04nLCBwYXRoKTtcblx0ICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncmhzJywge1xuXHQgICAgICB2YWx1ZTogdmFsdWUsXG5cdCAgICAgIGVudW1lcmFibGU6IHRydWVcblx0ICAgIH0pO1xuXHQgIH1cblx0ICBpbmhlcml0cyhEaWZmTmV3LCBEaWZmKTtcblx0XG5cdCAgZnVuY3Rpb24gRGlmZkRlbGV0ZWQocGF0aCwgdmFsdWUpIHtcblx0ICAgIERpZmZEZWxldGVkLnN1cGVyXy5jYWxsKHRoaXMsICdEJywgcGF0aCk7XG5cdCAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2xocycsIHtcblx0ICAgICAgdmFsdWU6IHZhbHVlLFxuXHQgICAgICBlbnVtZXJhYmxlOiB0cnVlXG5cdCAgICB9KTtcblx0ICB9XG5cdCAgaW5oZXJpdHMoRGlmZkRlbGV0ZWQsIERpZmYpO1xuXHRcblx0ICBmdW5jdGlvbiBEaWZmQXJyYXkocGF0aCwgaW5kZXgsIGl0ZW0pIHtcblx0ICAgIERpZmZBcnJheS5zdXBlcl8uY2FsbCh0aGlzLCAnQScsIHBhdGgpO1xuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdpbmRleCcsIHtcblx0ICAgICAgdmFsdWU6IGluZGV4LFxuXHQgICAgICBlbnVtZXJhYmxlOiB0cnVlXG5cdCAgICB9KTtcblx0ICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnaXRlbScsIHtcblx0ICAgICAgdmFsdWU6IGl0ZW0sXG5cdCAgICAgIGVudW1lcmFibGU6IHRydWVcblx0ICAgIH0pO1xuXHQgIH1cblx0ICBpbmhlcml0cyhEaWZmQXJyYXksIERpZmYpO1xuXHRcblx0ICBmdW5jdGlvbiBhcnJheVJlbW92ZShhcnIsIGZyb20sIHRvKSB7XG5cdCAgICB2YXIgcmVzdCA9IGFyci5zbGljZSgodG8gfHwgZnJvbSkgKyAxIHx8IGFyci5sZW5ndGgpO1xuXHQgICAgYXJyLmxlbmd0aCA9IGZyb20gPCAwID8gYXJyLmxlbmd0aCArIGZyb20gOiBmcm9tO1xuXHQgICAgYXJyLnB1c2guYXBwbHkoYXJyLCByZXN0KTtcblx0ICAgIHJldHVybiBhcnI7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiByZWFsVHlwZU9mKHN1YmplY3QpIHtcblx0ICAgIHZhciB0eXBlID0gdHlwZW9mIHN1YmplY3Q7XG5cdCAgICBpZiAodHlwZSAhPT0gJ29iamVjdCcpIHtcblx0ICAgICAgcmV0dXJuIHR5cGU7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHN1YmplY3QgPT09IE1hdGgpIHtcblx0ICAgICAgcmV0dXJuICdtYXRoJztcblx0ICAgIH0gZWxzZSBpZiAoc3ViamVjdCA9PT0gbnVsbCkge1xuXHQgICAgICByZXR1cm4gJ251bGwnO1xuXHQgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHN1YmplY3QpKSB7XG5cdCAgICAgIHJldHVybiAnYXJyYXknO1xuXHQgICAgfSBlbHNlIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3ViamVjdCkgPT09ICdbb2JqZWN0IERhdGVdJykge1xuXHQgICAgICByZXR1cm4gJ2RhdGUnO1xuXHQgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3ViamVjdC50b1N0cmluZyAhPT0gJ3VuZGVmaW5lZCcgJiYgL15cXC8uKlxcLy8udGVzdChzdWJqZWN0LnRvU3RyaW5nKCkpKSB7XG5cdCAgICAgIHJldHVybiAncmVnZXhwJztcblx0ICAgIH1cblx0ICAgIHJldHVybiAnb2JqZWN0Jztcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGRlZXBEaWZmKGxocywgcmhzLCBjaGFuZ2VzLCBwcmVmaWx0ZXIsIHBhdGgsIGtleSwgc3RhY2spIHtcblx0ICAgIHBhdGggPSBwYXRoIHx8IFtdO1xuXHQgICAgdmFyIGN1cnJlbnRQYXRoID0gcGF0aC5zbGljZSgwKTtcblx0ICAgIGlmICh0eXBlb2Yga2V5ICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICBpZiAocHJlZmlsdGVyKSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZihwcmVmaWx0ZXIpID09PSAnZnVuY3Rpb24nICYmIHByZWZpbHRlcihjdXJyZW50UGF0aCwga2V5KSkgeyByZXR1cm47IH1cblx0ICAgICAgICBlbHNlIGlmICh0eXBlb2YocHJlZmlsdGVyKSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICAgIGlmIChwcmVmaWx0ZXIucHJlZmlsdGVyICYmIHByZWZpbHRlci5wcmVmaWx0ZXIoY3VycmVudFBhdGgsIGtleSkpIHsgcmV0dXJuOyB9XG5cdCAgICAgICAgICBpZiAocHJlZmlsdGVyLm5vcm1hbGl6ZSkge1xuXHQgICAgICAgICAgICB2YXIgYWx0ID0gcHJlZmlsdGVyLm5vcm1hbGl6ZShjdXJyZW50UGF0aCwga2V5LCBsaHMsIHJocyk7XG5cdCAgICAgICAgICAgIGlmIChhbHQpIHtcblx0ICAgICAgICAgICAgICBsaHMgPSBhbHRbMF07XG5cdCAgICAgICAgICAgICAgcmhzID0gYWx0WzFdO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIGN1cnJlbnRQYXRoLnB1c2goa2V5KTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBVc2Ugc3RyaW5nIGNvbXBhcmlzb24gZm9yIHJlZ2V4ZXNcblx0ICAgIGlmIChyZWFsVHlwZU9mKGxocykgPT09ICdyZWdleHAnICYmIHJlYWxUeXBlT2YocmhzKSA9PT0gJ3JlZ2V4cCcpIHtcblx0ICAgICAgbGhzID0gbGhzLnRvU3RyaW5nKCk7XG5cdCAgICAgIHJocyA9IHJocy50b1N0cmluZygpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBsdHlwZSA9IHR5cGVvZiBsaHM7XG5cdCAgICB2YXIgcnR5cGUgPSB0eXBlb2YgcmhzO1xuXHQgICAgaWYgKGx0eXBlID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgICBpZiAocnR5cGUgIT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgICAgY2hhbmdlcyhuZXcgRGlmZk5ldyhjdXJyZW50UGF0aCwgcmhzKSk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAocnR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgIGNoYW5nZXMobmV3IERpZmZEZWxldGVkKGN1cnJlbnRQYXRoLCBsaHMpKTtcblx0ICAgIH0gZWxzZSBpZiAocmVhbFR5cGVPZihsaHMpICE9PSByZWFsVHlwZU9mKHJocykpIHtcblx0ICAgICAgY2hhbmdlcyhuZXcgRGlmZkVkaXQoY3VycmVudFBhdGgsIGxocywgcmhzKSk7XG5cdCAgICB9IGVsc2UgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChsaHMpID09PSAnW29iamVjdCBEYXRlXScgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHJocykgPT09ICdbb2JqZWN0IERhdGVdJyAmJiAoKGxocyAtIHJocykgIT09IDApKSB7XG5cdCAgICAgIGNoYW5nZXMobmV3IERpZmZFZGl0KGN1cnJlbnRQYXRoLCBsaHMsIHJocykpO1xuXHQgICAgfSBlbHNlIGlmIChsdHlwZSA9PT0gJ29iamVjdCcgJiYgbGhzICE9PSBudWxsICYmIHJocyAhPT0gbnVsbCkge1xuXHQgICAgICBzdGFjayA9IHN0YWNrIHx8IFtdO1xuXHQgICAgICBpZiAoc3RhY2suaW5kZXhPZihsaHMpIDwgMCkge1xuXHQgICAgICAgIHN0YWNrLnB1c2gobGhzKTtcblx0ICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsaHMpKSB7XG5cdCAgICAgICAgICB2YXIgaSwgbGVuID0gbGhzLmxlbmd0aDtcblx0ICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsaHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgaWYgKGkgPj0gcmhzLmxlbmd0aCkge1xuXHQgICAgICAgICAgICAgIGNoYW5nZXMobmV3IERpZmZBcnJheShjdXJyZW50UGF0aCwgaSwgbmV3IERpZmZEZWxldGVkKHVuZGVmaW5lZCwgbGhzW2ldKSkpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIGRlZXBEaWZmKGxoc1tpXSwgcmhzW2ldLCBjaGFuZ2VzLCBwcmVmaWx0ZXIsIGN1cnJlbnRQYXRoLCBpLCBzdGFjayk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHdoaWxlIChpIDwgcmhzLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBjaGFuZ2VzKG5ldyBEaWZmQXJyYXkoY3VycmVudFBhdGgsIGksIG5ldyBEaWZmTmV3KHVuZGVmaW5lZCwgcmhzW2krK10pKSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHZhciBha2V5cyA9IE9iamVjdC5rZXlzKGxocyk7XG5cdCAgICAgICAgICB2YXIgcGtleXMgPSBPYmplY3Qua2V5cyhyaHMpO1xuXHQgICAgICAgICAgYWtleXMuZm9yRWFjaChmdW5jdGlvbihrLCBpKSB7XG5cdCAgICAgICAgICAgIHZhciBvdGhlciA9IHBrZXlzLmluZGV4T2Yoayk7XG5cdCAgICAgICAgICAgIGlmIChvdGhlciA+PSAwKSB7XG5cdCAgICAgICAgICAgICAgZGVlcERpZmYobGhzW2tdLCByaHNba10sIGNoYW5nZXMsIHByZWZpbHRlciwgY3VycmVudFBhdGgsIGssIHN0YWNrKTtcblx0ICAgICAgICAgICAgICBwa2V5cyA9IGFycmF5UmVtb3ZlKHBrZXlzLCBvdGhlcik7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgZGVlcERpZmYobGhzW2tdLCB1bmRlZmluZWQsIGNoYW5nZXMsIHByZWZpbHRlciwgY3VycmVudFBhdGgsIGssIHN0YWNrKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgICBwa2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGspIHtcblx0ICAgICAgICAgICAgZGVlcERpZmYodW5kZWZpbmVkLCByaHNba10sIGNoYW5nZXMsIHByZWZpbHRlciwgY3VycmVudFBhdGgsIGssIHN0YWNrKTtcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBzdGFjay5sZW5ndGggPSBzdGFjay5sZW5ndGggLSAxO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKGxocyAhPT0gcmhzKSB7XG5cdCAgICAgIGlmICghKGx0eXBlID09PSAnbnVtYmVyJyAmJiBpc05hTihsaHMpICYmIGlzTmFOKHJocykpKSB7XG5cdCAgICAgICAgY2hhbmdlcyhuZXcgRGlmZkVkaXQoY3VycmVudFBhdGgsIGxocywgcmhzKSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGFjY3VtdWxhdGVEaWZmKGxocywgcmhzLCBwcmVmaWx0ZXIsIGFjY3VtKSB7XG5cdCAgICBhY2N1bSA9IGFjY3VtIHx8IFtdO1xuXHQgICAgZGVlcERpZmYobGhzLCByaHMsXG5cdCAgICAgIGZ1bmN0aW9uKGRpZmYpIHtcblx0ICAgICAgICBpZiAoZGlmZikge1xuXHQgICAgICAgICAgYWNjdW0ucHVzaChkaWZmKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0sXG5cdCAgICAgIHByZWZpbHRlcik7XG5cdCAgICByZXR1cm4gKGFjY3VtLmxlbmd0aCkgPyBhY2N1bSA6IHVuZGVmaW5lZDtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGFwcGx5QXJyYXlDaGFuZ2UoYXJyLCBpbmRleCwgY2hhbmdlKSB7XG5cdCAgICBpZiAoY2hhbmdlLnBhdGggJiYgY2hhbmdlLnBhdGgubGVuZ3RoKSB7XG5cdCAgICAgIHZhciBpdCA9IGFycltpbmRleF0sXG5cdCAgICAgICAgICBpLCB1ID0gY2hhbmdlLnBhdGgubGVuZ3RoIC0gMTtcblx0ICAgICAgZm9yIChpID0gMDsgaSA8IHU7IGkrKykge1xuXHQgICAgICAgIGl0ID0gaXRbY2hhbmdlLnBhdGhbaV1dO1xuXHQgICAgICB9XG5cdCAgICAgIHN3aXRjaCAoY2hhbmdlLmtpbmQpIHtcblx0ICAgICAgICBjYXNlICdBJzpcblx0ICAgICAgICAgIGFwcGx5QXJyYXlDaGFuZ2UoaXRbY2hhbmdlLnBhdGhbaV1dLCBjaGFuZ2UuaW5kZXgsIGNoYW5nZS5pdGVtKTtcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgJ0QnOlxuXHQgICAgICAgICAgZGVsZXRlIGl0W2NoYW5nZS5wYXRoW2ldXTtcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgJ0UnOlxuXHQgICAgICAgIGNhc2UgJ04nOlxuXHQgICAgICAgICAgaXRbY2hhbmdlLnBhdGhbaV1dID0gY2hhbmdlLnJocztcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBzd2l0Y2ggKGNoYW5nZS5raW5kKSB7XG5cdCAgICAgICAgY2FzZSAnQSc6XG5cdCAgICAgICAgICBhcHBseUFycmF5Q2hhbmdlKGFycltpbmRleF0sIGNoYW5nZS5pbmRleCwgY2hhbmdlLml0ZW0pO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgY2FzZSAnRCc6XG5cdCAgICAgICAgICBhcnIgPSBhcnJheVJlbW92ZShhcnIsIGluZGV4KTtcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgJ0UnOlxuXHQgICAgICAgIGNhc2UgJ04nOlxuXHQgICAgICAgICAgYXJyW2luZGV4XSA9IGNoYW5nZS5yaHM7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGFycjtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGFwcGx5Q2hhbmdlKHRhcmdldCwgc291cmNlLCBjaGFuZ2UpIHtcblx0ICAgIGlmICh0YXJnZXQgJiYgc291cmNlICYmIGNoYW5nZSAmJiBjaGFuZ2Uua2luZCkge1xuXHQgICAgICB2YXIgaXQgPSB0YXJnZXQsXG5cdCAgICAgICAgICBpID0gLTEsXG5cdCAgICAgICAgICBsYXN0ID0gY2hhbmdlLnBhdGggPyBjaGFuZ2UucGF0aC5sZW5ndGggLSAxIDogMDtcblx0ICAgICAgd2hpbGUgKCsraSA8IGxhc3QpIHtcblx0ICAgICAgICBpZiAodHlwZW9mIGl0W2NoYW5nZS5wYXRoW2ldXSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9ICh0eXBlb2YgY2hhbmdlLnBhdGhbaV0gPT09ICdudW1iZXInKSA/IFtdIDoge307XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGl0ID0gaXRbY2hhbmdlLnBhdGhbaV1dO1xuXHQgICAgICB9XG5cdCAgICAgIHN3aXRjaCAoY2hhbmdlLmtpbmQpIHtcblx0ICAgICAgICBjYXNlICdBJzpcblx0ICAgICAgICAgIGFwcGx5QXJyYXlDaGFuZ2UoY2hhbmdlLnBhdGggPyBpdFtjaGFuZ2UucGF0aFtpXV0gOiBpdCwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgICBjYXNlICdEJzpcblx0ICAgICAgICAgIGRlbGV0ZSBpdFtjaGFuZ2UucGF0aFtpXV07XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgICBjYXNlICdFJzpcblx0ICAgICAgICBjYXNlICdOJzpcblx0ICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9IGNoYW5nZS5yaHM7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gcmV2ZXJ0QXJyYXlDaGFuZ2UoYXJyLCBpbmRleCwgY2hhbmdlKSB7XG5cdCAgICBpZiAoY2hhbmdlLnBhdGggJiYgY2hhbmdlLnBhdGgubGVuZ3RoKSB7XG5cdCAgICAgIC8vIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIG9iamVjdCBhdCB0aGUgaW5kZXggaGFzIGNoYW5nZWQuLi5cblx0ICAgICAgdmFyIGl0ID0gYXJyW2luZGV4XSxcblx0ICAgICAgICAgIGksIHUgPSBjaGFuZ2UucGF0aC5sZW5ndGggLSAxO1xuXHQgICAgICBmb3IgKGkgPSAwOyBpIDwgdTsgaSsrKSB7XG5cdCAgICAgICAgaXQgPSBpdFtjaGFuZ2UucGF0aFtpXV07XG5cdCAgICAgIH1cblx0ICAgICAgc3dpdGNoIChjaGFuZ2Uua2luZCkge1xuXHQgICAgICAgIGNhc2UgJ0EnOlxuXHQgICAgICAgICAgcmV2ZXJ0QXJyYXlDaGFuZ2UoaXRbY2hhbmdlLnBhdGhbaV1dLCBjaGFuZ2UuaW5kZXgsIGNoYW5nZS5pdGVtKTtcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgJ0QnOlxuXHQgICAgICAgICAgaXRbY2hhbmdlLnBhdGhbaV1dID0gY2hhbmdlLmxocztcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgJ0UnOlxuXHQgICAgICAgICAgaXRbY2hhbmdlLnBhdGhbaV1dID0gY2hhbmdlLmxocztcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgJ04nOlxuXHQgICAgICAgICAgZGVsZXRlIGl0W2NoYW5nZS5wYXRoW2ldXTtcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAvLyB0aGUgYXJyYXkgaXRlbSBpcyBkaWZmZXJlbnQuLi5cblx0ICAgICAgc3dpdGNoIChjaGFuZ2Uua2luZCkge1xuXHQgICAgICAgIGNhc2UgJ0EnOlxuXHQgICAgICAgICAgcmV2ZXJ0QXJyYXlDaGFuZ2UoYXJyW2luZGV4XSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgICBjYXNlICdEJzpcblx0ICAgICAgICAgIGFycltpbmRleF0gPSBjaGFuZ2UubGhzO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgY2FzZSAnRSc6XG5cdCAgICAgICAgICBhcnJbaW5kZXhdID0gY2hhbmdlLmxocztcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgJ04nOlxuXHQgICAgICAgICAgYXJyID0gYXJyYXlSZW1vdmUoYXJyLCBpbmRleCk7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGFycjtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHJldmVydENoYW5nZSh0YXJnZXQsIHNvdXJjZSwgY2hhbmdlKSB7XG5cdCAgICBpZiAodGFyZ2V0ICYmIHNvdXJjZSAmJiBjaGFuZ2UgJiYgY2hhbmdlLmtpbmQpIHtcblx0ICAgICAgdmFyIGl0ID0gdGFyZ2V0LFxuXHQgICAgICAgICAgaSwgdTtcblx0ICAgICAgdSA9IGNoYW5nZS5wYXRoLmxlbmd0aCAtIDE7XG5cdCAgICAgIGZvciAoaSA9IDA7IGkgPCB1OyBpKyspIHtcblx0ICAgICAgICBpZiAodHlwZW9mIGl0W2NoYW5nZS5wYXRoW2ldXSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9IHt9O1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpdCA9IGl0W2NoYW5nZS5wYXRoW2ldXTtcblx0ICAgICAgfVxuXHQgICAgICBzd2l0Y2ggKGNoYW5nZS5raW5kKSB7XG5cdCAgICAgICAgY2FzZSAnQSc6XG5cdCAgICAgICAgICAvLyBBcnJheSB3YXMgbW9kaWZpZWQuLi5cblx0ICAgICAgICAgIC8vIGl0IHdpbGwgYmUgYW4gYXJyYXkuLi5cblx0ICAgICAgICAgIHJldmVydEFycmF5Q2hhbmdlKGl0W2NoYW5nZS5wYXRoW2ldXSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgICBjYXNlICdEJzpcblx0ICAgICAgICAgIC8vIEl0ZW0gd2FzIGRlbGV0ZWQuLi5cblx0ICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9IGNoYW5nZS5saHM7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgICBjYXNlICdFJzpcblx0ICAgICAgICAgIC8vIEl0ZW0gd2FzIGVkaXRlZC4uLlxuXHQgICAgICAgICAgaXRbY2hhbmdlLnBhdGhbaV1dID0gY2hhbmdlLmxocztcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgJ04nOlxuXHQgICAgICAgICAgLy8gSXRlbSBpcyBuZXcuLi5cblx0ICAgICAgICAgIGRlbGV0ZSBpdFtjaGFuZ2UucGF0aFtpXV07XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gYXBwbHlEaWZmKHRhcmdldCwgc291cmNlLCBmaWx0ZXIpIHtcblx0ICAgIGlmICh0YXJnZXQgJiYgc291cmNlKSB7XG5cdCAgICAgIHZhciBvbkNoYW5nZSA9IGZ1bmN0aW9uKGNoYW5nZSkge1xuXHQgICAgICAgIGlmICghZmlsdGVyIHx8IGZpbHRlcih0YXJnZXQsIHNvdXJjZSwgY2hhbmdlKSkge1xuXHQgICAgICAgICAgYXBwbHlDaGFuZ2UodGFyZ2V0LCBzb3VyY2UsIGNoYW5nZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHQgICAgICBkZWVwRGlmZih0YXJnZXQsIHNvdXJjZSwgb25DaGFuZ2UpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYWNjdW11bGF0ZURpZmYsIHtcblx0XG5cdCAgICBkaWZmOiB7XG5cdCAgICAgIHZhbHVlOiBhY2N1bXVsYXRlRGlmZixcblx0ICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuXHQgICAgfSxcblx0ICAgIG9ic2VydmFibGVEaWZmOiB7XG5cdCAgICAgIHZhbHVlOiBkZWVwRGlmZixcblx0ICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuXHQgICAgfSxcblx0ICAgIGFwcGx5RGlmZjoge1xuXHQgICAgICB2YWx1ZTogYXBwbHlEaWZmLFxuXHQgICAgICBlbnVtZXJhYmxlOiB0cnVlXG5cdCAgICB9LFxuXHQgICAgYXBwbHlDaGFuZ2U6IHtcblx0ICAgICAgdmFsdWU6IGFwcGx5Q2hhbmdlLFxuXHQgICAgICBlbnVtZXJhYmxlOiB0cnVlXG5cdCAgICB9LFxuXHQgICAgcmV2ZXJ0Q2hhbmdlOiB7XG5cdCAgICAgIHZhbHVlOiByZXZlcnRDaGFuZ2UsXG5cdCAgICAgIGVudW1lcmFibGU6IHRydWVcblx0ICAgIH0sXG5cdCAgICBpc0NvbmZsaWN0OiB7XG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBjb25mbGljdDtcblx0ICAgICAgfSxcblx0ICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuXHQgICAgfSxcblx0ICAgIG5vQ29uZmxpY3Q6IHtcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIGlmIChjb25mbGljdFJlc29sdXRpb24pIHtcblx0ICAgICAgICAgIGNvbmZsaWN0UmVzb2x1dGlvbi5mb3JFYWNoKGZ1bmN0aW9uKGl0KSB7XG5cdCAgICAgICAgICAgIGl0KCk7XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICAgIGNvbmZsaWN0UmVzb2x1dGlvbiA9IG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBhY2N1bXVsYXRlRGlmZjtcblx0ICAgICAgfSxcblx0ICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICByZXR1cm4gYWNjdW11bGF0ZURpZmY7XG5cdH0pKTtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KCkpKSlcblxuLyoqKi8gfSxcbi8qIDYzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgcFNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXHR2YXIgb2JqZWN0S2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oNjUpO1xuXHR2YXIgaXNBcmd1bWVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0KTtcblx0XG5cdHZhciBkZWVwRXF1YWwgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhY3R1YWwsIGV4cGVjdGVkLCBvcHRzKSB7XG5cdCAgaWYgKCFvcHRzKSBvcHRzID0ge307XG5cdCAgLy8gNy4xLiBBbGwgaWRlbnRpY2FsIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgYXMgZGV0ZXJtaW5lZCBieSA9PT0uXG5cdCAgaWYgKGFjdHVhbCA9PT0gZXhwZWN0ZWQpIHtcblx0ICAgIHJldHVybiB0cnVlO1xuXHRcblx0ICB9IGVsc2UgaWYgKGFjdHVhbCBpbnN0YW5jZW9mIERhdGUgJiYgZXhwZWN0ZWQgaW5zdGFuY2VvZiBEYXRlKSB7XG5cdCAgICByZXR1cm4gYWN0dWFsLmdldFRpbWUoKSA9PT0gZXhwZWN0ZWQuZ2V0VGltZSgpO1xuXHRcblx0ICAvLyA3LjMuIE90aGVyIHBhaXJzIHRoYXQgZG8gbm90IGJvdGggcGFzcyB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcsXG5cdCAgLy8gZXF1aXZhbGVuY2UgaXMgZGV0ZXJtaW5lZCBieSA9PS5cblx0ICB9IGVsc2UgaWYgKCFhY3R1YWwgfHwgIWV4cGVjdGVkIHx8IHR5cGVvZiBhY3R1YWwgIT0gJ29iamVjdCcgJiYgdHlwZW9mIGV4cGVjdGVkICE9ICdvYmplY3QnKSB7XG5cdCAgICByZXR1cm4gb3B0cy5zdHJpY3QgPyBhY3R1YWwgPT09IGV4cGVjdGVkIDogYWN0dWFsID09IGV4cGVjdGVkO1xuXHRcblx0ICAvLyA3LjQuIEZvciBhbGwgb3RoZXIgT2JqZWN0IHBhaXJzLCBpbmNsdWRpbmcgQXJyYXkgb2JqZWN0cywgZXF1aXZhbGVuY2UgaXNcblx0ICAvLyBkZXRlcm1pbmVkIGJ5IGhhdmluZyB0aGUgc2FtZSBudW1iZXIgb2Ygb3duZWQgcHJvcGVydGllcyAoYXMgdmVyaWZpZWRcblx0ICAvLyB3aXRoIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCksIHRoZSBzYW1lIHNldCBvZiBrZXlzXG5cdCAgLy8gKGFsdGhvdWdoIG5vdCBuZWNlc3NhcmlseSB0aGUgc2FtZSBvcmRlciksIGVxdWl2YWxlbnQgdmFsdWVzIGZvciBldmVyeVxuXHQgIC8vIGNvcnJlc3BvbmRpbmcga2V5LCBhbmQgYW4gaWRlbnRpY2FsICdwcm90b3R5cGUnIHByb3BlcnR5LiBOb3RlOiB0aGlzXG5cdCAgLy8gYWNjb3VudHMgZm9yIGJvdGggbmFtZWQgYW5kIGluZGV4ZWQgcHJvcGVydGllcyBvbiBBcnJheXMuXG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiBvYmpFcXVpdihhY3R1YWwsIGV4cGVjdGVkLCBvcHRzKTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzVW5kZWZpbmVkT3JOdWxsKHZhbHVlKSB7XG5cdCAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzQnVmZmVyICh4KSB7XG5cdCAgaWYgKCF4IHx8IHR5cGVvZiB4ICE9PSAnb2JqZWN0JyB8fCB0eXBlb2YgeC5sZW5ndGggIT09ICdudW1iZXInKSByZXR1cm4gZmFsc2U7XG5cdCAgaWYgKHR5cGVvZiB4LmNvcHkgIT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHguc2xpY2UgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgaWYgKHgubGVuZ3RoID4gMCAmJiB0eXBlb2YgeFswXSAhPT0gJ251bWJlcicpIHJldHVybiBmYWxzZTtcblx0ICByZXR1cm4gdHJ1ZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gb2JqRXF1aXYoYSwgYiwgb3B0cykge1xuXHQgIHZhciBpLCBrZXk7XG5cdCAgaWYgKGlzVW5kZWZpbmVkT3JOdWxsKGEpIHx8IGlzVW5kZWZpbmVkT3JOdWxsKGIpKVxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIC8vIGFuIGlkZW50aWNhbCAncHJvdG90eXBlJyBwcm9wZXJ0eS5cblx0ICBpZiAoYS5wcm90b3R5cGUgIT09IGIucHJvdG90eXBlKSByZXR1cm4gZmFsc2U7XG5cdCAgLy9+fn5JJ3ZlIG1hbmFnZWQgdG8gYnJlYWsgT2JqZWN0LmtleXMgdGhyb3VnaCBzY3Jld3kgYXJndW1lbnRzIHBhc3NpbmcuXG5cdCAgLy8gICBDb252ZXJ0aW5nIHRvIGFycmF5IHNvbHZlcyB0aGUgcHJvYmxlbS5cblx0ICBpZiAoaXNBcmd1bWVudHMoYSkpIHtcblx0ICAgIGlmICghaXNBcmd1bWVudHMoYikpIHtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgICAgYSA9IHBTbGljZS5jYWxsKGEpO1xuXHQgICAgYiA9IHBTbGljZS5jYWxsKGIpO1xuXHQgICAgcmV0dXJuIGRlZXBFcXVhbChhLCBiLCBvcHRzKTtcblx0ICB9XG5cdCAgaWYgKGlzQnVmZmVyKGEpKSB7XG5cdCAgICBpZiAoIWlzQnVmZmVyKGIpKSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcblx0ICAgIGZvciAoaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGlmIChhW2ldICE9PSBiW2ldKSByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdCAgdHJ5IHtcblx0ICAgIHZhciBrYSA9IG9iamVjdEtleXMoYSksXG5cdCAgICAgICAga2IgPSBvYmplY3RLZXlzKGIpO1xuXHQgIH0gY2F0Y2ggKGUpIHsvL2hhcHBlbnMgd2hlbiBvbmUgaXMgYSBzdHJpbmcgbGl0ZXJhbCBhbmQgdGhlIG90aGVyIGlzbid0XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHQgIC8vIGhhdmluZyB0aGUgc2FtZSBudW1iZXIgb2Ygb3duZWQgcHJvcGVydGllcyAoa2V5cyBpbmNvcnBvcmF0ZXNcblx0ICAvLyBoYXNPd25Qcm9wZXJ0eSlcblx0ICBpZiAoa2EubGVuZ3RoICE9IGtiLmxlbmd0aClcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICAvL3RoZSBzYW1lIHNldCBvZiBrZXlzIChhbHRob3VnaCBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgb3JkZXIpLFxuXHQgIGthLnNvcnQoKTtcblx0ICBrYi5zb3J0KCk7XG5cdCAgLy9+fn5jaGVhcCBrZXkgdGVzdFxuXHQgIGZvciAoaSA9IGthLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdCAgICBpZiAoa2FbaV0gIT0ga2JbaV0pXG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgLy9lcXVpdmFsZW50IHZhbHVlcyBmb3IgZXZlcnkgY29ycmVzcG9uZGluZyBrZXksIGFuZFxuXHQgIC8vfn5+cG9zc2libHkgZXhwZW5zaXZlIGRlZXAgdGVzdFxuXHQgIGZvciAoaSA9IGthLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdCAgICBrZXkgPSBrYVtpXTtcblx0ICAgIGlmICghZGVlcEVxdWFsKGFba2V5XSwgYltrZXldLCBvcHRzKSkgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0ICByZXR1cm4gdHlwZW9mIGEgPT09IHR5cGVvZiBiO1xuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDY0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgc3VwcG9ydHNBcmd1bWVudHNDbGFzcyA9IChmdW5jdGlvbigpe1xuXHQgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJndW1lbnRzKVxuXHR9KSgpID09ICdbb2JqZWN0IEFyZ3VtZW50c10nO1xuXHRcblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gc3VwcG9ydHNBcmd1bWVudHNDbGFzcyA/IHN1cHBvcnRlZCA6IHVuc3VwcG9ydGVkO1xuXHRcblx0ZXhwb3J0cy5zdXBwb3J0ZWQgPSBzdXBwb3J0ZWQ7XG5cdGZ1bmN0aW9uIHN1cHBvcnRlZChvYmplY3QpIHtcblx0ICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCkgPT0gJ1tvYmplY3QgQXJndW1lbnRzXSc7XG5cdH07XG5cdFxuXHRleHBvcnRzLnVuc3VwcG9ydGVkID0gdW5zdXBwb3J0ZWQ7XG5cdGZ1bmN0aW9uIHVuc3VwcG9ydGVkKG9iamVjdCl7XG5cdCAgcmV0dXJuIG9iamVjdCAmJlxuXHQgICAgdHlwZW9mIG9iamVjdCA9PSAnb2JqZWN0JyAmJlxuXHQgICAgdHlwZW9mIG9iamVjdC5sZW5ndGggPT0gJ251bWJlcicgJiZcblx0ICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsICdjYWxsZWUnKSAmJlxuXHQgICAgIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmplY3QsICdjYWxsZWUnKSB8fFxuXHQgICAgZmFsc2U7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDY1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2YgT2JqZWN0LmtleXMgPT09ICdmdW5jdGlvbidcblx0ICA/IE9iamVjdC5rZXlzIDogc2hpbTtcblx0XG5cdGV4cG9ydHMuc2hpbSA9IHNoaW07XG5cdGZ1bmN0aW9uIHNoaW0gKG9iaikge1xuXHQgIHZhciBrZXlzID0gW107XG5cdCAgZm9yICh2YXIga2V5IGluIG9iaikga2V5cy5wdXNoKGtleSk7XG5cdCAgcmV0dXJuIGtleXM7XG5cdH1cblxuXG4vKioqLyB9LFxuLyogNjYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0dmFyIF9zbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblx0ZXhwb3J0cy5sb29wQXN5bmMgPSBsb29wQXN5bmM7XG5cdFxuXHRmdW5jdGlvbiBsb29wQXN5bmModHVybnMsIHdvcmssIGNhbGxiYWNrKSB7XG5cdCAgdmFyIGN1cnJlbnRUdXJuID0gMCxcblx0ICAgICAgaXNEb25lID0gZmFsc2U7XG5cdCAgdmFyIHN5bmMgPSBmYWxzZSxcblx0ICAgICAgaGFzTmV4dCA9IGZhbHNlLFxuXHQgICAgICBkb25lQXJncyA9IHVuZGVmaW5lZDtcblx0XG5cdCAgZnVuY3Rpb24gZG9uZSgpIHtcblx0ICAgIGlzRG9uZSA9IHRydWU7XG5cdCAgICBpZiAoc3luYykge1xuXHQgICAgICAvLyBJdGVyYXRlIGluc3RlYWQgb2YgcmVjdXJzaW5nIGlmIHBvc3NpYmxlLlxuXHQgICAgICBkb25lQXJncyA9IFtdLmNvbmNhdChfc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBuZXh0KCkge1xuXHQgICAgaWYgKGlzRG9uZSkge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgaGFzTmV4dCA9IHRydWU7XG5cdCAgICBpZiAoc3luYykge1xuXHQgICAgICAvLyBJdGVyYXRlIGluc3RlYWQgb2YgcmVjdXJzaW5nIGlmIHBvc3NpYmxlLlxuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgc3luYyA9IHRydWU7XG5cdFxuXHQgICAgd2hpbGUgKCFpc0RvbmUgJiYgY3VycmVudFR1cm4gPCB0dXJucyAmJiBoYXNOZXh0KSB7XG5cdCAgICAgIGhhc05leHQgPSBmYWxzZTtcblx0ICAgICAgd29yay5jYWxsKHRoaXMsIGN1cnJlbnRUdXJuKyssIG5leHQsIGRvbmUpO1xuXHQgICAgfVxuXHRcblx0ICAgIHN5bmMgPSBmYWxzZTtcblx0XG5cdCAgICBpZiAoaXNEb25lKSB7XG5cdCAgICAgIC8vIFRoaXMgbWVhbnMgdGhlIGxvb3AgZmluaXNoZWQgc3luY2hyb25vdXNseS5cblx0ICAgICAgY2FsbGJhY2suYXBwbHkodGhpcywgZG9uZUFyZ3MpO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGN1cnJlbnRUdXJuID49IHR1cm5zICYmIGhhc05leHQpIHtcblx0ICAgICAgaXNEb25lID0gdHJ1ZTtcblx0ICAgICAgY2FsbGJhY2soKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIG5leHQoKTtcblx0fVxuXG4vKioqLyB9LFxuLyogNjcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX2ludmFyaWFudCA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuXHRcblx0dmFyIF9BY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cdFxuXHR2YXIgX1BhdGhVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0dmFyIF9FeGVjdXRpb25FbnZpcm9ubWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXHRcblx0dmFyIF9ET01VdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXHRcblx0dmFyIF9ET01TdGF0ZVN0b3JhZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KTtcblx0XG5cdHZhciBfY3JlYXRlRE9NSGlzdG9yeSA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xuXHRcblx0dmFyIF9jcmVhdGVET01IaXN0b3J5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZURPTUhpc3RvcnkpO1xuXHRcblx0LyoqXG5cdCAqIENyZWF0ZXMgYW5kIHJldHVybnMgYSBoaXN0b3J5IG9iamVjdCB0aGF0IHVzZXMgSFRNTDUncyBoaXN0b3J5IEFQSVxuXHQgKiAocHVzaFN0YXRlLCByZXBsYWNlU3RhdGUsIGFuZCB0aGUgcG9wc3RhdGUgZXZlbnQpIHRvIG1hbmFnZSBoaXN0b3J5LlxuXHQgKiBUaGlzIGlzIHRoZSByZWNvbW1lbmRlZCBtZXRob2Qgb2YgbWFuYWdpbmcgaGlzdG9yeSBpbiBicm93c2VycyBiZWNhdXNlXG5cdCAqIGl0IHByb3ZpZGVzIHRoZSBjbGVhbmVzdCBVUkxzLlxuXHQgKlxuXHQgKiBOb3RlOiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IHRoZSBIVE1MNSBoaXN0b3J5IEFQSSBmdWxsXG5cdCAqIHBhZ2UgcmVsb2FkcyB3aWxsIGJlIHVzZWQgdG8gcHJlc2VydmUgVVJMcy5cblx0ICovXG5cdGZ1bmN0aW9uIGNyZWF0ZUJyb3dzZXJIaXN0b3J5KCkge1xuXHQgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cdFxuXHQgICFfRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UsICdCcm93c2VyIGhpc3RvcnkgbmVlZHMgYSBET00nKSA6IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UpIDogdW5kZWZpbmVkO1xuXHRcblx0ICB2YXIgZm9yY2VSZWZyZXNoID0gb3B0aW9ucy5mb3JjZVJlZnJlc2g7XG5cdFxuXHQgIHZhciBpc1N1cHBvcnRlZCA9IF9ET01VdGlscy5zdXBwb3J0c0hpc3RvcnkoKTtcblx0ICB2YXIgdXNlUmVmcmVzaCA9ICFpc1N1cHBvcnRlZCB8fCBmb3JjZVJlZnJlc2g7XG5cdFxuXHQgIGZ1bmN0aW9uIGdldEN1cnJlbnRMb2NhdGlvbihoaXN0b3J5U3RhdGUpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgIGhpc3RvcnlTdGF0ZSA9IGhpc3RvcnlTdGF0ZSB8fCB3aW5kb3cuaGlzdG9yeS5zdGF0ZSB8fCB7fTtcblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgaGlzdG9yeVN0YXRlID0ge307XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHBhdGggPSBfRE9NVXRpbHMuZ2V0V2luZG93UGF0aCgpO1xuXHQgICAgdmFyIF9oaXN0b3J5U3RhdGUgPSBoaXN0b3J5U3RhdGU7XG5cdCAgICB2YXIga2V5ID0gX2hpc3RvcnlTdGF0ZS5rZXk7XG5cdFxuXHQgICAgdmFyIHN0YXRlID0gdW5kZWZpbmVkO1xuXHQgICAgaWYgKGtleSkge1xuXHQgICAgICBzdGF0ZSA9IF9ET01TdGF0ZVN0b3JhZ2UucmVhZFN0YXRlKGtleSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBzdGF0ZSA9IG51bGw7XG5cdCAgICAgIGtleSA9IGhpc3RvcnkuY3JlYXRlS2V5KCk7XG5cdFxuXHQgICAgICBpZiAoaXNTdXBwb3J0ZWQpIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShfZXh0ZW5kcyh7fSwgaGlzdG9yeVN0YXRlLCB7IGtleToga2V5IH0pLCBudWxsKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgbG9jYXRpb24gPSBfUGF0aFV0aWxzLnBhcnNlUGF0aChwYXRoKTtcblx0XG5cdCAgICByZXR1cm4gaGlzdG9yeS5jcmVhdGVMb2NhdGlvbihfZXh0ZW5kcyh7fSwgbG9jYXRpb24sIHsgc3RhdGU6IHN0YXRlIH0pLCB1bmRlZmluZWQsIGtleSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBzdGFydFBvcFN0YXRlTGlzdGVuZXIoX3JlZikge1xuXHQgICAgdmFyIHRyYW5zaXRpb25UbyA9IF9yZWYudHJhbnNpdGlvblRvO1xuXHRcblx0ICAgIGZ1bmN0aW9uIHBvcFN0YXRlTGlzdGVuZXIoZXZlbnQpIHtcblx0ICAgICAgaWYgKGV2ZW50LnN0YXRlID09PSB1bmRlZmluZWQpIHJldHVybjsgLy8gSWdub3JlIGV4dHJhbmVvdXMgcG9wc3RhdGUgZXZlbnRzIGluIFdlYktpdC5cblx0XG5cdCAgICAgIHRyYW5zaXRpb25UbyhnZXRDdXJyZW50TG9jYXRpb24oZXZlbnQuc3RhdGUpKTtcblx0ICAgIH1cblx0XG5cdCAgICBfRE9NVXRpbHMuYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csICdwb3BzdGF0ZScsIHBvcFN0YXRlTGlzdGVuZXIpO1xuXHRcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF9ET01VdGlscy5yZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdywgJ3BvcHN0YXRlJywgcG9wU3RhdGVMaXN0ZW5lcik7XG5cdCAgICB9O1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gZmluaXNoVHJhbnNpdGlvbihsb2NhdGlvbikge1xuXHQgICAgdmFyIGJhc2VuYW1lID0gbG9jYXRpb24uYmFzZW5hbWU7XG5cdCAgICB2YXIgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcblx0ICAgIHZhciBzZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2g7XG5cdCAgICB2YXIgaGFzaCA9IGxvY2F0aW9uLmhhc2g7XG5cdCAgICB2YXIgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZTtcblx0ICAgIHZhciBhY3Rpb24gPSBsb2NhdGlvbi5hY3Rpb247XG5cdCAgICB2YXIga2V5ID0gbG9jYXRpb24ua2V5O1xuXHRcblx0ICAgIGlmIChhY3Rpb24gPT09IF9BY3Rpb25zLlBPUCkgcmV0dXJuOyAvLyBOb3RoaW5nIHRvIGRvLlxuXHRcblx0ICAgIF9ET01TdGF0ZVN0b3JhZ2Uuc2F2ZVN0YXRlKGtleSwgc3RhdGUpO1xuXHRcblx0ICAgIHZhciBwYXRoID0gKGJhc2VuYW1lIHx8ICcnKSArIHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcblx0ICAgIHZhciBoaXN0b3J5U3RhdGUgPSB7XG5cdCAgICAgIGtleToga2V5XG5cdCAgICB9O1xuXHRcblx0ICAgIGlmIChhY3Rpb24gPT09IF9BY3Rpb25zLlBVU0gpIHtcblx0ICAgICAgaWYgKHVzZVJlZnJlc2gpIHtcblx0ICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHBhdGg7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBQcmV2ZW50IGxvY2F0aW9uIHVwZGF0ZS5cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShoaXN0b3J5U3RhdGUsIG51bGwsIHBhdGgpO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIC8vIFJFUExBQ0Vcblx0ICAgICAgaWYgKHVzZVJlZnJlc2gpIHtcblx0ICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShwYXRoKTtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7IC8vIFByZXZlbnQgbG9jYXRpb24gdXBkYXRlLlxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKGhpc3RvcnlTdGF0ZSwgbnVsbCwgcGF0aCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgdmFyIGhpc3RvcnkgPSBfY3JlYXRlRE9NSGlzdG9yeTJbJ2RlZmF1bHQnXShfZXh0ZW5kcyh7fSwgb3B0aW9ucywge1xuXHQgICAgZ2V0Q3VycmVudExvY2F0aW9uOiBnZXRDdXJyZW50TG9jYXRpb24sXG5cdCAgICBmaW5pc2hUcmFuc2l0aW9uOiBmaW5pc2hUcmFuc2l0aW9uLFxuXHQgICAgc2F2ZVN0YXRlOiBfRE9NU3RhdGVTdG9yYWdlLnNhdmVTdGF0ZVxuXHQgIH0pKTtcblx0XG5cdCAgdmFyIGxpc3RlbmVyQ291bnQgPSAwLFxuXHQgICAgICBzdG9wUG9wU3RhdGVMaXN0ZW5lciA9IHVuZGVmaW5lZDtcblx0XG5cdCAgZnVuY3Rpb24gbGlzdGVuQmVmb3JlKGxpc3RlbmVyKSB7XG5cdCAgICBpZiAoKytsaXN0ZW5lckNvdW50ID09PSAxKSBzdG9wUG9wU3RhdGVMaXN0ZW5lciA9IHN0YXJ0UG9wU3RhdGVMaXN0ZW5lcihoaXN0b3J5KTtcblx0XG5cdCAgICB2YXIgdW5saXN0ZW4gPSBoaXN0b3J5Lmxpc3RlbkJlZm9yZShsaXN0ZW5lcik7XG5cdFxuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdW5saXN0ZW4oKTtcblx0XG5cdCAgICAgIGlmICgtLWxpc3RlbmVyQ291bnQgPT09IDApIHN0b3BQb3BTdGF0ZUxpc3RlbmVyKCk7XG5cdCAgICB9O1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG5cdCAgICBpZiAoKytsaXN0ZW5lckNvdW50ID09PSAxKSBzdG9wUG9wU3RhdGVMaXN0ZW5lciA9IHN0YXJ0UG9wU3RhdGVMaXN0ZW5lcihoaXN0b3J5KTtcblx0XG5cdCAgICB2YXIgdW5saXN0ZW4gPSBoaXN0b3J5Lmxpc3RlbihsaXN0ZW5lcik7XG5cdFxuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdW5saXN0ZW4oKTtcblx0XG5cdCAgICAgIGlmICgtLWxpc3RlbmVyQ291bnQgPT09IDApIHN0b3BQb3BTdGF0ZUxpc3RlbmVyKCk7XG5cdCAgICB9O1xuXHQgIH1cblx0XG5cdCAgLy8gZGVwcmVjYXRlZFxuXHQgIGZ1bmN0aW9uIHJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vaykge1xuXHQgICAgaWYgKCsrbGlzdGVuZXJDb3VudCA9PT0gMSkgc3RvcFBvcFN0YXRlTGlzdGVuZXIgPSBzdGFydFBvcFN0YXRlTGlzdGVuZXIoaGlzdG9yeSk7XG5cdFxuXHQgICAgaGlzdG9yeS5yZWdpc3RlclRyYW5zaXRpb25Ib29rKGhvb2spO1xuXHQgIH1cblx0XG5cdCAgLy8gZGVwcmVjYXRlZFxuXHQgIGZ1bmN0aW9uIHVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKSB7XG5cdCAgICBoaXN0b3J5LnVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKTtcblx0XG5cdCAgICBpZiAoLS1saXN0ZW5lckNvdW50ID09PSAwKSBzdG9wUG9wU3RhdGVMaXN0ZW5lcigpO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIF9leHRlbmRzKHt9LCBoaXN0b3J5LCB7XG5cdCAgICBsaXN0ZW5CZWZvcmU6IGxpc3RlbkJlZm9yZSxcblx0ICAgIGxpc3RlbjogbGlzdGVuLFxuXHQgICAgcmVnaXN0ZXJUcmFuc2l0aW9uSG9vazogcmVnaXN0ZXJUcmFuc2l0aW9uSG9vayxcblx0ICAgIHVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vazogdW5yZWdpc3RlclRyYW5zaXRpb25Ib29rXG5cdCAgfSk7XG5cdH1cblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IGNyZWF0ZUJyb3dzZXJIaXN0b3J5O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkpKVxuXG4vKioqLyB9LFxuLyogNjggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXHRcblx0dmFyIF9BY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cdFxuXHR2YXIgX1BhdGhVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0ZnVuY3Rpb24gY3JlYXRlTG9jYXRpb24oKSB7XG5cdCAgdmFyIGxvY2F0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gJy8nIDogYXJndW1lbnRzWzBdO1xuXHQgIHZhciBhY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBfQWN0aW9ucy5QT1AgOiBhcmd1bWVudHNbMV07XG5cdCAgdmFyIGtleSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbMl07XG5cdFxuXHQgIHZhciBfZm91cnRoQXJnID0gYXJndW1lbnRzLmxlbmd0aCA8PSAzIHx8IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1szXTtcblx0XG5cdCAgaWYgKHR5cGVvZiBsb2NhdGlvbiA9PT0gJ3N0cmluZycpIGxvY2F0aW9uID0gX1BhdGhVdGlscy5wYXJzZVBhdGgobG9jYXRpb24pO1xuXHRcblx0ICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ29iamVjdCcpIHtcblx0ICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShmYWxzZSwgJ1RoZSBzdGF0ZSAoMm5kKSBhcmd1bWVudCB0byBjcmVhdGVMb2NhdGlvbiBpcyBkZXByZWNhdGVkOyB1c2UgYSAnICsgJ2xvY2F0aW9uIGRlc2NyaXB0b3IgaW5zdGVhZCcpIDogdW5kZWZpbmVkO1xuXHRcblx0ICAgIGxvY2F0aW9uID0gX2V4dGVuZHMoe30sIGxvY2F0aW9uLCB7IHN0YXRlOiBhY3Rpb24gfSk7XG5cdFxuXHQgICAgYWN0aW9uID0ga2V5IHx8IF9BY3Rpb25zLlBPUDtcblx0ICAgIGtleSA9IF9mb3VydGhBcmc7XG5cdCAgfVxuXHRcblx0ICB2YXIgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZSB8fCAnLyc7XG5cdCAgdmFyIHNlYXJjaCA9IGxvY2F0aW9uLnNlYXJjaCB8fCAnJztcblx0ICB2YXIgaGFzaCA9IGxvY2F0aW9uLmhhc2ggfHwgJyc7XG5cdCAgdmFyIHN0YXRlID0gbG9jYXRpb24uc3RhdGUgfHwgbnVsbDtcblx0XG5cdCAgcmV0dXJuIHtcblx0ICAgIHBhdGhuYW1lOiBwYXRobmFtZSxcblx0ICAgIHNlYXJjaDogc2VhcmNoLFxuXHQgICAgaGFzaDogaGFzaCxcblx0ICAgIHN0YXRlOiBzdGF0ZSxcblx0ICAgIGFjdGlvbjogYWN0aW9uLFxuXHQgICAga2V5OiBrZXlcblx0ICB9O1xuXHR9XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBjcmVhdGVMb2NhdGlvbjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKSlcblxuLyoqKi8gfSxcbi8qIDY5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0dmFyIF93YXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblx0XG5cdHZhciBfaW52YXJpYW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cdFxuXHR2YXIgX1BhdGhVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0dmFyIF9BY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cdFxuXHR2YXIgX2NyZWF0ZUhpc3RvcnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblx0XG5cdHZhciBfY3JlYXRlSGlzdG9yeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVIaXN0b3J5KTtcblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVN0YXRlU3RvcmFnZShlbnRyaWVzKSB7XG5cdCAgcmV0dXJuIGVudHJpZXMuZmlsdGVyKGZ1bmN0aW9uIChlbnRyeSkge1xuXHQgICAgcmV0dXJuIGVudHJ5LnN0YXRlO1xuXHQgIH0pLnJlZHVjZShmdW5jdGlvbiAobWVtbywgZW50cnkpIHtcblx0ICAgIG1lbW9bZW50cnkua2V5XSA9IGVudHJ5LnN0YXRlO1xuXHQgICAgcmV0dXJuIG1lbW87XG5cdCAgfSwge30pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVNZW1vcnlIaXN0b3J5KCkge1xuXHQgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cdFxuXHQgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMpKSB7XG5cdCAgICBvcHRpb25zID0geyBlbnRyaWVzOiBvcHRpb25zIH07XG5cdCAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcblx0ICAgIG9wdGlvbnMgPSB7IGVudHJpZXM6IFtvcHRpb25zXSB9O1xuXHQgIH1cblx0XG5cdCAgdmFyIGhpc3RvcnkgPSBfY3JlYXRlSGlzdG9yeTJbJ2RlZmF1bHQnXShfZXh0ZW5kcyh7fSwgb3B0aW9ucywge1xuXHQgICAgZ2V0Q3VycmVudExvY2F0aW9uOiBnZXRDdXJyZW50TG9jYXRpb24sXG5cdCAgICBmaW5pc2hUcmFuc2l0aW9uOiBmaW5pc2hUcmFuc2l0aW9uLFxuXHQgICAgc2F2ZVN0YXRlOiBzYXZlU3RhdGUsXG5cdCAgICBnbzogZ29cblx0ICB9KSk7XG5cdFxuXHQgIHZhciBfb3B0aW9ucyA9IG9wdGlvbnM7XG5cdCAgdmFyIGVudHJpZXMgPSBfb3B0aW9ucy5lbnRyaWVzO1xuXHQgIHZhciBjdXJyZW50ID0gX29wdGlvbnMuY3VycmVudDtcblx0XG5cdCAgaWYgKHR5cGVvZiBlbnRyaWVzID09PSAnc3RyaW5nJykge1xuXHQgICAgZW50cmllcyA9IFtlbnRyaWVzXTtcblx0ICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KGVudHJpZXMpKSB7XG5cdCAgICBlbnRyaWVzID0gWycvJ107XG5cdCAgfVxuXHRcblx0ICBlbnRyaWVzID0gZW50cmllcy5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7XG5cdCAgICB2YXIga2V5ID0gaGlzdG9yeS5jcmVhdGVLZXkoKTtcblx0XG5cdCAgICBpZiAodHlwZW9mIGVudHJ5ID09PSAnc3RyaW5nJykgcmV0dXJuIHsgcGF0aG5hbWU6IGVudHJ5LCBrZXk6IGtleSB9O1xuXHRcblx0ICAgIGlmICh0eXBlb2YgZW50cnkgPT09ICdvYmplY3QnICYmIGVudHJ5KSByZXR1cm4gX2V4dGVuZHMoe30sIGVudHJ5LCB7IGtleToga2V5IH0pO1xuXHRcblx0ICAgICB0cnVlID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UsICdVbmFibGUgdG8gY3JlYXRlIGhpc3RvcnkgZW50cnkgZnJvbSAlcycsIGVudHJ5KSA6IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UpIDogdW5kZWZpbmVkO1xuXHQgIH0pO1xuXHRcblx0ICBpZiAoY3VycmVudCA9PSBudWxsKSB7XG5cdCAgICBjdXJyZW50ID0gZW50cmllcy5sZW5ndGggLSAxO1xuXHQgIH0gZWxzZSB7XG5cdCAgICAhKGN1cnJlbnQgPj0gMCAmJiBjdXJyZW50IDwgZW50cmllcy5sZW5ndGgpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UsICdDdXJyZW50IGluZGV4IG11c3QgYmUgPj0gMCBhbmQgPCAlcywgd2FzICVzJywgZW50cmllcy5sZW5ndGgsIGN1cnJlbnQpIDogX2ludmFyaWFudDJbJ2RlZmF1bHQnXShmYWxzZSkgOiB1bmRlZmluZWQ7XG5cdCAgfVxuXHRcblx0ICB2YXIgc3RvcmFnZSA9IGNyZWF0ZVN0YXRlU3RvcmFnZShlbnRyaWVzKTtcblx0XG5cdCAgZnVuY3Rpb24gc2F2ZVN0YXRlKGtleSwgc3RhdGUpIHtcblx0ICAgIHN0b3JhZ2Vba2V5XSA9IHN0YXRlO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gcmVhZFN0YXRlKGtleSkge1xuXHQgICAgcmV0dXJuIHN0b3JhZ2Vba2V5XTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGdldEN1cnJlbnRMb2NhdGlvbigpIHtcblx0ICAgIHZhciBlbnRyeSA9IGVudHJpZXNbY3VycmVudF07XG5cdCAgICB2YXIgYmFzZW5hbWUgPSBlbnRyeS5iYXNlbmFtZTtcblx0ICAgIHZhciBwYXRobmFtZSA9IGVudHJ5LnBhdGhuYW1lO1xuXHQgICAgdmFyIHNlYXJjaCA9IGVudHJ5LnNlYXJjaDtcblx0XG5cdCAgICB2YXIgcGF0aCA9IChiYXNlbmFtZSB8fCAnJykgKyBwYXRobmFtZSArIChzZWFyY2ggfHwgJycpO1xuXHRcblx0ICAgIHZhciBrZXkgPSB1bmRlZmluZWQsXG5cdCAgICAgICAgc3RhdGUgPSB1bmRlZmluZWQ7XG5cdCAgICBpZiAoZW50cnkua2V5KSB7XG5cdCAgICAgIGtleSA9IGVudHJ5LmtleTtcblx0ICAgICAgc3RhdGUgPSByZWFkU3RhdGUoa2V5KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGtleSA9IGhpc3RvcnkuY3JlYXRlS2V5KCk7XG5cdCAgICAgIHN0YXRlID0gbnVsbDtcblx0ICAgICAgZW50cnkua2V5ID0ga2V5O1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBsb2NhdGlvbiA9IF9QYXRoVXRpbHMucGFyc2VQYXRoKHBhdGgpO1xuXHRcblx0ICAgIHJldHVybiBoaXN0b3J5LmNyZWF0ZUxvY2F0aW9uKF9leHRlbmRzKHt9LCBsb2NhdGlvbiwgeyBzdGF0ZTogc3RhdGUgfSksIHVuZGVmaW5lZCwga2V5KTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNhbkdvKG4pIHtcblx0ICAgIHZhciBpbmRleCA9IGN1cnJlbnQgKyBuO1xuXHQgICAgcmV0dXJuIGluZGV4ID49IDAgJiYgaW5kZXggPCBlbnRyaWVzLmxlbmd0aDtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGdvKG4pIHtcblx0ICAgIGlmIChuKSB7XG5cdCAgICAgIGlmICghY2FuR28obikpIHtcblx0ICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10oZmFsc2UsICdDYW5ub3QgZ28oJXMpIHRoZXJlIGlzIG5vdCBlbm91Z2ggaGlzdG9yeScsIG4pIDogdW5kZWZpbmVkO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgY3VycmVudCArPSBuO1xuXHRcblx0ICAgICAgdmFyIGN1cnJlbnRMb2NhdGlvbiA9IGdldEN1cnJlbnRMb2NhdGlvbigpO1xuXHRcblx0ICAgICAgLy8gY2hhbmdlIGFjdGlvbiB0byBQT1Bcblx0ICAgICAgaGlzdG9yeS50cmFuc2l0aW9uVG8oX2V4dGVuZHMoe30sIGN1cnJlbnRMb2NhdGlvbiwgeyBhY3Rpb246IF9BY3Rpb25zLlBPUCB9KSk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBmaW5pc2hUcmFuc2l0aW9uKGxvY2F0aW9uKSB7XG5cdCAgICBzd2l0Y2ggKGxvY2F0aW9uLmFjdGlvbikge1xuXHQgICAgICBjYXNlIF9BY3Rpb25zLlBVU0g6XG5cdCAgICAgICAgY3VycmVudCArPSAxO1xuXHRcblx0ICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IG9uIHRoZSB0b3Agb2Ygc3RhY2tcblx0ICAgICAgICAvLyByZW1vdmUgcmVzdCBhbmQgcHVzaCBuZXdcblx0ICAgICAgICBpZiAoY3VycmVudCA8IGVudHJpZXMubGVuZ3RoKSBlbnRyaWVzLnNwbGljZShjdXJyZW50KTtcblx0XG5cdCAgICAgICAgZW50cmllcy5wdXNoKGxvY2F0aW9uKTtcblx0ICAgICAgICBzYXZlU3RhdGUobG9jYXRpb24ua2V5LCBsb2NhdGlvbi5zdGF0ZSk7XG5cdCAgICAgICAgYnJlYWs7XG5cdCAgICAgIGNhc2UgX0FjdGlvbnMuUkVQTEFDRTpcblx0ICAgICAgICBlbnRyaWVzW2N1cnJlbnRdID0gbG9jYXRpb247XG5cdCAgICAgICAgc2F2ZVN0YXRlKGxvY2F0aW9uLmtleSwgbG9jYXRpb24uc3RhdGUpO1xuXHQgICAgICAgIGJyZWFrO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGhpc3Rvcnk7XG5cdH1cblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IGNyZWF0ZU1lbW9yeUhpc3Rvcnk7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKSkpXG5cbi8qKiovIH0sXG4vKiA3MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqXG5cdCAqIENvcHlyaWdodCAyMDE1LCBZYWhvbyEgSW5jLlxuXHQgKiBDb3B5cmlnaHRzIGxpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIExpY2Vuc2UuIFNlZSB0aGUgYWNjb21wYW55aW5nIExJQ0VOU0UgZmlsZSBmb3IgdGVybXMuXG5cdCAqL1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgUkVBQ1RfU1RBVElDUyA9IHtcblx0ICAgIGNoaWxkQ29udGV4dFR5cGVzOiB0cnVlLFxuXHQgICAgY29udGV4dFR5cGVzOiB0cnVlLFxuXHQgICAgZGVmYXVsdFByb3BzOiB0cnVlLFxuXHQgICAgZGlzcGxheU5hbWU6IHRydWUsXG5cdCAgICBnZXREZWZhdWx0UHJvcHM6IHRydWUsXG5cdCAgICBtaXhpbnM6IHRydWUsXG5cdCAgICBwcm9wVHlwZXM6IHRydWUsXG5cdCAgICB0eXBlOiB0cnVlXG5cdH07XG5cdFxuXHR2YXIgS05PV05fU1RBVElDUyA9IHtcblx0ICAgIG5hbWU6IHRydWUsXG5cdCAgICBsZW5ndGg6IHRydWUsXG5cdCAgICBwcm90b3R5cGU6IHRydWUsXG5cdCAgICBjYWxsZXI6IHRydWUsXG5cdCAgICBhcmd1bWVudHM6IHRydWUsXG5cdCAgICBhcml0eTogdHJ1ZVxuXHR9O1xuXHRcblx0dmFyIGlzR2V0T3duUHJvcGVydHlTeW1ib2xzQXZhaWxhYmxlID0gdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbic7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKHRhcmdldENvbXBvbmVudCwgc291cmNlQ29tcG9uZW50LCBjdXN0b21TdGF0aWNzKSB7XG5cdCAgICBpZiAodHlwZW9mIHNvdXJjZUNvbXBvbmVudCAhPT0gJ3N0cmluZycpIHsgLy8gZG9uJ3QgaG9pc3Qgb3ZlciBzdHJpbmcgKGh0bWwpIGNvbXBvbmVudHNcblx0ICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHNvdXJjZUNvbXBvbmVudCk7XG5cdFxuXHQgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cdCAgICAgICAgaWYgKGlzR2V0T3duUHJvcGVydHlTeW1ib2xzQXZhaWxhYmxlKSB7XG5cdCAgICAgICAgICAgIGtleXMgPSBrZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZUNvbXBvbmVudCkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgICAgIGlmICghUkVBQ1RfU1RBVElDU1trZXlzW2ldXSAmJiAhS05PV05fU1RBVElDU1trZXlzW2ldXSAmJiAoIWN1c3RvbVN0YXRpY3MgfHwgIWN1c3RvbVN0YXRpY3Nba2V5c1tpXV0pKSB7XG5cdCAgICAgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgICAgIHRhcmdldENvbXBvbmVudFtrZXlzW2ldXSA9IHNvdXJjZUNvbXBvbmVudFtrZXlzW2ldXTtcblx0ICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB0YXJnZXRDb21wb25lbnQ7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDcxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyB0aGUgd2hhdHdnLWZldGNoIHBvbHlmaWxsIGluc3RhbGxzIHRoZSBmZXRjaCgpIGZ1bmN0aW9uXG5cdC8vIG9uIHRoZSBnbG9iYWwgb2JqZWN0ICh3aW5kb3cgb3Igc2VsZilcblx0Ly9cblx0Ly8gUmV0dXJuIHRoYXQgYXMgdGhlIGV4cG9ydCBmb3IgdXNlIGluIFdlYnBhY2ssIEJyb3dzZXJpZnkgZXRjLlxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDExMCk7XG5cdG1vZHVsZS5leHBvcnRzID0gc2VsZi5mZXRjaC5iaW5kKHNlbGYpO1xuXG5cbi8qKiovIH0sXG4vKiA3MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgc3RyaWN0VXJpRW5jb2RlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OSk7XG5cdFxuXHRleHBvcnRzLmV4dHJhY3QgPSBmdW5jdGlvbiAoc3RyKSB7XG5cdFx0cmV0dXJuIHN0ci5zcGxpdCgnPycpWzFdIHx8ICcnO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5wYXJzZSA9IGZ1bmN0aW9uIChzdHIpIHtcblx0XHRpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHtcblx0XHRcdHJldHVybiB7fTtcblx0XHR9XG5cdFxuXHRcdHN0ciA9IHN0ci50cmltKCkucmVwbGFjZSgvXihcXD98I3wmKS8sICcnKTtcblx0XG5cdFx0aWYgKCFzdHIpIHtcblx0XHRcdHJldHVybiB7fTtcblx0XHR9XG5cdFxuXHRcdHJldHVybiBzdHIuc3BsaXQoJyYnKS5yZWR1Y2UoZnVuY3Rpb24gKHJldCwgcGFyYW0pIHtcblx0XHRcdHZhciBwYXJ0cyA9IHBhcmFtLnJlcGxhY2UoL1xcKy9nLCAnICcpLnNwbGl0KCc9Jyk7XG5cdFx0XHQvLyBGaXJlZm94IChwcmUgNDApIGRlY29kZXMgYCUzRGAgdG8gYD1gXG5cdFx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL3F1ZXJ5LXN0cmluZy9wdWxsLzM3XG5cdFx0XHR2YXIga2V5ID0gcGFydHMuc2hpZnQoKTtcblx0XHRcdHZhciB2YWwgPSBwYXJ0cy5sZW5ndGggPiAwID8gcGFydHMuam9pbignPScpIDogdW5kZWZpbmVkO1xuXHRcblx0XHRcdGtleSA9IGRlY29kZVVSSUNvbXBvbmVudChrZXkpO1xuXHRcblx0XHRcdC8vIG1pc3NpbmcgYD1gIHNob3VsZCBiZSBgbnVsbGA6XG5cdFx0XHQvLyBodHRwOi8vdzMub3JnL1RSLzIwMTIvV0QtdXJsLTIwMTIwNTI0LyNjb2xsZWN0LXVybC1wYXJhbWV0ZXJzXG5cdFx0XHR2YWwgPSB2YWwgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBkZWNvZGVVUklDb21wb25lbnQodmFsKTtcblx0XG5cdFx0XHRpZiAoIXJldC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdFx0XHRcdHJldFtrZXldID0gdmFsO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHJldFtrZXldKSkge1xuXHRcdFx0XHRyZXRba2V5XS5wdXNoKHZhbCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXRba2V5XSA9IFtyZXRba2V5XSwgdmFsXTtcblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH0sIHt9KTtcblx0fTtcblx0XG5cdGV4cG9ydHMuc3RyaW5naWZ5ID0gZnVuY3Rpb24gKG9iaikge1xuXHRcdHJldHVybiBvYmogPyBPYmplY3Qua2V5cyhvYmopLnNvcnQoKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0dmFyIHZhbCA9IG9ialtrZXldO1xuXHRcblx0XHRcdGlmICh2YWwgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRyZXR1cm4gJyc7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKHZhbCA9PT0gbnVsbCkge1xuXHRcdFx0XHRyZXR1cm4ga2V5O1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcblx0XHRcdFx0cmV0dXJuIHZhbC5zbGljZSgpLnNvcnQoKS5tYXAoZnVuY3Rpb24gKHZhbDIpIHtcblx0XHRcdFx0XHRyZXR1cm4gc3RyaWN0VXJpRW5jb2RlKGtleSkgKyAnPScgKyBzdHJpY3RVcmlFbmNvZGUodmFsMik7XG5cdFx0XHRcdH0pLmpvaW4oJyYnKTtcblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gc3RyaWN0VXJpRW5jb2RlKGtleSkgKyAnPScgKyBzdHJpY3RVcmlFbmNvZGUodmFsKTtcblx0XHR9KS5maWx0ZXIoZnVuY3Rpb24gKHgpIHtcblx0XHRcdHJldHVybiB4Lmxlbmd0aCA+IDA7XG5cdFx0fSkuam9pbignJicpIDogJyc7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDczICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX3JvdXRlcldhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXHRcblx0dmFyIF9JbnRlcm5hbFByb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8qKlxuXHQgKiBBIG1peGluIHRoYXQgYWRkcyB0aGUgXCJoaXN0b3J5XCIgaW5zdGFuY2UgdmFyaWFibGUgdG8gY29tcG9uZW50cy5cblx0ICovXG5cdHZhciBIaXN0b3J5ID0ge1xuXHRcblx0ICBjb250ZXh0VHlwZXM6IHtcblx0ICAgIGhpc3Rvcnk6IF9JbnRlcm5hbFByb3BUeXBlcy5oaXN0b3J5XG5cdCAgfSxcblx0XG5cdCAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG5cdCAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ3RoZSBgSGlzdG9yeWAgbWl4aW4gaXMgZGVwcmVjYXRlZCwgcGxlYXNlIGFjY2VzcyBgY29udGV4dC5yb3V0ZXJgIHdpdGggeW91ciBvd24gYGNvbnRleHRUeXBlc2AuIGh0dHA6Ly90aW55LmNjL3JvdXRlci1oaXN0b3J5bWl4aW4nKSA6IHZvaWQgMDtcblx0ICAgIHRoaXMuaGlzdG9yeSA9IHRoaXMuY29udGV4dC5oaXN0b3J5O1xuXHQgIH1cblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEhpc3Rvcnk7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKSkpXG5cbi8qKiovIH0sXG4vKiA3NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9MaW5rID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG5cdFxuXHR2YXIgX0xpbmsyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTGluayk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0LyoqXG5cdCAqIEFuIDxJbmRleExpbms+IGlzIHVzZWQgdG8gbGluayB0byBhbiA8SW5kZXhSb3V0ZT4uXG5cdCAqL1xuXHR2YXIgSW5kZXhMaW5rID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUNsYXNzKHtcblx0ICBkaXNwbGF5TmFtZTogJ0luZGV4TGluaycsXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0xpbmsyLmRlZmF1bHQsIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB7IG9ubHlBY3RpdmVPbkluZGV4OiB0cnVlIH0pKTtcblx0ICB9XG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gSW5kZXhMaW5rO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDc1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfcm91dGVyV2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3V0ZXJXYXJuaW5nKTtcblx0XG5cdHZhciBfaW52YXJpYW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cdFxuXHR2YXIgX1JlZGlyZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cdFxuXHR2YXIgX1JlZGlyZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlZGlyZWN0KTtcblx0XG5cdHZhciBfSW50ZXJuYWxQcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX1JlYWN0JFByb3BUeXBlcyA9IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXM7XG5cdHZhciBzdHJpbmcgPSBfUmVhY3QkUHJvcFR5cGVzLnN0cmluZztcblx0dmFyIG9iamVjdCA9IF9SZWFjdCRQcm9wVHlwZXMub2JqZWN0O1xuXHRcblx0LyoqXG5cdCAqIEFuIDxJbmRleFJlZGlyZWN0PiBpcyB1c2VkIHRvIHJlZGlyZWN0IGZyb20gYW4gaW5kZXhSb3V0ZS5cblx0ICovXG5cdFxuXHR2YXIgSW5kZXhSZWRpcmVjdCA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVDbGFzcyh7XG5cdCAgZGlzcGxheU5hbWU6ICdJbmRleFJlZGlyZWN0Jyxcblx0XG5cdFxuXHQgIHN0YXRpY3M6IHtcblx0ICAgIGNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudDogZnVuY3Rpb24gY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50KGVsZW1lbnQsIHBhcmVudFJvdXRlKSB7XG5cdCAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlOiBzYW5pdHkgY2hlY2sgKi9cblx0ICAgICAgaWYgKHBhcmVudFJvdXRlKSB7XG5cdCAgICAgICAgcGFyZW50Um91dGUuaW5kZXhSb3V0ZSA9IF9SZWRpcmVjdDIuZGVmYXVsdC5jcmVhdGVSb3V0ZUZyb21SZWFjdEVsZW1lbnQoZWxlbWVudCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdBbiA8SW5kZXhSZWRpcmVjdD4gZG9lcyBub3QgbWFrZSBzZW5zZSBhdCB0aGUgcm9vdCBvZiB5b3VyIHJvdXRlIGNvbmZpZycpIDogdm9pZCAwO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblx0XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICB0bzogc3RyaW5nLmlzUmVxdWlyZWQsXG5cdCAgICBxdWVyeTogb2JqZWN0LFxuXHQgICAgc3RhdGU6IG9iamVjdCxcblx0ICAgIG9uRW50ZXI6IF9JbnRlcm5hbFByb3BUeXBlcy5mYWxzeSxcblx0ICAgIGNoaWxkcmVuOiBfSW50ZXJuYWxQcm9wVHlwZXMuZmFsc3lcblx0ICB9LFxuXHRcblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogc2FuaXR5IGNoZWNrICovXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgdHJ1ZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UsICc8SW5kZXhSZWRpcmVjdD4gZWxlbWVudHMgYXJlIGZvciByb3V0ZXIgY29uZmlndXJhdGlvbiBvbmx5IGFuZCBzaG91bGQgbm90IGJlIHJlbmRlcmVkJykgOiAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UpIDogdm9pZCAwO1xuXHQgIH1cblx0fSk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBJbmRleFJlZGlyZWN0O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkpKVxuXG4vKioqLyB9LFxuLyogNzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JvdXRlcldhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXHRcblx0dmFyIF9pbnZhcmlhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblx0XG5cdHZhciBfUm91dGVVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX0ludGVybmFsUHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIGZ1bmMgPSBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLmZ1bmM7XG5cdFxuXHQvKipcblx0ICogQW4gPEluZGV4Um91dGU+IGlzIHVzZWQgdG8gc3BlY2lmeSBpdHMgcGFyZW50J3MgPFJvdXRlIGluZGV4Um91dGU+IGluXG5cdCAqIGEgSlNYIHJvdXRlIGNvbmZpZy5cblx0ICovXG5cdFxuXHR2YXIgSW5kZXhSb3V0ZSA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVDbGFzcyh7XG5cdCAgZGlzcGxheU5hbWU6ICdJbmRleFJvdXRlJyxcblx0XG5cdFxuXHQgIHN0YXRpY3M6IHtcblx0ICAgIGNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudDogZnVuY3Rpb24gY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50KGVsZW1lbnQsIHBhcmVudFJvdXRlKSB7XG5cdCAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlOiBzYW5pdHkgY2hlY2sgKi9cblx0ICAgICAgaWYgKHBhcmVudFJvdXRlKSB7XG5cdCAgICAgICAgcGFyZW50Um91dGUuaW5kZXhSb3V0ZSA9ICgwLCBfUm91dGVVdGlscy5jcmVhdGVSb3V0ZUZyb21SZWFjdEVsZW1lbnQpKGVsZW1lbnQpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKGZhbHNlLCAnQW4gPEluZGV4Um91dGU+IGRvZXMgbm90IG1ha2Ugc2Vuc2UgYXQgdGhlIHJvb3Qgb2YgeW91ciByb3V0ZSBjb25maWcnKSA6IHZvaWQgMDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdFxuXHQgIHByb3BUeXBlczoge1xuXHQgICAgcGF0aDogX0ludGVybmFsUHJvcFR5cGVzLmZhbHN5LFxuXHQgICAgY29tcG9uZW50OiBfSW50ZXJuYWxQcm9wVHlwZXMuY29tcG9uZW50LFxuXHQgICAgY29tcG9uZW50czogX0ludGVybmFsUHJvcFR5cGVzLmNvbXBvbmVudHMsXG5cdCAgICBnZXRDb21wb25lbnQ6IGZ1bmMsXG5cdCAgICBnZXRDb21wb25lbnRzOiBmdW5jXG5cdCAgfSxcblx0XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IHNhbml0eSBjaGVjayAqL1xuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgIHRydWUgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlLCAnPEluZGV4Um91dGU+IGVsZW1lbnRzIGFyZSBmb3Igcm91dGVyIGNvbmZpZ3VyYXRpb24gb25seSBhbmQgc2hvdWxkIG5vdCBiZSByZW5kZXJlZCcpIDogKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlKSA6IHZvaWQgMDtcblx0ICB9XG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gSW5kZXhSb3V0ZTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKSlcblxuLyoqKi8gfSxcbi8qIDc3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX3JvdXRlcldhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfaW52YXJpYW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIG9iamVjdCA9IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMub2JqZWN0O1xuXHRcblx0LyoqXG5cdCAqIFRoZSBMaWZlY3ljbGUgbWl4aW4gYWRkcyB0aGUgcm91dGVyV2lsbExlYXZlIGxpZmVjeWNsZSBtZXRob2QgdG8gYVxuXHQgKiBjb21wb25lbnQgdGhhdCBtYXkgYmUgdXNlZCB0byBjYW5jZWwgYSB0cmFuc2l0aW9uIG9yIHByb21wdCB0aGUgdXNlclxuXHQgKiBmb3IgY29uZmlybWF0aW9uLlxuXHQgKlxuXHQgKiBPbiBzdGFuZGFyZCB0cmFuc2l0aW9ucywgcm91dGVyV2lsbExlYXZlIHJlY2VpdmVzIGEgc2luZ2xlIGFyZ3VtZW50OiB0aGVcblx0ICogbG9jYXRpb24gd2UncmUgdHJhbnNpdGlvbmluZyB0by4gVG8gY2FuY2VsIHRoZSB0cmFuc2l0aW9uLCByZXR1cm4gZmFsc2UuXG5cdCAqIFRvIHByb21wdCB0aGUgdXNlciBmb3IgY29uZmlybWF0aW9uLCByZXR1cm4gYSBwcm9tcHQgbWVzc2FnZSAoc3RyaW5nKS5cblx0ICpcblx0ICogRHVyaW5nIHRoZSBiZWZvcmV1bmxvYWQgZXZlbnQgKGFzc3VtaW5nIHlvdSdyZSB1c2luZyB0aGUgdXNlQmVmb3JlVW5sb2FkXG5cdCAqIGhpc3RvcnkgZW5oYW5jZXIpLCByb3V0ZXJXaWxsTGVhdmUgZG9lcyBub3QgcmVjZWl2ZSBhIGxvY2F0aW9uIG9iamVjdFxuXHQgKiBiZWNhdXNlIGl0IGlzbid0IHBvc3NpYmxlIGZvciB1cyB0byBrbm93IHRoZSBsb2NhdGlvbiB3ZSdyZSB0cmFuc2l0aW9uaW5nXG5cdCAqIHRvLiBJbiB0aGlzIGNhc2Ugcm91dGVyV2lsbExlYXZlIG11c3QgcmV0dXJuIGEgcHJvbXB0IG1lc3NhZ2UgdG8gcHJldmVudFxuXHQgKiB0aGUgdXNlciBmcm9tIGNsb3NpbmcgdGhlIHdpbmRvdy90YWIuXG5cdCAqL1xuXHRcblx0dmFyIExpZmVjeWNsZSA9IHtcblx0XG5cdCAgY29udGV4dFR5cGVzOiB7XG5cdCAgICBoaXN0b3J5OiBvYmplY3QuaXNSZXF1aXJlZCxcblx0ICAgIC8vIE5lc3RlZCBjaGlsZHJlbiByZWNlaXZlIHRoZSByb3V0ZSBhcyBjb250ZXh0LCBlaXRoZXJcblx0ICAgIC8vIHNldCBieSB0aGUgcm91dGUgY29tcG9uZW50IHVzaW5nIHRoZSBSb3V0ZUNvbnRleHQgbWl4aW5cblx0ICAgIC8vIG9yIGJ5IHNvbWUgb3RoZXIgYW5jZXN0b3IuXG5cdCAgICByb3V0ZTogb2JqZWN0XG5cdCAgfSxcblx0XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICAvLyBSb3V0ZSBjb21wb25lbnRzIHJlY2VpdmUgdGhlIHJvdXRlIG9iamVjdCBhcyBhIHByb3AuXG5cdCAgICByb3V0ZTogb2JqZWN0XG5cdCAgfSxcblx0XG5cdCAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICd0aGUgYExpZmVjeWNsZWAgbWl4aW4gaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBgY29udGV4dC5yb3V0ZXIuc2V0Um91dGVMZWF2ZUhvb2socm91dGUsIGhvb2spYC4gaHR0cDovL3RpbnkuY2Mvcm91dGVyLWxpZmVjeWNsZW1peGluJykgOiB2b2lkIDA7XG5cdCAgICAhdGhpcy5yb3V0ZXJXaWxsTGVhdmUgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlLCAnVGhlIExpZmVjeWNsZSBtaXhpbiByZXF1aXJlcyB5b3UgdG8gZGVmaW5lIGEgcm91dGVyV2lsbExlYXZlIG1ldGhvZCcpIDogKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlKSA6IHZvaWQgMDtcblx0XG5cdCAgICB2YXIgcm91dGUgPSB0aGlzLnByb3BzLnJvdXRlIHx8IHRoaXMuY29udGV4dC5yb3V0ZTtcblx0XG5cdCAgICAhcm91dGUgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlLCAnVGhlIExpZmVjeWNsZSBtaXhpbiBtdXN0IGJlIHVzZWQgb24gZWl0aGVyIGEpIGEgPFJvdXRlIGNvbXBvbmVudD4gb3IgJyArICdiKSBhIGRlc2NlbmRhbnQgb2YgYSA8Um91dGUgY29tcG9uZW50PiB0aGF0IHVzZXMgdGhlIFJvdXRlQ29udGV4dCBtaXhpbicpIDogKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlKSA6IHZvaWQgMDtcblx0XG5cdCAgICB0aGlzLl91bmxpc3RlbkJlZm9yZUxlYXZpbmdSb3V0ZSA9IHRoaXMuY29udGV4dC5oaXN0b3J5Lmxpc3RlbkJlZm9yZUxlYXZpbmdSb3V0ZShyb3V0ZSwgdGhpcy5yb3V0ZXJXaWxsTGVhdmUpO1xuXHQgIH0sXG5cdCAgY29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgaWYgKHRoaXMuX3VubGlzdGVuQmVmb3JlTGVhdmluZ1JvdXRlKSB0aGlzLl91bmxpc3RlbkJlZm9yZUxlYXZpbmdSb3V0ZSgpO1xuXHQgIH1cblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IExpZmVjeWNsZTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKSlcblxuLyoqKi8gfSxcbi8qIDc4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9pbnZhcmlhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblx0XG5cdHZhciBfUm91dGVVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX0ludGVybmFsUHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIF9SZWFjdCRQcm9wVHlwZXMgPSBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzO1xuXHR2YXIgc3RyaW5nID0gX1JlYWN0JFByb3BUeXBlcy5zdHJpbmc7XG5cdHZhciBmdW5jID0gX1JlYWN0JFByb3BUeXBlcy5mdW5jO1xuXHRcblx0LyoqXG5cdCAqIEEgPFJvdXRlPiBpcyB1c2VkIHRvIGRlY2xhcmUgd2hpY2ggY29tcG9uZW50cyBhcmUgcmVuZGVyZWQgdG8gdGhlXG5cdCAqIHBhZ2Ugd2hlbiB0aGUgVVJMIG1hdGNoZXMgYSBnaXZlbiBwYXR0ZXJuLlxuXHQgKlxuXHQgKiBSb3V0ZXMgYXJlIGFycmFuZ2VkIGluIGEgbmVzdGVkIHRyZWUgc3RydWN0dXJlLiBXaGVuIGEgbmV3IFVSTCBpc1xuXHQgKiByZXF1ZXN0ZWQsIHRoZSB0cmVlIGlzIHNlYXJjaGVkIGRlcHRoLWZpcnN0IHRvIGZpbmQgYSByb3V0ZSB3aG9zZVxuXHQgKiBwYXRoIG1hdGNoZXMgdGhlIFVSTC4gIFdoZW4gb25lIGlzIGZvdW5kLCBhbGwgcm91dGVzIGluIHRoZSB0cmVlXG5cdCAqIHRoYXQgbGVhZCB0byBpdCBhcmUgY29uc2lkZXJlZCBcImFjdGl2ZVwiIGFuZCB0aGVpciBjb21wb25lbnRzIGFyZVxuXHQgKiByZW5kZXJlZCBpbnRvIHRoZSBET00sIG5lc3RlZCBpbiB0aGUgc2FtZSBvcmRlciBhcyBpbiB0aGUgdHJlZS5cblx0ICovXG5cdFxuXHR2YXIgUm91dGUgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3Moe1xuXHQgIGRpc3BsYXlOYW1lOiAnUm91dGUnLFxuXHRcblx0XG5cdCAgc3RhdGljczoge1xuXHQgICAgY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50OiBfUm91dGVVdGlscy5jcmVhdGVSb3V0ZUZyb21SZWFjdEVsZW1lbnRcblx0ICB9LFxuXHRcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIHBhdGg6IHN0cmluZyxcblx0ICAgIGNvbXBvbmVudDogX0ludGVybmFsUHJvcFR5cGVzLmNvbXBvbmVudCxcblx0ICAgIGNvbXBvbmVudHM6IF9JbnRlcm5hbFByb3BUeXBlcy5jb21wb25lbnRzLFxuXHQgICAgZ2V0Q29tcG9uZW50OiBmdW5jLFxuXHQgICAgZ2V0Q29tcG9uZW50czogZnVuY1xuXHQgIH0sXG5cdFxuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBzYW5pdHkgY2hlY2sgKi9cblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICB0cnVlID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSwgJzxSb3V0ZT4gZWxlbWVudHMgYXJlIGZvciByb3V0ZXIgY29uZmlndXJhdGlvbiBvbmx5IGFuZCBzaG91bGQgbm90IGJlIHJlbmRlcmVkJykgOiAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UpIDogdm9pZCAwO1xuXHQgIH1cblx0fSk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBSb3V0ZTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKSlcblxuLyoqKi8gfSxcbi8qIDc5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX3JvdXRlcldhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgb2JqZWN0ID0gX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5vYmplY3Q7XG5cdFxuXHQvKipcblx0ICogVGhlIFJvdXRlQ29udGV4dCBtaXhpbiBwcm92aWRlcyBhIGNvbnZlbmllbnQgd2F5IGZvciByb3V0ZVxuXHQgKiBjb21wb25lbnRzIHRvIHNldCB0aGUgcm91dGUgaW4gY29udGV4dC4gVGhpcyBpcyBuZWVkZWQgZm9yXG5cdCAqIHJvdXRlcyB0aGF0IHJlbmRlciBlbGVtZW50cyB0aGF0IHdhbnQgdG8gdXNlIHRoZSBMaWZlY3ljbGVcblx0ICogbWl4aW4gdG8gcHJldmVudCB0cmFuc2l0aW9ucy5cblx0ICovXG5cdFxuXHR2YXIgUm91dGVDb250ZXh0ID0ge1xuXHRcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIHJvdXRlOiBvYmplY3QuaXNSZXF1aXJlZFxuXHQgIH0sXG5cdFxuXHQgIGNoaWxkQ29udGV4dFR5cGVzOiB7XG5cdCAgICByb3V0ZTogb2JqZWN0LmlzUmVxdWlyZWRcblx0ICB9LFxuXHRcblx0ICBnZXRDaGlsZENvbnRleHQ6IGZ1bmN0aW9uIGdldENoaWxkQ29udGV4dCgpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHJvdXRlOiB0aGlzLnByb3BzLnJvdXRlXG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG5cdCAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ1RoZSBgUm91dGVDb250ZXh0YCBtaXhpbiBpcyBkZXByZWNhdGVkLiBZb3UgY2FuIHByb3ZpZGUgYHRoaXMucHJvcHMucm91dGVgIG9uIGNvbnRleHQgd2l0aCB5b3VyIG93biBgY29udGV4dFR5cGVzYC4gaHR0cDovL3RpbnkuY2Mvcm91dGVyLXJvdXRlY29udGV4dG1peGluJykgOiB2b2lkIDA7XG5cdCAgfVxuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gUm91dGVDb250ZXh0O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkpKVxuXG4vKioqLyB9LFxuLyogODAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX2NyZWF0ZUhhc2hIaXN0b3J5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUhhc2hIaXN0b3J5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUhhc2hIaXN0b3J5KTtcblx0XG5cdHZhciBfdXNlUXVlcmllcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXHRcblx0dmFyIF91c2VRdWVyaWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VzZVF1ZXJpZXMpO1xuXHRcblx0dmFyIF9pbnZhcmlhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCk7XG5cdFxuXHR2YXIgX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKTtcblx0XG5cdHZhciBfSW50ZXJuYWxQcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblx0XG5cdHZhciBfUm91dGVyQ29udGV4dCA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXHRcblx0dmFyIF9Sb3V0ZXJDb250ZXh0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JvdXRlckNvbnRleHQpO1xuXHRcblx0dmFyIF9Sb3V0ZVV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfUm91dGVyVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KTtcblx0XG5cdHZhciBfcm91dGVyV2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX3JvdXRlcldhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm91dGVyV2FybmluZyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykgeyB2YXIgdGFyZ2V0ID0ge307IGZvciAodmFyIGkgaW4gb2JqKSB7IGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlOyB0YXJnZXRbaV0gPSBvYmpbaV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXHRcblx0ZnVuY3Rpb24gaXNEZXByZWNhdGVkSGlzdG9yeShoaXN0b3J5KSB7XG5cdCAgcmV0dXJuICFoaXN0b3J5IHx8ICFoaXN0b3J5Ll9fdjJfY29tcGF0aWJsZV9fO1xuXHR9XG5cdFxuXHQvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogc2FuaXR5IGNoZWNrICovXG5cdGZ1bmN0aW9uIGlzVW5zdXBwb3J0ZWRIaXN0b3J5KGhpc3RvcnkpIHtcblx0ICAvLyB2MyBoaXN0b3JpZXMgZXhwb3NlIGdldEN1cnJlbnRMb2NhdGlvbiwgYnV0IGFyZW4ndCBjdXJyZW50bHkgc3VwcG9ydGVkLlxuXHQgIHJldHVybiBoaXN0b3J5ICYmIGhpc3RvcnkuZ2V0Q3VycmVudExvY2F0aW9uO1xuXHR9XG5cdFxuXHR2YXIgX1JlYWN0JFByb3BUeXBlcyA9IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXM7XG5cdHZhciBmdW5jID0gX1JlYWN0JFByb3BUeXBlcy5mdW5jO1xuXHR2YXIgb2JqZWN0ID0gX1JlYWN0JFByb3BUeXBlcy5vYmplY3Q7XG5cdFxuXHQvKipcblx0ICogQSA8Um91dGVyPiBpcyBhIGhpZ2gtbGV2ZWwgQVBJIGZvciBhdXRvbWF0aWNhbGx5IHNldHRpbmcgdXBcblx0ICogYSByb3V0ZXIgdGhhdCByZW5kZXJzIGEgPFJvdXRlckNvbnRleHQ+IHdpdGggYWxsIHRoZSBwcm9wc1xuXHQgKiBpdCBuZWVkcyBlYWNoIHRpbWUgdGhlIFVSTCBjaGFuZ2VzLlxuXHQgKi9cblx0XG5cdHZhciBSb3V0ZXIgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3Moe1xuXHQgIGRpc3BsYXlOYW1lOiAnUm91dGVyJyxcblx0XG5cdFxuXHQgIHByb3BUeXBlczoge1xuXHQgICAgaGlzdG9yeTogb2JqZWN0LFxuXHQgICAgY2hpbGRyZW46IF9JbnRlcm5hbFByb3BUeXBlcy5yb3V0ZXMsXG5cdCAgICByb3V0ZXM6IF9JbnRlcm5hbFByb3BUeXBlcy5yb3V0ZXMsIC8vIGFsaWFzIGZvciBjaGlsZHJlblxuXHQgICAgcmVuZGVyOiBmdW5jLFxuXHQgICAgY3JlYXRlRWxlbWVudDogZnVuYyxcblx0ICAgIG9uRXJyb3I6IGZ1bmMsXG5cdCAgICBvblVwZGF0ZTogZnVuYyxcblx0XG5cdCAgICAvLyBEZXByZWNhdGVkOlxuXHQgICAgcGFyc2VRdWVyeVN0cmluZzogZnVuYyxcblx0ICAgIHN0cmluZ2lmeVF1ZXJ5OiBmdW5jLFxuXHRcblx0ICAgIC8vIFBSSVZBVEU6IEZvciBjbGllbnQtc2lkZSByZWh5ZHJhdGlvbiBvZiBzZXJ2ZXIgbWF0Y2guXG5cdCAgICBtYXRjaENvbnRleHQ6IG9iamVjdFxuXHQgIH0sXG5cdFxuXHQgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIocHJvcHMpIHtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1JvdXRlckNvbnRleHQyLmRlZmF1bHQsIHByb3BzKTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgbG9jYXRpb246IG51bGwsXG5cdCAgICAgIHJvdXRlczogbnVsbCxcblx0ICAgICAgcGFyYW1zOiBudWxsLFxuXHQgICAgICBjb21wb25lbnRzOiBudWxsXG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgaGFuZGxlRXJyb3I6IGZ1bmN0aW9uIGhhbmRsZUVycm9yKGVycm9yKSB7XG5cdCAgICBpZiAodGhpcy5wcm9wcy5vbkVycm9yKSB7XG5cdCAgICAgIHRoaXMucHJvcHMub25FcnJvci5jYWxsKHRoaXMsIGVycm9yKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIC8vIFRocm93IGVycm9ycyBieSBkZWZhdWx0IHNvIHdlIGRvbid0IHNpbGVudGx5IHN3YWxsb3cgdGhlbSFcblx0ICAgICAgdGhyb3cgZXJyb3I7IC8vIFRoaXMgZXJyb3IgcHJvYmFibHkgb2NjdXJyZWQgaW4gZ2V0Q2hpbGRSb3V0ZXMgb3IgZ2V0Q29tcG9uZW50cy5cblx0ICAgIH1cblx0ICB9LFxuXHQgIGNvbXBvbmVudFdpbGxNb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBwYXJzZVF1ZXJ5U3RyaW5nID0gX3Byb3BzLnBhcnNlUXVlcnlTdHJpbmc7XG5cdCAgICB2YXIgc3RyaW5naWZ5UXVlcnkgPSBfcHJvcHMuc3RyaW5naWZ5UXVlcnk7XG5cdFxuXHQgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoIShwYXJzZVF1ZXJ5U3RyaW5nIHx8IHN0cmluZ2lmeVF1ZXJ5KSwgJ2BwYXJzZVF1ZXJ5U3RyaW5nYCBhbmQgYHN0cmluZ2lmeVF1ZXJ5YCBhcmUgZGVwcmVjYXRlZC4gUGxlYXNlIGNyZWF0ZSBhIGN1c3RvbSBoaXN0b3J5LiBodHRwOi8vdGlueS5jYy9yb3V0ZXItY3VzdG9tcXVlcnlzdHJpbmcnKSA6IHZvaWQgMDtcblx0XG5cdCAgICB2YXIgX2NyZWF0ZVJvdXRlck9iamVjdHMgPSB0aGlzLmNyZWF0ZVJvdXRlck9iamVjdHMoKTtcblx0XG5cdCAgICB2YXIgaGlzdG9yeSA9IF9jcmVhdGVSb3V0ZXJPYmplY3RzLmhpc3Rvcnk7XG5cdCAgICB2YXIgdHJhbnNpdGlvbk1hbmFnZXIgPSBfY3JlYXRlUm91dGVyT2JqZWN0cy50cmFuc2l0aW9uTWFuYWdlcjtcblx0ICAgIHZhciByb3V0ZXIgPSBfY3JlYXRlUm91dGVyT2JqZWN0cy5yb3V0ZXI7XG5cdFxuXHRcblx0ICAgIHRoaXMuX3VubGlzdGVuID0gdHJhbnNpdGlvbk1hbmFnZXIubGlzdGVuKGZ1bmN0aW9uIChlcnJvciwgc3RhdGUpIHtcblx0ICAgICAgaWYgKGVycm9yKSB7XG5cdCAgICAgICAgX3RoaXMuaGFuZGxlRXJyb3IoZXJyb3IpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIF90aGlzLnNldFN0YXRlKHN0YXRlLCBfdGhpcy5wcm9wcy5vblVwZGF0ZSk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHRcblx0ICAgIHRoaXMuaGlzdG9yeSA9IGhpc3Rvcnk7XG5cdCAgICB0aGlzLnJvdXRlciA9IHJvdXRlcjtcblx0ICB9LFxuXHQgIGNyZWF0ZVJvdXRlck9iamVjdHM6IGZ1bmN0aW9uIGNyZWF0ZVJvdXRlck9iamVjdHMoKSB7XG5cdCAgICB2YXIgbWF0Y2hDb250ZXh0ID0gdGhpcy5wcm9wcy5tYXRjaENvbnRleHQ7XG5cdFxuXHQgICAgaWYgKG1hdGNoQ29udGV4dCkge1xuXHQgICAgICByZXR1cm4gbWF0Y2hDb250ZXh0O1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBoaXN0b3J5ID0gdGhpcy5wcm9wcy5oaXN0b3J5O1xuXHQgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIHJvdXRlcyA9IF9wcm9wczIucm91dGVzO1xuXHQgICAgdmFyIGNoaWxkcmVuID0gX3Byb3BzMi5jaGlsZHJlbjtcblx0XG5cdFxuXHQgICAgISFpc1Vuc3VwcG9ydGVkSGlzdG9yeShoaXN0b3J5KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UsICdZb3UgaGF2ZSBwcm92aWRlZCBhIGhpc3Rvcnkgb2JqZWN0IGNyZWF0ZWQgd2l0aCBoaXN0b3J5IHYzLnguICcgKyAnVGhpcyB2ZXJzaW9uIG9mIFJlYWN0IFJvdXRlciBpcyBub3QgY29tcGF0aWJsZSB3aXRoIHYzIGhpc3RvcnkgJyArICdvYmplY3RzLiBQbGVhc2UgdXNlIGhpc3RvcnkgdjIueCBpbnN0ZWFkLicpIDogKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlKSA6IHZvaWQgMDtcblx0XG5cdCAgICBpZiAoaXNEZXByZWNhdGVkSGlzdG9yeShoaXN0b3J5KSkge1xuXHQgICAgICBoaXN0b3J5ID0gdGhpcy53cmFwRGVwcmVjYXRlZEhpc3RvcnkoaGlzdG9yeSk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHRyYW5zaXRpb25NYW5hZ2VyID0gKDAsIF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcjIuZGVmYXVsdCkoaGlzdG9yeSwgKDAsIF9Sb3V0ZVV0aWxzLmNyZWF0ZVJvdXRlcykocm91dGVzIHx8IGNoaWxkcmVuKSk7XG5cdCAgICB2YXIgcm91dGVyID0gKDAsIF9Sb3V0ZXJVdGlscy5jcmVhdGVSb3V0ZXJPYmplY3QpKGhpc3RvcnksIHRyYW5zaXRpb25NYW5hZ2VyKTtcblx0ICAgIHZhciByb3V0aW5nSGlzdG9yeSA9ICgwLCBfUm91dGVyVXRpbHMuY3JlYXRlUm91dGluZ0hpc3RvcnkpKGhpc3RvcnksIHRyYW5zaXRpb25NYW5hZ2VyKTtcblx0XG5cdCAgICByZXR1cm4geyBoaXN0b3J5OiByb3V0aW5nSGlzdG9yeSwgdHJhbnNpdGlvbk1hbmFnZXI6IHRyYW5zaXRpb25NYW5hZ2VyLCByb3V0ZXI6IHJvdXRlciB9O1xuXHQgIH0sXG5cdCAgd3JhcERlcHJlY2F0ZWRIaXN0b3J5OiBmdW5jdGlvbiB3cmFwRGVwcmVjYXRlZEhpc3RvcnkoaGlzdG9yeSkge1xuXHQgICAgdmFyIF9wcm9wczMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIHBhcnNlUXVlcnlTdHJpbmcgPSBfcHJvcHMzLnBhcnNlUXVlcnlTdHJpbmc7XG5cdCAgICB2YXIgc3RyaW5naWZ5UXVlcnkgPSBfcHJvcHMzLnN0cmluZ2lmeVF1ZXJ5O1xuXHRcblx0XG5cdCAgICB2YXIgY3JlYXRlSGlzdG9yeSA9IHZvaWQgMDtcblx0ICAgIGlmIChoaXN0b3J5KSB7XG5cdCAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKGZhbHNlLCAnSXQgYXBwZWFycyB5b3UgaGF2ZSBwcm92aWRlZCBhIGRlcHJlY2F0ZWQgaGlzdG9yeSBvYmplY3QgdG8gYDxSb3V0ZXIvPmAsIHBsZWFzZSB1c2UgYSBoaXN0b3J5IHByb3ZpZGVkIGJ5ICcgKyAnUmVhY3QgUm91dGVyIHdpdGggYGltcG9ydCB7IGJyb3dzZXJIaXN0b3J5IH0gZnJvbSBcXCdyZWFjdC1yb3V0ZXJcXCdgIG9yIGBpbXBvcnQgeyBoYXNoSGlzdG9yeSB9IGZyb20gXFwncmVhY3Qtcm91dGVyXFwnYC4gJyArICdJZiB5b3UgYXJlIHVzaW5nIGEgY3VzdG9tIGhpc3RvcnkgcGxlYXNlIGNyZWF0ZSBpdCB3aXRoIGB1c2VSb3V0ZXJIaXN0b3J5YCwgc2VlIGh0dHA6Ly90aW55LmNjL3JvdXRlci11c2luZ2hpc3RvcnkgZm9yIGRldGFpbHMuJykgOiB2b2lkIDA7XG5cdCAgICAgIGNyZWF0ZUhpc3RvcnkgPSBmdW5jdGlvbiBjcmVhdGVIaXN0b3J5KCkge1xuXHQgICAgICAgIHJldHVybiBoaXN0b3J5O1xuXHQgICAgICB9O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdgUm91dGVyYCBubyBsb25nZXIgZGVmYXVsdHMgdGhlIGhpc3RvcnkgcHJvcCB0byBoYXNoIGhpc3RvcnkuIFBsZWFzZSB1c2UgdGhlIGBoYXNoSGlzdG9yeWAgc2luZ2xldG9uIGluc3RlYWQuIGh0dHA6Ly90aW55LmNjL3JvdXRlci1kZWZhdWx0aGlzdG9yeScpIDogdm9pZCAwO1xuXHQgICAgICBjcmVhdGVIaXN0b3J5ID0gX2NyZWF0ZUhhc2hIaXN0b3J5Mi5kZWZhdWx0O1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiAoMCwgX3VzZVF1ZXJpZXMyLmRlZmF1bHQpKGNyZWF0ZUhpc3RvcnkpKHsgcGFyc2VRdWVyeVN0cmluZzogcGFyc2VRdWVyeVN0cmluZywgc3RyaW5naWZ5UXVlcnk6IHN0cmluZ2lmeVF1ZXJ5IH0pO1xuXHQgIH0sXG5cdFxuXHRcblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogc2FuaXR5IGNoZWNrICovXG5cdCAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0ICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKG5leHRQcm9wcy5oaXN0b3J5ID09PSB0aGlzLnByb3BzLmhpc3RvcnksICdZb3UgY2Fubm90IGNoYW5nZSA8Um91dGVyIGhpc3Rvcnk+OyBpdCB3aWxsIGJlIGlnbm9yZWQnKSA6IHZvaWQgMDtcblx0XG5cdCAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KSgobmV4dFByb3BzLnJvdXRlcyB8fCBuZXh0UHJvcHMuY2hpbGRyZW4pID09PSAodGhpcy5wcm9wcy5yb3V0ZXMgfHwgdGhpcy5wcm9wcy5jaGlsZHJlbiksICdZb3UgY2Fubm90IGNoYW5nZSA8Um91dGVyIHJvdXRlcz47IGl0IHdpbGwgYmUgaWdub3JlZCcpIDogdm9pZCAwO1xuXHQgIH0sXG5cdCAgY29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgaWYgKHRoaXMuX3VubGlzdGVuKSB0aGlzLl91bmxpc3RlbigpO1xuXHQgIH0sXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZTtcblx0ICAgIHZhciBsb2NhdGlvbiA9IF9zdGF0ZS5sb2NhdGlvbjtcblx0ICAgIHZhciByb3V0ZXMgPSBfc3RhdGUucm91dGVzO1xuXHQgICAgdmFyIHBhcmFtcyA9IF9zdGF0ZS5wYXJhbXM7XG5cdCAgICB2YXIgY29tcG9uZW50cyA9IF9zdGF0ZS5jb21wb25lbnRzO1xuXHQgICAgdmFyIF9wcm9wczQgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIGNyZWF0ZUVsZW1lbnQgPSBfcHJvcHM0LmNyZWF0ZUVsZW1lbnQ7XG5cdCAgICB2YXIgcmVuZGVyID0gX3Byb3BzNC5yZW5kZXI7XG5cdFxuXHQgICAgdmFyIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9wcm9wczQsIFsnY3JlYXRlRWxlbWVudCcsICdyZW5kZXInXSk7XG5cdFxuXHQgICAgaWYgKGxvY2F0aW9uID09IG51bGwpIHJldHVybiBudWxsOyAvLyBBc3luYyBtYXRjaFxuXHRcblx0ICAgIC8vIE9ubHkgZm9yd2FyZCBub24tUm91dGVyLXNwZWNpZmljIHByb3BzIHRvIHJvdXRpbmcgY29udGV4dCwgYXMgdGhvc2UgYXJlXG5cdCAgICAvLyB0aGUgb25seSBvbmVzIHRoYXQgbWlnaHQgYmUgY3VzdG9tIHJvdXRpbmcgY29udGV4dCBwcm9wcy5cblx0ICAgIE9iamVjdC5rZXlzKFJvdXRlci5wcm9wVHlwZXMpLmZvckVhY2goZnVuY3Rpb24gKHByb3BUeXBlKSB7XG5cdCAgICAgIHJldHVybiBkZWxldGUgcHJvcHNbcHJvcFR5cGVdO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgcmV0dXJuIHJlbmRlcihfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcblx0ICAgICAgaGlzdG9yeTogdGhpcy5oaXN0b3J5LFxuXHQgICAgICByb3V0ZXI6IHRoaXMucm91dGVyLFxuXHQgICAgICBsb2NhdGlvbjogbG9jYXRpb24sXG5cdCAgICAgIHJvdXRlczogcm91dGVzLFxuXHQgICAgICBwYXJhbXM6IHBhcmFtcyxcblx0ICAgICAgY29tcG9uZW50czogY29tcG9uZW50cyxcblx0ICAgICAgY3JlYXRlRWxlbWVudDogY3JlYXRlRWxlbWVudFxuXHQgICAgfSkpO1xuXHQgIH1cblx0fSk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBSb3V0ZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKSkpXG5cbi8qKiovIH0sXG4vKiA4MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfUm91dGVyQ29udGV4dCA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXHRcblx0dmFyIF9Sb3V0ZXJDb250ZXh0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JvdXRlckNvbnRleHQpO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfcm91dGVyV2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3V0ZXJXYXJuaW5nKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgUm91dGluZ0NvbnRleHQgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3Moe1xuXHQgIGRpc3BsYXlOYW1lOiAnUm91dGluZ0NvbnRleHQnLFxuXHQgIGNvbXBvbmVudFdpbGxNb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuXHQgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdgUm91dGluZ0NvbnRleHRgIGhhcyBiZWVuIHJlbmFtZWQgdG8gYFJvdXRlckNvbnRleHRgLiBQbGVhc2UgdXNlIGBpbXBvcnQgeyBSb3V0ZXJDb250ZXh0IH0gZnJvbSBcXCdyZWFjdC1yb3V0ZXJcXCdgLiBodHRwOi8vdGlueS5jYy9yb3V0ZXItcm91dGVyY29udGV4dCcpIDogdm9pZCAwO1xuXHQgIH0sXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1JvdXRlckNvbnRleHQyLmRlZmF1bHQsIHRoaXMucHJvcHMpO1xuXHQgIH1cblx0fSk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBSb3V0aW5nQ29udGV4dDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKSlcblxuLyoqKi8gfSxcbi8qIDgyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHMucnVuRW50ZXJIb29rcyA9IHJ1bkVudGVySG9va3M7XG5cdGV4cG9ydHMucnVuQ2hhbmdlSG9va3MgPSBydW5DaGFuZ2VIb29rcztcblx0ZXhwb3J0cy5ydW5MZWF2ZUhvb2tzID0gcnVuTGVhdmVIb29rcztcblx0XG5cdHZhciBfQXN5bmNVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfcm91dGVyV2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3V0ZXJXYXJuaW5nKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVUcmFuc2l0aW9uSG9vayhob29rLCByb3V0ZSwgYXN5bmNBcml0eSkge1xuXHQgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgfVxuXHRcblx0ICAgIGhvb2suYXBwbHkocm91dGUsIGFyZ3MpO1xuXHRcblx0ICAgIGlmIChob29rLmxlbmd0aCA8IGFzeW5jQXJpdHkpIHtcblx0ICAgICAgdmFyIGNhbGxiYWNrID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdO1xuXHQgICAgICAvLyBBc3N1bWUgaG9vayBleGVjdXRlcyBzeW5jaHJvbm91c2x5IGFuZFxuXHQgICAgICAvLyBhdXRvbWF0aWNhbGx5IGNhbGwgdGhlIGNhbGxiYWNrLlxuXHQgICAgICBjYWxsYmFjaygpO1xuXHQgICAgfVxuXHQgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldEVudGVySG9va3Mocm91dGVzKSB7XG5cdCAgcmV0dXJuIHJvdXRlcy5yZWR1Y2UoZnVuY3Rpb24gKGhvb2tzLCByb3V0ZSkge1xuXHQgICAgaWYgKHJvdXRlLm9uRW50ZXIpIGhvb2tzLnB1c2goY3JlYXRlVHJhbnNpdGlvbkhvb2socm91dGUub25FbnRlciwgcm91dGUsIDMpKTtcblx0XG5cdCAgICByZXR1cm4gaG9va3M7XG5cdCAgfSwgW10pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRDaGFuZ2VIb29rcyhyb3V0ZXMpIHtcblx0ICByZXR1cm4gcm91dGVzLnJlZHVjZShmdW5jdGlvbiAoaG9va3MsIHJvdXRlKSB7XG5cdCAgICBpZiAocm91dGUub25DaGFuZ2UpIGhvb2tzLnB1c2goY3JlYXRlVHJhbnNpdGlvbkhvb2socm91dGUub25DaGFuZ2UsIHJvdXRlLCA0KSk7XG5cdCAgICByZXR1cm4gaG9va3M7XG5cdCAgfSwgW10pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBydW5UcmFuc2l0aW9uSG9va3MobGVuZ3RoLCBpdGVyLCBjYWxsYmFjaykge1xuXHQgIGlmICghbGVuZ3RoKSB7XG5cdCAgICBjYWxsYmFjaygpO1xuXHQgICAgcmV0dXJuO1xuXHQgIH1cblx0XG5cdCAgdmFyIHJlZGlyZWN0SW5mbyA9IHZvaWQgMDtcblx0ICBmdW5jdGlvbiByZXBsYWNlKGxvY2F0aW9uLCBkZXByZWNhdGVkUGF0aG5hbWUsIGRlcHJlY2F0ZWRRdWVyeSkge1xuXHQgICAgaWYgKGRlcHJlY2F0ZWRQYXRobmFtZSkge1xuXHQgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ2ByZXBsYWNlU3RhdGUoc3RhdGUsIHBhdGhuYW1lLCBxdWVyeSkgaXMgZGVwcmVjYXRlZDsgdXNlIGByZXBsYWNlKGxvY2F0aW9uKWAgd2l0aCBhIGxvY2F0aW9uIGRlc2NyaXB0b3IgaW5zdGVhZC4gaHR0cDovL3RpbnkuY2Mvcm91dGVyLWlzQWN0aXZlZGVwcmVjYXRlZCcpIDogdm9pZCAwO1xuXHQgICAgICByZWRpcmVjdEluZm8gPSB7XG5cdCAgICAgICAgcGF0aG5hbWU6IGRlcHJlY2F0ZWRQYXRobmFtZSxcblx0ICAgICAgICBxdWVyeTogZGVwcmVjYXRlZFF1ZXJ5LFxuXHQgICAgICAgIHN0YXRlOiBsb2NhdGlvblxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHJlZGlyZWN0SW5mbyA9IGxvY2F0aW9uO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9Bc3luY1V0aWxzLmxvb3BBc3luYykobGVuZ3RoLCBmdW5jdGlvbiAoaW5kZXgsIG5leHQsIGRvbmUpIHtcblx0ICAgIGl0ZXIoaW5kZXgsIHJlcGxhY2UsIGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgICBpZiAoZXJyb3IgfHwgcmVkaXJlY3RJbmZvKSB7XG5cdCAgICAgICAgZG9uZShlcnJvciwgcmVkaXJlY3RJbmZvKTsgLy8gTm8gbmVlZCB0byBjb250aW51ZS5cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBuZXh0KCk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH0sIGNhbGxiYWNrKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFJ1bnMgYWxsIG9uRW50ZXIgaG9va3MgaW4gdGhlIGdpdmVuIGFycmF5IG9mIHJvdXRlcyBpbiBvcmRlclxuXHQgKiB3aXRoIG9uRW50ZXIobmV4dFN0YXRlLCByZXBsYWNlLCBjYWxsYmFjaykgYW5kIGNhbGxzXG5cdCAqIGNhbGxiYWNrKGVycm9yLCByZWRpcmVjdEluZm8pIHdoZW4gZmluaXNoZWQuIFRoZSBmaXJzdCBob29rXG5cdCAqIHRvIHVzZSByZXBsYWNlIHNob3J0LWNpcmN1aXRzIHRoZSBsb29wLlxuXHQgKlxuXHQgKiBJZiBhIGhvb2sgbmVlZHMgdG8gcnVuIGFzeW5jaHJvbm91c2x5LCBpdCBtYXkgdXNlIHRoZSBjYWxsYmFja1xuXHQgKiBmdW5jdGlvbi4gSG93ZXZlciwgZG9pbmcgc28gd2lsbCBjYXVzZSB0aGUgdHJhbnNpdGlvbiB0byBwYXVzZSxcblx0ICogd2hpY2ggY291bGQgbGVhZCB0byBhIG5vbi1yZXNwb25zaXZlIFVJIGlmIHRoZSBob29rIGlzIHNsb3cuXG5cdCAqL1xuXHRmdW5jdGlvbiBydW5FbnRlckhvb2tzKHJvdXRlcywgbmV4dFN0YXRlLCBjYWxsYmFjaykge1xuXHQgIHZhciBob29rcyA9IGdldEVudGVySG9va3Mocm91dGVzKTtcblx0ICByZXR1cm4gcnVuVHJhbnNpdGlvbkhvb2tzKGhvb2tzLmxlbmd0aCwgZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlLCBuZXh0KSB7XG5cdCAgICBob29rc1tpbmRleF0obmV4dFN0YXRlLCByZXBsYWNlLCBuZXh0KTtcblx0ICB9LCBjYWxsYmFjayk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBSdW5zIGFsbCBvbkNoYW5nZSBob29rcyBpbiB0aGUgZ2l2ZW4gYXJyYXkgb2Ygcm91dGVzIGluIG9yZGVyXG5cdCAqIHdpdGggb25DaGFuZ2UocHJldlN0YXRlLCBuZXh0U3RhdGUsIHJlcGxhY2UsIGNhbGxiYWNrKSBhbmQgY2FsbHNcblx0ICogY2FsbGJhY2soZXJyb3IsIHJlZGlyZWN0SW5mbykgd2hlbiBmaW5pc2hlZC4gVGhlIGZpcnN0IGhvb2tcblx0ICogdG8gdXNlIHJlcGxhY2Ugc2hvcnQtY2lyY3VpdHMgdGhlIGxvb3AuXG5cdCAqXG5cdCAqIElmIGEgaG9vayBuZWVkcyB0byBydW4gYXN5bmNocm9ub3VzbHksIGl0IG1heSB1c2UgdGhlIGNhbGxiYWNrXG5cdCAqIGZ1bmN0aW9uLiBIb3dldmVyLCBkb2luZyBzbyB3aWxsIGNhdXNlIHRoZSB0cmFuc2l0aW9uIHRvIHBhdXNlLFxuXHQgKiB3aGljaCBjb3VsZCBsZWFkIHRvIGEgbm9uLXJlc3BvbnNpdmUgVUkgaWYgdGhlIGhvb2sgaXMgc2xvdy5cblx0ICovXG5cdGZ1bmN0aW9uIHJ1bkNoYW5nZUhvb2tzKHJvdXRlcywgc3RhdGUsIG5leHRTdGF0ZSwgY2FsbGJhY2spIHtcblx0ICB2YXIgaG9va3MgPSBnZXRDaGFuZ2VIb29rcyhyb3V0ZXMpO1xuXHQgIHJldHVybiBydW5UcmFuc2l0aW9uSG9va3MoaG9va3MubGVuZ3RoLCBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2UsIG5leHQpIHtcblx0ICAgIGhvb2tzW2luZGV4XShzdGF0ZSwgbmV4dFN0YXRlLCByZXBsYWNlLCBuZXh0KTtcblx0ICB9LCBjYWxsYmFjayk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBSdW5zIGFsbCBvbkxlYXZlIGhvb2tzIGluIHRoZSBnaXZlbiBhcnJheSBvZiByb3V0ZXMgaW4gb3JkZXIuXG5cdCAqL1xuXHRmdW5jdGlvbiBydW5MZWF2ZUhvb2tzKHJvdXRlcywgcHJldlN0YXRlKSB7XG5cdCAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHJvdXRlcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuXHQgICAgaWYgKHJvdXRlc1tpXS5vbkxlYXZlKSByb3V0ZXNbaV0ub25MZWF2ZS5jYWxsKHJvdXRlc1tpXSwgcHJldlN0YXRlKTtcblx0ICB9XG5cdH1cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkpKVxuXG4vKioqLyB9LFxuLyogODMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9Sb3V0ZXJDb250ZXh0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cdFxuXHR2YXIgX1JvdXRlckNvbnRleHQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUm91dGVyQ29udGV4dCk7XG5cdFxuXHR2YXIgX3JvdXRlcldhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcblx0ICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbWlkZGxld2FyZXMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgIG1pZGRsZXdhcmVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgIH1cblx0XG5cdCAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgIG1pZGRsZXdhcmVzLmZvckVhY2goZnVuY3Rpb24gKG1pZGRsZXdhcmUsIGluZGV4KSB7XG5cdCAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKG1pZGRsZXdhcmUucmVuZGVyUm91dGVyQ29udGV4dCB8fCBtaWRkbGV3YXJlLnJlbmRlclJvdXRlQ29tcG9uZW50LCAnVGhlIG1pZGRsZXdhcmUgc3BlY2lmaWVkIGF0IGluZGV4ICcgKyBpbmRleCArICcgZG9lcyBub3QgYXBwZWFyIHRvIGJlICcgKyAnYSB2YWxpZCBSZWFjdCBSb3V0ZXIgbWlkZGxld2FyZS4nKSA6IHZvaWQgMDtcblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgdmFyIHdpdGhDb250ZXh0ID0gbWlkZGxld2FyZXMubWFwKGZ1bmN0aW9uIChtaWRkbGV3YXJlKSB7XG5cdCAgICByZXR1cm4gbWlkZGxld2FyZS5yZW5kZXJSb3V0ZXJDb250ZXh0O1xuXHQgIH0pLmZpbHRlcihCb29sZWFuKTtcblx0ICB2YXIgd2l0aENvbXBvbmVudCA9IG1pZGRsZXdhcmVzLm1hcChmdW5jdGlvbiAobWlkZGxld2FyZSkge1xuXHQgICAgcmV0dXJuIG1pZGRsZXdhcmUucmVuZGVyUm91dGVDb21wb25lbnQ7XG5cdCAgfSkuZmlsdGVyKEJvb2xlYW4pO1xuXHRcblx0ICB2YXIgbWFrZUNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiBtYWtlQ3JlYXRlRWxlbWVudCgpIHtcblx0ICAgIHZhciBiYXNlQ3JlYXRlRWxlbWVudCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IF9yZWFjdC5jcmVhdGVFbGVtZW50IDogYXJndW1lbnRzWzBdO1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIChDb21wb25lbnQsIHByb3BzKSB7XG5cdCAgICAgIHJldHVybiB3aXRoQ29tcG9uZW50LnJlZHVjZVJpZ2h0KGZ1bmN0aW9uIChwcmV2aW91cywgcmVuZGVyUm91dGVDb21wb25lbnQpIHtcblx0ICAgICAgICByZXR1cm4gcmVuZGVyUm91dGVDb21wb25lbnQocHJldmlvdXMsIHByb3BzKTtcblx0ICAgICAgfSwgYmFzZUNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCBwcm9wcykpO1xuXHQgICAgfTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gZnVuY3Rpb24gKHJlbmRlclByb3BzKSB7XG5cdCAgICByZXR1cm4gd2l0aENvbnRleHQucmVkdWNlUmlnaHQoZnVuY3Rpb24gKHByZXZpb3VzLCByZW5kZXJSb3V0ZXJDb250ZXh0KSB7XG5cdCAgICAgIHJldHVybiByZW5kZXJSb3V0ZXJDb250ZXh0KHByZXZpb3VzLCByZW5kZXJQcm9wcyk7XG5cdCAgICB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfUm91dGVyQ29udGV4dDIuZGVmYXVsdCwgX2V4dGVuZHMoe30sIHJlbmRlclByb3BzLCB7XG5cdCAgICAgIGNyZWF0ZUVsZW1lbnQ6IG1ha2VDcmVhdGVFbGVtZW50KHJlbmRlclByb3BzLmNyZWF0ZUVsZW1lbnQpXG5cdCAgICB9KSkpO1xuXHQgIH07XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkpKVxuXG4vKioqLyB9LFxuLyogODQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2NyZWF0ZUJyb3dzZXJIaXN0b3J5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nyk7XG5cdFxuXHR2YXIgX2NyZWF0ZUJyb3dzZXJIaXN0b3J5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUJyb3dzZXJIaXN0b3J5KTtcblx0XG5cdHZhciBfY3JlYXRlUm91dGVySGlzdG9yeSA9IF9fd2VicGFja19yZXF1aXJlX18oNDYpO1xuXHRcblx0dmFyIF9jcmVhdGVSb3V0ZXJIaXN0b3J5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVJvdXRlckhpc3RvcnkpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfY3JlYXRlUm91dGVySGlzdG9yeTIuZGVmYXVsdCkoX2NyZWF0ZUJyb3dzZXJIaXN0b3J5Mi5kZWZhdWx0KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiA4NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfUGF0dGVyblV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cdFxuXHRmdW5jdGlvbiByb3V0ZVBhcmFtc0NoYW5nZWQocm91dGUsIHByZXZTdGF0ZSwgbmV4dFN0YXRlKSB7XG5cdCAgaWYgKCFyb3V0ZS5wYXRoKSByZXR1cm4gZmFsc2U7XG5cdFxuXHQgIHZhciBwYXJhbU5hbWVzID0gKDAsIF9QYXR0ZXJuVXRpbHMuZ2V0UGFyYW1OYW1lcykocm91dGUucGF0aCk7XG5cdFxuXHQgIHJldHVybiBwYXJhbU5hbWVzLnNvbWUoZnVuY3Rpb24gKHBhcmFtTmFtZSkge1xuXHQgICAgcmV0dXJuIHByZXZTdGF0ZS5wYXJhbXNbcGFyYW1OYW1lXSAhPT0gbmV4dFN0YXRlLnBhcmFtc1twYXJhbU5hbWVdO1xuXHQgIH0pO1xuXHR9XG5cdFxuXHQvKipcblx0ICogUmV0dXJucyBhbiBvYmplY3Qgb2YgeyBsZWF2ZVJvdXRlcywgY2hhbmdlUm91dGVzLCBlbnRlclJvdXRlcyB9IGRldGVybWluZWQgYnlcblx0ICogdGhlIGNoYW5nZSBmcm9tIHByZXZTdGF0ZSB0byBuZXh0U3RhdGUuIFdlIGxlYXZlIHJvdXRlcyBpZiBlaXRoZXJcblx0ICogMSkgdGhleSBhcmUgbm90IGluIHRoZSBuZXh0IHN0YXRlIG9yIDIpIHRoZXkgYXJlIGluIHRoZSBuZXh0IHN0YXRlXG5cdCAqIGJ1dCB0aGVpciBwYXJhbXMgaGF2ZSBjaGFuZ2VkIChpLmUuIC91c2Vycy8xMjMgPT4gL3VzZXJzLzQ1NikuXG5cdCAqXG5cdCAqIGxlYXZlUm91dGVzIGFyZSBvcmRlcmVkIHN0YXJ0aW5nIGF0IHRoZSBsZWFmIHJvdXRlIG9mIHRoZSB0cmVlXG5cdCAqIHdlJ3JlIGxlYXZpbmcgdXAgdG8gdGhlIGNvbW1vbiBwYXJlbnQgcm91dGUuIGVudGVyUm91dGVzIGFyZSBvcmRlcmVkXG5cdCAqIGZyb20gdGhlIHRvcCBvZiB0aGUgdHJlZSB3ZSdyZSBlbnRlcmluZyBkb3duIHRvIHRoZSBsZWFmIHJvdXRlLlxuXHQgKlxuXHQgKiBjaGFuZ2VSb3V0ZXMgYXJlIGFueSByb3V0ZXMgdGhhdCBkaWRuJ3QgbGVhdmUgb3IgZW50ZXIgZHVyaW5nXG5cdCAqIHRoZSB0cmFuc2l0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gY29tcHV0ZUNoYW5nZWRSb3V0ZXMocHJldlN0YXRlLCBuZXh0U3RhdGUpIHtcblx0ICB2YXIgcHJldlJvdXRlcyA9IHByZXZTdGF0ZSAmJiBwcmV2U3RhdGUucm91dGVzO1xuXHQgIHZhciBuZXh0Um91dGVzID0gbmV4dFN0YXRlLnJvdXRlcztcblx0XG5cdCAgdmFyIGxlYXZlUm91dGVzID0gdm9pZCAwLFxuXHQgICAgICBjaGFuZ2VSb3V0ZXMgPSB2b2lkIDAsXG5cdCAgICAgIGVudGVyUm91dGVzID0gdm9pZCAwO1xuXHQgIGlmIChwcmV2Um91dGVzKSB7XG5cdCAgICAoZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgcGFyZW50SXNMZWF2aW5nID0gZmFsc2U7XG5cdCAgICAgIGxlYXZlUm91dGVzID0gcHJldlJvdXRlcy5maWx0ZXIoZnVuY3Rpb24gKHJvdXRlKSB7XG5cdCAgICAgICAgaWYgKHBhcmVudElzTGVhdmluZykge1xuXHQgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHZhciBpc0xlYXZpbmcgPSBuZXh0Um91dGVzLmluZGV4T2Yocm91dGUpID09PSAtMSB8fCByb3V0ZVBhcmFtc0NoYW5nZWQocm91dGUsIHByZXZTdGF0ZSwgbmV4dFN0YXRlKTtcblx0ICAgICAgICAgIGlmIChpc0xlYXZpbmcpIHBhcmVudElzTGVhdmluZyA9IHRydWU7XG5cdCAgICAgICAgICByZXR1cm4gaXNMZWF2aW5nO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICAvLyBvbkxlYXZlIGhvb2tzIHN0YXJ0IGF0IHRoZSBsZWFmIHJvdXRlLlxuXHQgICAgICBsZWF2ZVJvdXRlcy5yZXZlcnNlKCk7XG5cdFxuXHQgICAgICBlbnRlclJvdXRlcyA9IFtdO1xuXHQgICAgICBjaGFuZ2VSb3V0ZXMgPSBbXTtcblx0XG5cdCAgICAgIG5leHRSb3V0ZXMuZm9yRWFjaChmdW5jdGlvbiAocm91dGUpIHtcblx0ICAgICAgICB2YXIgaXNOZXcgPSBwcmV2Um91dGVzLmluZGV4T2Yocm91dGUpID09PSAtMTtcblx0ICAgICAgICB2YXIgcGFyYW1zQ2hhbmdlZCA9IGxlYXZlUm91dGVzLmluZGV4T2Yocm91dGUpICE9PSAtMTtcblx0XG5cdCAgICAgICAgaWYgKGlzTmV3IHx8IHBhcmFtc0NoYW5nZWQpIGVudGVyUm91dGVzLnB1c2gocm91dGUpO2Vsc2UgY2hhbmdlUm91dGVzLnB1c2gocm91dGUpO1xuXHQgICAgICB9KTtcblx0ICAgIH0pKCk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIGxlYXZlUm91dGVzID0gW107XG5cdCAgICBjaGFuZ2VSb3V0ZXMgPSBbXTtcblx0ICAgIGVudGVyUm91dGVzID0gbmV4dFJvdXRlcztcblx0ICB9XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICBsZWF2ZVJvdXRlczogbGVhdmVSb3V0ZXMsXG5cdCAgICBjaGFuZ2VSb3V0ZXM6IGNoYW5nZVJvdXRlcyxcblx0ICAgIGVudGVyUm91dGVzOiBlbnRlclJvdXRlc1xuXHQgIH07XG5cdH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGNvbXB1dGVDaGFuZ2VkUm91dGVzO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDg2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9Bc3luY1V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5cdFxuXHR2YXIgX21ha2VTdGF0ZVdpdGhMb2NhdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpO1xuXHRcblx0dmFyIF9tYWtlU3RhdGVXaXRoTG9jYXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFrZVN0YXRlV2l0aExvY2F0aW9uKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBnZXRDb21wb25lbnRzRm9yUm91dGUobmV4dFN0YXRlLCByb3V0ZSwgY2FsbGJhY2spIHtcblx0ICBpZiAocm91dGUuY29tcG9uZW50IHx8IHJvdXRlLmNvbXBvbmVudHMpIHtcblx0ICAgIGNhbGxiYWNrKG51bGwsIHJvdXRlLmNvbXBvbmVudCB8fCByb3V0ZS5jb21wb25lbnRzKTtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cdFxuXHQgIHZhciBnZXRDb21wb25lbnQgPSByb3V0ZS5nZXRDb21wb25lbnQgfHwgcm91dGUuZ2V0Q29tcG9uZW50cztcblx0ICBpZiAoIWdldENvbXBvbmVudCkge1xuXHQgICAgY2FsbGJhY2soKTtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cdFxuXHQgIHZhciBsb2NhdGlvbiA9IG5leHRTdGF0ZS5sb2NhdGlvbjtcblx0XG5cdCAgdmFyIG5leHRTdGF0ZVdpdGhMb2NhdGlvbiA9ICgwLCBfbWFrZVN0YXRlV2l0aExvY2F0aW9uMi5kZWZhdWx0KShuZXh0U3RhdGUsIGxvY2F0aW9uKTtcblx0XG5cdCAgZ2V0Q29tcG9uZW50LmNhbGwocm91dGUsIG5leHRTdGF0ZVdpdGhMb2NhdGlvbiwgY2FsbGJhY2spO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQXN5bmNocm9ub3VzbHkgZmV0Y2hlcyBhbGwgY29tcG9uZW50cyBuZWVkZWQgZm9yIHRoZSBnaXZlbiByb3V0ZXJcblx0ICogc3RhdGUgYW5kIGNhbGxzIGNhbGxiYWNrKGVycm9yLCBjb21wb25lbnRzKSB3aGVuIGZpbmlzaGVkLlxuXHQgKlxuXHQgKiBOb3RlOiBUaGlzIG9wZXJhdGlvbiBtYXkgZmluaXNoIHN5bmNocm9ub3VzbHkgaWYgbm8gcm91dGVzIGhhdmUgYW5cblx0ICogYXN5bmNocm9ub3VzIGdldENvbXBvbmVudHMgbWV0aG9kLlxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0Q29tcG9uZW50cyhuZXh0U3RhdGUsIGNhbGxiYWNrKSB7XG5cdCAgKDAsIF9Bc3luY1V0aWxzLm1hcEFzeW5jKShuZXh0U3RhdGUucm91dGVzLCBmdW5jdGlvbiAocm91dGUsIGluZGV4LCBjYWxsYmFjaykge1xuXHQgICAgZ2V0Q29tcG9uZW50c0ZvclJvdXRlKG5leHRTdGF0ZSwgcm91dGUsIGNhbGxiYWNrKTtcblx0ICB9LCBjYWxsYmFjayk7XG5cdH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGdldENvbXBvbmVudHM7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogODcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX1BhdHRlcm5VdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXHRcblx0LyoqXG5cdCAqIEV4dHJhY3RzIGFuIG9iamVjdCBvZiBwYXJhbXMgdGhlIGdpdmVuIHJvdXRlIGNhcmVzIGFib3V0IGZyb21cblx0ICogdGhlIGdpdmVuIHBhcmFtcyBvYmplY3QuXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRSb3V0ZVBhcmFtcyhyb3V0ZSwgcGFyYW1zKSB7XG5cdCAgdmFyIHJvdXRlUGFyYW1zID0ge307XG5cdFxuXHQgIGlmICghcm91dGUucGF0aCkgcmV0dXJuIHJvdXRlUGFyYW1zO1xuXHRcblx0ICAoMCwgX1BhdHRlcm5VdGlscy5nZXRQYXJhbU5hbWVzKShyb3V0ZS5wYXRoKS5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XG5cdCAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmFtcywgcCkpIHtcblx0ICAgICAgcm91dGVQYXJhbXNbcF0gPSBwYXJhbXNbcF07XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIHJldHVybiByb3V0ZVBhcmFtcztcblx0fVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZ2V0Um91dGVQYXJhbXM7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogODggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2NyZWF0ZUhhc2hIaXN0b3J5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUhhc2hIaXN0b3J5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUhhc2hIaXN0b3J5KTtcblx0XG5cdHZhciBfY3JlYXRlUm91dGVySGlzdG9yeSA9IF9fd2VicGFja19yZXF1aXJlX18oNDYpO1xuXHRcblx0dmFyIF9jcmVhdGVSb3V0ZXJIaXN0b3J5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVJvdXRlckhpc3RvcnkpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfY3JlYXRlUm91dGVySGlzdG9yeTIuZGVmYXVsdCkoX2NyZWF0ZUhhc2hIaXN0b3J5Mi5kZWZhdWx0KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiA4OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gaXNBY3RpdmU7XG5cdFxuXHR2YXIgX1BhdHRlcm5VdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXHRcblx0ZnVuY3Rpb24gZGVlcEVxdWFsKGEsIGIpIHtcblx0ICBpZiAoYSA9PSBiKSByZXR1cm4gdHJ1ZTtcblx0XG5cdCAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpIHJldHVybiBmYWxzZTtcblx0XG5cdCAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcblx0ICAgIHJldHVybiBBcnJheS5pc0FycmF5KGIpICYmIGEubGVuZ3RoID09PSBiLmxlbmd0aCAmJiBhLmV2ZXJ5KGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuXHQgICAgICByZXR1cm4gZGVlcEVxdWFsKGl0ZW0sIGJbaW5kZXhdKTtcblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgaWYgKCh0eXBlb2YgYSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoYSkpID09PSAnb2JqZWN0Jykge1xuXHQgICAgZm9yICh2YXIgcCBpbiBhKSB7XG5cdCAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIHApKSB7XG5cdCAgICAgICAgY29udGludWU7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmIChhW3BdID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICBpZiAoYltwXSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2UgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgIH0gZWxzZSBpZiAoIWRlZXBFcXVhbChhW3BdLCBiW3BdKSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIFN0cmluZyhhKSA9PT0gU3RyaW5nKGIpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogUmV0dXJucyB0cnVlIGlmIHRoZSBjdXJyZW50IHBhdGhuYW1lIG1hdGNoZXMgdGhlIHN1cHBsaWVkIG9uZSwgbmV0IG9mXG5cdCAqIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHNsYXNoIG5vcm1hbGl6YXRpb24uIFRoaXMgaXMgc3VmZmljaWVudCBmb3IgYW5cblx0ICogaW5kZXhPbmx5IHJvdXRlIG1hdGNoLlxuXHQgKi9cblx0ZnVuY3Rpb24gcGF0aElzQWN0aXZlKHBhdGhuYW1lLCBjdXJyZW50UGF0aG5hbWUpIHtcblx0ICAvLyBOb3JtYWxpemUgbGVhZGluZyBzbGFzaCBmb3IgY29uc2lzdGVuY3kuIExlYWRpbmcgc2xhc2ggb24gcGF0aG5hbWUgaGFzXG5cdCAgLy8gYWxyZWFkeSBiZWVuIG5vcm1hbGl6ZWQgaW4gaXNBY3RpdmUuIFNlZSBjYXZlYXQgdGhlcmUuXG5cdCAgaWYgKGN1cnJlbnRQYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykge1xuXHQgICAgY3VycmVudFBhdGhuYW1lID0gJy8nICsgY3VycmVudFBhdGhuYW1lO1xuXHQgIH1cblx0XG5cdCAgLy8gTm9ybWFsaXplIHRoZSBlbmQgb2YgYm90aCBwYXRoIG5hbWVzIHRvby4gTWF5YmUgYC9mb28vYCBzaG91bGRuJ3Qgc2hvd1xuXHQgIC8vIGAvZm9vYCBhcyBhY3RpdmUsIGJ1dCBpbiB0aGlzIGNhc2UsIHdlIHdvdWxkIGFscmVhZHkgaGF2ZSBmYWlsZWQgdGhlXG5cdCAgLy8gbWF0Y2guXG5cdCAgaWYgKHBhdGhuYW1lLmNoYXJBdChwYXRobmFtZS5sZW5ndGggLSAxKSAhPT0gJy8nKSB7XG5cdCAgICBwYXRobmFtZSArPSAnLyc7XG5cdCAgfVxuXHQgIGlmIChjdXJyZW50UGF0aG5hbWUuY2hhckF0KGN1cnJlbnRQYXRobmFtZS5sZW5ndGggLSAxKSAhPT0gJy8nKSB7XG5cdCAgICBjdXJyZW50UGF0aG5hbWUgKz0gJy8nO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGN1cnJlbnRQYXRobmFtZSA9PT0gcGF0aG5hbWU7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHBhdGhuYW1lIG1hdGNoZXMgdGhlIGFjdGl2ZSByb3V0ZXMgYW5kIHBhcmFtcy5cblx0ICovXG5cdGZ1bmN0aW9uIHJvdXRlSXNBY3RpdmUocGF0aG5hbWUsIHJvdXRlcywgcGFyYW1zKSB7XG5cdCAgdmFyIHJlbWFpbmluZ1BhdGhuYW1lID0gcGF0aG5hbWUsXG5cdCAgICAgIHBhcmFtTmFtZXMgPSBbXSxcblx0ICAgICAgcGFyYW1WYWx1ZXMgPSBbXTtcblx0XG5cdCAgLy8gZm9yLi4ub2Ygd291bGQgd29yayBoZXJlIGJ1dCBpdCdzIHByb2JhYmx5IHNsb3dlciBwb3N0LXRyYW5zcGlsYXRpb24uXG5cdCAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHJvdXRlcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuXHQgICAgdmFyIHJvdXRlID0gcm91dGVzW2ldO1xuXHQgICAgdmFyIHBhdHRlcm4gPSByb3V0ZS5wYXRoIHx8ICcnO1xuXHRcblx0ICAgIGlmIChwYXR0ZXJuLmNoYXJBdCgwKSA9PT0gJy8nKSB7XG5cdCAgICAgIHJlbWFpbmluZ1BhdGhuYW1lID0gcGF0aG5hbWU7XG5cdCAgICAgIHBhcmFtTmFtZXMgPSBbXTtcblx0ICAgICAgcGFyYW1WYWx1ZXMgPSBbXTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAocmVtYWluaW5nUGF0aG5hbWUgIT09IG51bGwgJiYgcGF0dGVybikge1xuXHQgICAgICB2YXIgbWF0Y2hlZCA9ICgwLCBfUGF0dGVyblV0aWxzLm1hdGNoUGF0dGVybikocGF0dGVybiwgcmVtYWluaW5nUGF0aG5hbWUpO1xuXHQgICAgICBpZiAobWF0Y2hlZCkge1xuXHQgICAgICAgIHJlbWFpbmluZ1BhdGhuYW1lID0gbWF0Y2hlZC5yZW1haW5pbmdQYXRobmFtZTtcblx0ICAgICAgICBwYXJhbU5hbWVzID0gW10uY29uY2F0KHBhcmFtTmFtZXMsIG1hdGNoZWQucGFyYW1OYW1lcyk7XG5cdCAgICAgICAgcGFyYW1WYWx1ZXMgPSBbXS5jb25jYXQocGFyYW1WYWx1ZXMsIG1hdGNoZWQucGFyYW1WYWx1ZXMpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJlbWFpbmluZ1BhdGhuYW1lID0gbnVsbDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKHJlbWFpbmluZ1BhdGhuYW1lID09PSAnJykge1xuXHQgICAgICAgIC8vIFdlIGhhdmUgYW4gZXhhY3QgbWF0Y2ggb24gdGhlIHJvdXRlLiBKdXN0IGNoZWNrIHRoYXQgYWxsIHRoZSBwYXJhbXNcblx0ICAgICAgICAvLyBtYXRjaC5cblx0ICAgICAgICAvLyBGSVhNRTogVGhpcyBkb2Vzbid0IHdvcmsgb24gcmVwZWF0ZWQgcGFyYW1zLlxuXHQgICAgICAgIHJldHVybiBwYXJhbU5hbWVzLmV2ZXJ5KGZ1bmN0aW9uIChwYXJhbU5hbWUsIGluZGV4KSB7XG5cdCAgICAgICAgICByZXR1cm4gU3RyaW5nKHBhcmFtVmFsdWVzW2luZGV4XSkgPT09IFN0cmluZyhwYXJhbXNbcGFyYW1OYW1lXSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiBmYWxzZTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFJldHVybnMgdHJ1ZSBpZiBhbGwga2V5L3ZhbHVlIHBhaXJzIGluIHRoZSBnaXZlbiBxdWVyeSBhcmVcblx0ICogY3VycmVudGx5IGFjdGl2ZS5cblx0ICovXG5cdGZ1bmN0aW9uIHF1ZXJ5SXNBY3RpdmUocXVlcnksIGFjdGl2ZVF1ZXJ5KSB7XG5cdCAgaWYgKGFjdGl2ZVF1ZXJ5ID09IG51bGwpIHJldHVybiBxdWVyeSA9PSBudWxsO1xuXHRcblx0ICBpZiAocXVlcnkgPT0gbnVsbCkgcmV0dXJuIHRydWU7XG5cdFxuXHQgIHJldHVybiBkZWVwRXF1YWwocXVlcnksIGFjdGl2ZVF1ZXJ5KTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFJldHVybnMgdHJ1ZSBpZiBhIDxMaW5rPiB0byB0aGUgZ2l2ZW4gcGF0aG5hbWUvcXVlcnkgY29tYmluYXRpb24gaXNcblx0ICogY3VycmVudGx5IGFjdGl2ZS5cblx0ICovXG5cdGZ1bmN0aW9uIGlzQWN0aXZlKF9yZWYsIGluZGV4T25seSwgY3VycmVudExvY2F0aW9uLCByb3V0ZXMsIHBhcmFtcykge1xuXHQgIHZhciBwYXRobmFtZSA9IF9yZWYucGF0aG5hbWU7XG5cdCAgdmFyIHF1ZXJ5ID0gX3JlZi5xdWVyeTtcblx0XG5cdCAgaWYgKGN1cnJlbnRMb2NhdGlvbiA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdFxuXHQgIC8vIFRPRE86IFRoaXMgaXMgYSBiaXQgdWdseS4gSXQga2VlcHMgYXJvdW5kIHN1cHBvcnQgZm9yIHRyZWF0aW5nIHBhdGhuYW1lc1xuXHQgIC8vIHdpdGhvdXQgcHJlY2VkaW5nIHNsYXNoZXMgYXMgYWJzb2x1dGUgcGF0aHMsIGJ1dCBwb3NzaWJseSBhbHNvIHdvcmtzXG5cdCAgLy8gYXJvdW5kIHRoZSBzYW1lIHF1aXJrcyB3aXRoIGJhc2VuYW1lcyBhcyBpbiBtYXRjaFJvdXRlcy5cblx0ICBpZiAocGF0aG5hbWUuY2hhckF0KDApICE9PSAnLycpIHtcblx0ICAgIHBhdGhuYW1lID0gJy8nICsgcGF0aG5hbWU7XG5cdCAgfVxuXHRcblx0ICBpZiAoIXBhdGhJc0FjdGl2ZShwYXRobmFtZSwgY3VycmVudExvY2F0aW9uLnBhdGhuYW1lKSkge1xuXHQgICAgLy8gVGhlIHBhdGggY2hlY2sgaXMgbmVjZXNzYXJ5IGFuZCBzdWZmaWNpZW50IGZvciBpbmRleE9ubHksIGJ1dCBvdGhlcndpc2Vcblx0ICAgIC8vIHdlIHN0aWxsIG5lZWQgdG8gY2hlY2sgdGhlIHJvdXRlcy5cblx0ICAgIGlmIChpbmRleE9ubHkgfHwgIXJvdXRlSXNBY3RpdmUocGF0aG5hbWUsIHJvdXRlcywgcGFyYW1zKSkge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gcXVlcnlJc0FjdGl2ZShxdWVyeSwgY3VycmVudExvY2F0aW9uLnF1ZXJ5KTtcblx0fVxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDkwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIF9BY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cdFxuXHR2YXIgX2ludmFyaWFudCA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuXHRcblx0dmFyIF9jcmVhdGVNZW1vcnlIaXN0b3J5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NSk7XG5cdFxuXHR2YXIgX2NyZWF0ZU1lbW9yeUhpc3RvcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlTWVtb3J5SGlzdG9yeSk7XG5cdFxuXHR2YXIgX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCk7XG5cdFxuXHR2YXIgX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKTtcblx0XG5cdHZhciBfUm91dGVVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX1JvdXRlclV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykgeyB2YXIgdGFyZ2V0ID0ge307IGZvciAodmFyIGkgaW4gb2JqKSB7IGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlOyB0YXJnZXRbaV0gPSBvYmpbaV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXHRcblx0LyoqXG5cdCAqIEEgaGlnaC1sZXZlbCBBUEkgdG8gYmUgdXNlZCBmb3Igc2VydmVyLXNpZGUgcmVuZGVyaW5nLlxuXHQgKlxuXHQgKiBUaGlzIGZ1bmN0aW9uIG1hdGNoZXMgYSBsb2NhdGlvbiB0byBhIHNldCBvZiByb3V0ZXMgYW5kIGNhbGxzXG5cdCAqIGNhbGxiYWNrKGVycm9yLCByZWRpcmVjdExvY2F0aW9uLCByZW5kZXJQcm9wcykgd2hlbiBmaW5pc2hlZC5cblx0ICpcblx0ICogTm90ZTogWW91IHByb2JhYmx5IGRvbid0IHdhbnQgdG8gdXNlIHRoaXMgaW4gYSBicm93c2VyIHVubGVzcyB5b3UncmUgdXNpbmdcblx0ICogc2VydmVyLXNpZGUgcmVuZGVyaW5nIHdpdGggYXN5bmMgcm91dGVzLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWF0Y2goX3JlZiwgY2FsbGJhY2spIHtcblx0ICB2YXIgaGlzdG9yeSA9IF9yZWYuaGlzdG9yeTtcblx0ICB2YXIgcm91dGVzID0gX3JlZi5yb3V0ZXM7XG5cdCAgdmFyIGxvY2F0aW9uID0gX3JlZi5sb2NhdGlvbjtcblx0XG5cdCAgdmFyIG9wdGlvbnMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgWydoaXN0b3J5JywgJ3JvdXRlcycsICdsb2NhdGlvbiddKTtcblx0XG5cdCAgIShoaXN0b3J5IHx8IGxvY2F0aW9uKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UsICdtYXRjaCBuZWVkcyBhIGhpc3Rvcnkgb3IgYSBsb2NhdGlvbicpIDogKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlKSA6IHZvaWQgMDtcblx0XG5cdCAgaGlzdG9yeSA9IGhpc3RvcnkgPyBoaXN0b3J5IDogKDAsIF9jcmVhdGVNZW1vcnlIaXN0b3J5Mi5kZWZhdWx0KShvcHRpb25zKTtcblx0ICB2YXIgdHJhbnNpdGlvbk1hbmFnZXIgPSAoMCwgX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyMi5kZWZhdWx0KShoaXN0b3J5LCAoMCwgX1JvdXRlVXRpbHMuY3JlYXRlUm91dGVzKShyb3V0ZXMpKTtcblx0XG5cdCAgdmFyIHVubGlzdGVuID0gdm9pZCAwO1xuXHRcblx0ICBpZiAobG9jYXRpb24pIHtcblx0ICAgIC8vIEFsbG93IG1hdGNoKHsgbG9jYXRpb246ICcvdGhlL3BhdGgnLCAuLi4gfSlcblx0ICAgIGxvY2F0aW9uID0gaGlzdG9yeS5jcmVhdGVMb2NhdGlvbihsb2NhdGlvbik7XG5cdCAgfSBlbHNlIHtcblx0ICAgIC8vIFBpY2sgdXAgdGhlIGxvY2F0aW9uIGZyb20gdGhlIGhpc3RvcnkgdmlhIHN5bmNocm9ub3VzIGhpc3RvcnkubGlzdGVuXG5cdCAgICAvLyBjYWxsIGlmIG5lZWRlZC5cblx0ICAgIHVubGlzdGVuID0gaGlzdG9yeS5saXN0ZW4oZnVuY3Rpb24gKGhpc3RvcnlMb2NhdGlvbikge1xuXHQgICAgICBsb2NhdGlvbiA9IGhpc3RvcnlMb2NhdGlvbjtcblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgdmFyIHJvdXRlciA9ICgwLCBfUm91dGVyVXRpbHMuY3JlYXRlUm91dGVyT2JqZWN0KShoaXN0b3J5LCB0cmFuc2l0aW9uTWFuYWdlcik7XG5cdCAgaGlzdG9yeSA9ICgwLCBfUm91dGVyVXRpbHMuY3JlYXRlUm91dGluZ0hpc3RvcnkpKGhpc3RvcnksIHRyYW5zaXRpb25NYW5hZ2VyKTtcblx0XG5cdCAgdHJhbnNpdGlvbk1hbmFnZXIubWF0Y2gobG9jYXRpb24sIGZ1bmN0aW9uIChlcnJvciwgcmVkaXJlY3RMb2NhdGlvbiwgbmV4dFN0YXRlKSB7XG5cdCAgICBjYWxsYmFjayhlcnJvciwgcmVkaXJlY3RMb2NhdGlvbiAmJiByb3V0ZXIuY3JlYXRlTG9jYXRpb24ocmVkaXJlY3RMb2NhdGlvbiwgX0FjdGlvbnMuUkVQTEFDRSksIG5leHRTdGF0ZSAmJiBfZXh0ZW5kcyh7fSwgbmV4dFN0YXRlLCB7XG5cdCAgICAgIGhpc3Rvcnk6IGhpc3RvcnksXG5cdCAgICAgIHJvdXRlcjogcm91dGVyLFxuXHQgICAgICBtYXRjaENvbnRleHQ6IHsgaGlzdG9yeTogaGlzdG9yeSwgdHJhbnNpdGlvbk1hbmFnZXI6IHRyYW5zaXRpb25NYW5hZ2VyLCByb3V0ZXI6IHJvdXRlciB9XG5cdCAgICB9KSk7XG5cdFxuXHQgICAgLy8gRGVmZXIgcmVtb3ZpbmcgdGhlIGxpc3RlbmVyIHRvIGhlcmUgdG8gcHJldmVudCBET00gaGlzdG9yaWVzIGZyb20gaGF2aW5nXG5cdCAgICAvLyB0byB1bndpbmQgRE9NIGV2ZW50IGxpc3RlbmVycyB1bm5lY2Vzc2FyaWx5LCBpbiBjYXNlIGNhbGxiYWNrIHJlbmRlcnMgYVxuXHQgICAgLy8gPFJvdXRlcj4gYW5kIGF0dGFjaGVzIGFub3RoZXIgaGlzdG9yeSBsaXN0ZW5lci5cblx0ICAgIGlmICh1bmxpc3Rlbikge1xuXHQgICAgICB1bmxpc3RlbigpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHR9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBtYXRjaDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKSlcblxuLyoqKi8gfSxcbi8qIDkxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBtYXRjaFJvdXRlcztcblx0XG5cdHZhciBfQXN5bmNVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xuXHRcblx0dmFyIF9tYWtlU3RhdGVXaXRoTG9jYXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcblx0XG5cdHZhciBfbWFrZVN0YXRlV2l0aExvY2F0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21ha2VTdGF0ZVdpdGhMb2NhdGlvbik7XG5cdFxuXHR2YXIgX1BhdHRlcm5VdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfcm91dGVyV2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3V0ZXJXYXJuaW5nKTtcblx0XG5cdHZhciBfUm91dGVVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gZ2V0Q2hpbGRSb3V0ZXMocm91dGUsIGxvY2F0aW9uLCBwYXJhbU5hbWVzLCBwYXJhbVZhbHVlcywgY2FsbGJhY2spIHtcblx0ICBpZiAocm91dGUuY2hpbGRSb3V0ZXMpIHtcblx0ICAgIHJldHVybiBbbnVsbCwgcm91dGUuY2hpbGRSb3V0ZXNdO1xuXHQgIH1cblx0ICBpZiAoIXJvdXRlLmdldENoaWxkUm91dGVzKSB7XG5cdCAgICByZXR1cm4gW107XG5cdCAgfVxuXHRcblx0ICB2YXIgc3luYyA9IHRydWUsXG5cdCAgICAgIHJlc3VsdCA9IHZvaWQgMDtcblx0XG5cdCAgdmFyIHBhcnRpYWxOZXh0U3RhdGUgPSB7XG5cdCAgICBsb2NhdGlvbjogbG9jYXRpb24sXG5cdCAgICBwYXJhbXM6IGNyZWF0ZVBhcmFtcyhwYXJhbU5hbWVzLCBwYXJhbVZhbHVlcylcblx0ICB9O1xuXHRcblx0ICB2YXIgcGFydGlhbE5leHRTdGF0ZVdpdGhMb2NhdGlvbiA9ICgwLCBfbWFrZVN0YXRlV2l0aExvY2F0aW9uMi5kZWZhdWx0KShwYXJ0aWFsTmV4dFN0YXRlLCBsb2NhdGlvbik7XG5cdFxuXHQgIHJvdXRlLmdldENoaWxkUm91dGVzKHBhcnRpYWxOZXh0U3RhdGVXaXRoTG9jYXRpb24sIGZ1bmN0aW9uIChlcnJvciwgY2hpbGRSb3V0ZXMpIHtcblx0ICAgIGNoaWxkUm91dGVzID0gIWVycm9yICYmICgwLCBfUm91dGVVdGlscy5jcmVhdGVSb3V0ZXMpKGNoaWxkUm91dGVzKTtcblx0ICAgIGlmIChzeW5jKSB7XG5cdCAgICAgIHJlc3VsdCA9IFtlcnJvciwgY2hpbGRSb3V0ZXNdO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgY2FsbGJhY2soZXJyb3IsIGNoaWxkUm91dGVzKTtcblx0ICB9KTtcblx0XG5cdCAgc3luYyA9IGZhbHNlO1xuXHQgIHJldHVybiByZXN1bHQ7IC8vIE1pZ2h0IGJlIHVuZGVmaW5lZC5cblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0SW5kZXhSb3V0ZShyb3V0ZSwgbG9jYXRpb24sIHBhcmFtTmFtZXMsIHBhcmFtVmFsdWVzLCBjYWxsYmFjaykge1xuXHQgIGlmIChyb3V0ZS5pbmRleFJvdXRlKSB7XG5cdCAgICBjYWxsYmFjayhudWxsLCByb3V0ZS5pbmRleFJvdXRlKTtcblx0ICB9IGVsc2UgaWYgKHJvdXRlLmdldEluZGV4Um91dGUpIHtcblx0ICAgIHZhciBwYXJ0aWFsTmV4dFN0YXRlID0ge1xuXHQgICAgICBsb2NhdGlvbjogbG9jYXRpb24sXG5cdCAgICAgIHBhcmFtczogY3JlYXRlUGFyYW1zKHBhcmFtTmFtZXMsIHBhcmFtVmFsdWVzKVxuXHQgICAgfTtcblx0XG5cdCAgICB2YXIgcGFydGlhbE5leHRTdGF0ZVdpdGhMb2NhdGlvbiA9ICgwLCBfbWFrZVN0YXRlV2l0aExvY2F0aW9uMi5kZWZhdWx0KShwYXJ0aWFsTmV4dFN0YXRlLCBsb2NhdGlvbik7XG5cdFxuXHQgICAgcm91dGUuZ2V0SW5kZXhSb3V0ZShwYXJ0aWFsTmV4dFN0YXRlV2l0aExvY2F0aW9uLCBmdW5jdGlvbiAoZXJyb3IsIGluZGV4Um91dGUpIHtcblx0ICAgICAgY2FsbGJhY2soZXJyb3IsICFlcnJvciAmJiAoMCwgX1JvdXRlVXRpbHMuY3JlYXRlUm91dGVzKShpbmRleFJvdXRlKVswXSk7XG5cdCAgICB9KTtcblx0ICB9IGVsc2UgaWYgKHJvdXRlLmNoaWxkUm91dGVzKSB7XG5cdCAgICAoZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgcGF0aGxlc3MgPSByb3V0ZS5jaGlsZFJvdXRlcy5maWx0ZXIoZnVuY3Rpb24gKGNoaWxkUm91dGUpIHtcblx0ICAgICAgICByZXR1cm4gIWNoaWxkUm91dGUucGF0aDtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICAoMCwgX0FzeW5jVXRpbHMubG9vcEFzeW5jKShwYXRobGVzcy5sZW5ndGgsIGZ1bmN0aW9uIChpbmRleCwgbmV4dCwgZG9uZSkge1xuXHQgICAgICAgIGdldEluZGV4Um91dGUocGF0aGxlc3NbaW5kZXhdLCBsb2NhdGlvbiwgcGFyYW1OYW1lcywgcGFyYW1WYWx1ZXMsIGZ1bmN0aW9uIChlcnJvciwgaW5kZXhSb3V0ZSkge1xuXHQgICAgICAgICAgaWYgKGVycm9yIHx8IGluZGV4Um91dGUpIHtcblx0ICAgICAgICAgICAgdmFyIHJvdXRlcyA9IFtwYXRobGVzc1tpbmRleF1dLmNvbmNhdChBcnJheS5pc0FycmF5KGluZGV4Um91dGUpID8gaW5kZXhSb3V0ZSA6IFtpbmRleFJvdXRlXSk7XG5cdCAgICAgICAgICAgIGRvbmUoZXJyb3IsIHJvdXRlcyk7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBuZXh0KCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0sIGZ1bmN0aW9uIChlcnIsIHJvdXRlcykge1xuXHQgICAgICAgIGNhbGxiYWNrKG51bGwsIHJvdXRlcyk7XG5cdCAgICAgIH0pO1xuXHQgICAgfSkoKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgY2FsbGJhY2soKTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFzc2lnblBhcmFtcyhwYXJhbXMsIHBhcmFtTmFtZXMsIHBhcmFtVmFsdWVzKSB7XG5cdCAgcmV0dXJuIHBhcmFtTmFtZXMucmVkdWNlKGZ1bmN0aW9uIChwYXJhbXMsIHBhcmFtTmFtZSwgaW5kZXgpIHtcblx0ICAgIHZhciBwYXJhbVZhbHVlID0gcGFyYW1WYWx1ZXMgJiYgcGFyYW1WYWx1ZXNbaW5kZXhdO1xuXHRcblx0ICAgIGlmIChBcnJheS5pc0FycmF5KHBhcmFtc1twYXJhbU5hbWVdKSkge1xuXHQgICAgICBwYXJhbXNbcGFyYW1OYW1lXS5wdXNoKHBhcmFtVmFsdWUpO1xuXHQgICAgfSBlbHNlIGlmIChwYXJhbU5hbWUgaW4gcGFyYW1zKSB7XG5cdCAgICAgIHBhcmFtc1twYXJhbU5hbWVdID0gW3BhcmFtc1twYXJhbU5hbWVdLCBwYXJhbVZhbHVlXTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHBhcmFtc1twYXJhbU5hbWVdID0gcGFyYW1WYWx1ZTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gcGFyYW1zO1xuXHQgIH0sIHBhcmFtcyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVBhcmFtcyhwYXJhbU5hbWVzLCBwYXJhbVZhbHVlcykge1xuXHQgIHJldHVybiBhc3NpZ25QYXJhbXMoe30sIHBhcmFtTmFtZXMsIHBhcmFtVmFsdWVzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWF0Y2hSb3V0ZURlZXAocm91dGUsIGxvY2F0aW9uLCByZW1haW5pbmdQYXRobmFtZSwgcGFyYW1OYW1lcywgcGFyYW1WYWx1ZXMsIGNhbGxiYWNrKSB7XG5cdCAgdmFyIHBhdHRlcm4gPSByb3V0ZS5wYXRoIHx8ICcnO1xuXHRcblx0ICBpZiAocGF0dGVybi5jaGFyQXQoMCkgPT09ICcvJykge1xuXHQgICAgcmVtYWluaW5nUGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcblx0ICAgIHBhcmFtTmFtZXMgPSBbXTtcblx0ICAgIHBhcmFtVmFsdWVzID0gW107XG5cdCAgfVxuXHRcblx0ICAvLyBPbmx5IHRyeSB0byBtYXRjaCB0aGUgcGF0aCBpZiB0aGUgcm91dGUgYWN0dWFsbHkgaGFzIGEgcGF0dGVybiwgYW5kIGlmXG5cdCAgLy8gd2UncmUgbm90IGp1c3Qgc2VhcmNoaW5nIGZvciBwb3RlbnRpYWwgbmVzdGVkIGFic29sdXRlIHBhdGhzLlxuXHQgIGlmIChyZW1haW5pbmdQYXRobmFtZSAhPT0gbnVsbCAmJiBwYXR0ZXJuKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICB2YXIgbWF0Y2hlZCA9ICgwLCBfUGF0dGVyblV0aWxzLm1hdGNoUGF0dGVybikocGF0dGVybiwgcmVtYWluaW5nUGF0aG5hbWUpO1xuXHQgICAgICBpZiAobWF0Y2hlZCkge1xuXHQgICAgICAgIHJlbWFpbmluZ1BhdGhuYW1lID0gbWF0Y2hlZC5yZW1haW5pbmdQYXRobmFtZTtcblx0ICAgICAgICBwYXJhbU5hbWVzID0gW10uY29uY2F0KHBhcmFtTmFtZXMsIG1hdGNoZWQucGFyYW1OYW1lcyk7XG5cdCAgICAgICAgcGFyYW1WYWx1ZXMgPSBbXS5jb25jYXQocGFyYW1WYWx1ZXMsIG1hdGNoZWQucGFyYW1WYWx1ZXMpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJlbWFpbmluZ1BhdGhuYW1lID0gbnVsbDtcblx0ICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZXJyb3IpIHtcblx0ICAgICAgY2FsbGJhY2soZXJyb3IpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIEJ5IGFzc3VtcHRpb24sIHBhdHRlcm4gaXMgbm9uLWVtcHR5IGhlcmUsIHdoaWNoIGlzIHRoZSBwcmVyZXF1aXNpdGUgZm9yXG5cdCAgICAvLyBhY3R1YWxseSB0ZXJtaW5hdGluZyBhIG1hdGNoLlxuXHQgICAgaWYgKHJlbWFpbmluZ1BhdGhuYW1lID09PSAnJykge1xuXHQgICAgICB2YXIgX3JldDIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIG1hdGNoID0ge1xuXHQgICAgICAgICAgcm91dGVzOiBbcm91dGVdLFxuXHQgICAgICAgICAgcGFyYW1zOiBjcmVhdGVQYXJhbXMocGFyYW1OYW1lcywgcGFyYW1WYWx1ZXMpXG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgZ2V0SW5kZXhSb3V0ZShyb3V0ZSwgbG9jYXRpb24sIHBhcmFtTmFtZXMsIHBhcmFtVmFsdWVzLCBmdW5jdGlvbiAoZXJyb3IsIGluZGV4Um91dGUpIHtcblx0ICAgICAgICAgIGlmIChlcnJvcikge1xuXHQgICAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpbmRleFJvdXRlKSkge1xuXHQgICAgICAgICAgICAgIHZhciBfbWF0Y2gkcm91dGVzO1xuXHRcblx0ICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShpbmRleFJvdXRlLmV2ZXJ5KGZ1bmN0aW9uIChyb3V0ZSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuICFyb3V0ZS5wYXRoO1xuXHQgICAgICAgICAgICAgIH0pLCAnSW5kZXggcm91dGVzIHNob3VsZCBub3QgaGF2ZSBwYXRocycpIDogdm9pZCAwO1xuXHQgICAgICAgICAgICAgIChfbWF0Y2gkcm91dGVzID0gbWF0Y2gucm91dGVzKS5wdXNoLmFwcGx5KF9tYXRjaCRyb3V0ZXMsIGluZGV4Um91dGUpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGluZGV4Um91dGUpIHtcblx0ICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KSghaW5kZXhSb3V0ZS5wYXRoLCAnSW5kZXggcm91dGVzIHNob3VsZCBub3QgaGF2ZSBwYXRocycpIDogdm9pZCAwO1xuXHQgICAgICAgICAgICAgIG1hdGNoLnJvdXRlcy5wdXNoKGluZGV4Um91dGUpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBtYXRjaCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICB2OiB2b2lkIDBcblx0ICAgICAgICB9O1xuXHQgICAgICB9KCk7XG5cdFxuXHQgICAgICBpZiAoKHR5cGVvZiBfcmV0MiA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoX3JldDIpKSA9PT0gXCJvYmplY3RcIikgcmV0dXJuIF9yZXQyLnY7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBpZiAocmVtYWluaW5nUGF0aG5hbWUgIT0gbnVsbCB8fCByb3V0ZS5jaGlsZFJvdXRlcykge1xuXHQgICAgLy8gRWl0aGVyIGEpIHRoaXMgcm91dGUgbWF0Y2hlZCBhdCBsZWFzdCBzb21lIG9mIHRoZSBwYXRoIG9yIGIpXG5cdCAgICAvLyB3ZSBkb24ndCBoYXZlIHRvIGxvYWQgdGhpcyByb3V0ZSdzIGNoaWxkcmVuIGFzeW5jaHJvbm91c2x5LiBJblxuXHQgICAgLy8gZWl0aGVyIGNhc2UgY29udGludWUgY2hlY2tpbmcgZm9yIG1hdGNoZXMgaW4gdGhlIHN1YnRyZWUuXG5cdCAgICB2YXIgb25DaGlsZFJvdXRlcyA9IGZ1bmN0aW9uIG9uQ2hpbGRSb3V0ZXMoZXJyb3IsIGNoaWxkUm91dGVzKSB7XG5cdCAgICAgIGlmIChlcnJvcikge1xuXHQgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcblx0ICAgICAgfSBlbHNlIGlmIChjaGlsZFJvdXRlcykge1xuXHQgICAgICAgIC8vIENoZWNrIHRoZSBjaGlsZCByb3V0ZXMgdG8gc2VlIGlmIGFueSBvZiB0aGVtIG1hdGNoLlxuXHQgICAgICAgIG1hdGNoUm91dGVzKGNoaWxkUm91dGVzLCBsb2NhdGlvbiwgZnVuY3Rpb24gKGVycm9yLCBtYXRjaCkge1xuXHQgICAgICAgICAgaWYgKGVycm9yKSB7XG5cdCAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcblx0ICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2gpIHtcblx0ICAgICAgICAgICAgLy8gQSBjaGlsZCByb3V0ZSBtYXRjaGVkISBBdWdtZW50IHRoZSBtYXRjaCBhbmQgcGFzcyBpdCB1cCB0aGUgc3RhY2suXG5cdCAgICAgICAgICAgIG1hdGNoLnJvdXRlcy51bnNoaWZ0KHJvdXRlKTtcblx0ICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgbWF0Y2gpO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgY2FsbGJhY2soKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9LCByZW1haW5pbmdQYXRobmFtZSwgcGFyYW1OYW1lcywgcGFyYW1WYWx1ZXMpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGNhbGxiYWNrKCk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgdmFyIHJlc3VsdCA9IGdldENoaWxkUm91dGVzKHJvdXRlLCBsb2NhdGlvbiwgcGFyYW1OYW1lcywgcGFyYW1WYWx1ZXMsIG9uQ2hpbGRSb3V0ZXMpO1xuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgICBvbkNoaWxkUm91dGVzLmFwcGx5KHVuZGVmaW5lZCwgcmVzdWx0KTtcblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgY2FsbGJhY2soKTtcblx0ICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBBc3luY2hyb25vdXNseSBtYXRjaGVzIHRoZSBnaXZlbiBsb2NhdGlvbiB0byBhIHNldCBvZiByb3V0ZXMgYW5kIGNhbGxzXG5cdCAqIGNhbGxiYWNrKGVycm9yLCBzdGF0ZSkgd2hlbiBmaW5pc2hlZC4gVGhlIHN0YXRlIG9iamVjdCB3aWxsIGhhdmUgdGhlXG5cdCAqIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuXHQgKlxuXHQgKiAtIHJvdXRlcyAgICAgICBBbiBhcnJheSBvZiByb3V0ZXMgdGhhdCBtYXRjaGVkLCBpbiBoaWVyYXJjaGljYWwgb3JkZXJcblx0ICogLSBwYXJhbXMgICAgICAgQW4gb2JqZWN0IG9mIFVSTCBwYXJhbWV0ZXJzXG5cdCAqXG5cdCAqIE5vdGU6IFRoaXMgb3BlcmF0aW9uIG1heSBmaW5pc2ggc3luY2hyb25vdXNseSBpZiBubyByb3V0ZXMgaGF2ZSBhblxuXHQgKiBhc3luY2hyb25vdXMgZ2V0Q2hpbGRSb3V0ZXMgbWV0aG9kLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWF0Y2hSb3V0ZXMocm91dGVzLCBsb2NhdGlvbiwgY2FsbGJhY2ssIHJlbWFpbmluZ1BhdGhuYW1lKSB7XG5cdCAgdmFyIHBhcmFtTmFtZXMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDQgfHwgYXJndW1lbnRzWzRdID09PSB1bmRlZmluZWQgPyBbXSA6IGFyZ3VtZW50c1s0XTtcblx0ICB2YXIgcGFyYW1WYWx1ZXMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDUgfHwgYXJndW1lbnRzWzVdID09PSB1bmRlZmluZWQgPyBbXSA6IGFyZ3VtZW50c1s1XTtcblx0XG5cdCAgaWYgKHJlbWFpbmluZ1BhdGhuYW1lID09PSB1bmRlZmluZWQpIHtcblx0ICAgIC8vIFRPRE86IFRoaXMgaXMgYSBsaXR0bGUgYml0IHVnbHksIGJ1dCBpdCB3b3JrcyBhcm91bmQgYSBxdWlyayBpbiBoaXN0b3J5XG5cdCAgICAvLyB0aGF0IHN0cmlwcyB0aGUgbGVhZGluZyBzbGFzaCBmcm9tIHBhdGhuYW1lcyB3aGVuIHVzaW5nIGJhc2VuYW1lcyB3aXRoXG5cdCAgICAvLyB0cmFpbGluZyBzbGFzaGVzLlxuXHQgICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG5cdCAgICAgIGxvY2F0aW9uID0gX2V4dGVuZHMoe30sIGxvY2F0aW9uLCB7XG5cdCAgICAgICAgcGF0aG5hbWU6ICcvJyArIGxvY2F0aW9uLnBhdGhuYW1lXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgcmVtYWluaW5nUGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcblx0ICB9XG5cdFxuXHQgICgwLCBfQXN5bmNVdGlscy5sb29wQXN5bmMpKHJvdXRlcy5sZW5ndGgsIGZ1bmN0aW9uIChpbmRleCwgbmV4dCwgZG9uZSkge1xuXHQgICAgbWF0Y2hSb3V0ZURlZXAocm91dGVzW2luZGV4XSwgbG9jYXRpb24sIHJlbWFpbmluZ1BhdGhuYW1lLCBwYXJhbU5hbWVzLCBwYXJhbVZhbHVlcywgZnVuY3Rpb24gKGVycm9yLCBtYXRjaCkge1xuXHQgICAgICBpZiAoZXJyb3IgfHwgbWF0Y2gpIHtcblx0ICAgICAgICBkb25lKGVycm9yLCBtYXRjaCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgbmV4dCgpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9LCBjYWxsYmFjayk7XG5cdH1cblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKSlcblxuLyoqKi8gfSxcbi8qIDkyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIF91c2VRdWVyaWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cdFxuXHR2YXIgX3VzZVF1ZXJpZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXNlUXVlcmllcyk7XG5cdFxuXHR2YXIgX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCk7XG5cdFxuXHR2YXIgX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKTtcblx0XG5cdHZhciBfcm91dGVyV2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX3JvdXRlcldhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm91dGVyV2FybmluZyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykgeyB2YXIgdGFyZ2V0ID0ge307IGZvciAodmFyIGkgaW4gb2JqKSB7IGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlOyB0YXJnZXRbaV0gPSBvYmpbaV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXHRcblx0LyoqXG5cdCAqIFJldHVybnMgYSBuZXcgY3JlYXRlSGlzdG9yeSBmdW5jdGlvbiB0aGF0IG1heSBiZSB1c2VkIHRvIGNyZWF0ZVxuXHQgKiBoaXN0b3J5IG9iamVjdHMgdGhhdCBrbm93IGFib3V0IHJvdXRpbmcuXG5cdCAqXG5cdCAqIEVuaGFuY2VzIGhpc3Rvcnkgb2JqZWN0cyB3aXRoIHRoZSBmb2xsb3dpbmcgbWV0aG9kczpcblx0ICpcblx0ICogLSBsaXN0ZW4oKGVycm9yLCBuZXh0U3RhdGUpID0+IHt9KVxuXHQgKiAtIGxpc3RlbkJlZm9yZUxlYXZpbmdSb3V0ZShyb3V0ZSwgKG5leHRMb2NhdGlvbikgPT4ge30pXG5cdCAqIC0gbWF0Y2gobG9jYXRpb24sIChlcnJvciwgcmVkaXJlY3RMb2NhdGlvbiwgbmV4dFN0YXRlKSA9PiB7fSlcblx0ICogLSBpc0FjdGl2ZShwYXRobmFtZSwgcXVlcnksIGluZGV4T25seT1mYWxzZSlcblx0ICovXG5cdGZ1bmN0aW9uIHVzZVJvdXRlcyhjcmVhdGVIaXN0b3J5KSB7XG5cdCAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdgdXNlUm91dGVzYCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIGBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcmAgaW5zdGVhZC4nKSA6IHZvaWQgMDtcblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cdFxuXHQgICAgdmFyIHJvdXRlcyA9IF9yZWYucm91dGVzO1xuXHRcblx0ICAgIHZhciBvcHRpb25zID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFsncm91dGVzJ10pO1xuXHRcblx0ICAgIHZhciBoaXN0b3J5ID0gKDAsIF91c2VRdWVyaWVzMi5kZWZhdWx0KShjcmVhdGVIaXN0b3J5KShvcHRpb25zKTtcblx0ICAgIHZhciB0cmFuc2l0aW9uTWFuYWdlciA9ICgwLCBfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIyLmRlZmF1bHQpKGhpc3RvcnksIHJvdXRlcyk7XG5cdCAgICByZXR1cm4gX2V4dGVuZHMoe30sIGhpc3RvcnksIHRyYW5zaXRpb25NYW5hZ2VyKTtcblx0ICB9O1xuXHR9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSB1c2VSb3V0ZXM7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKSkpXG5cbi8qKiovIH0sXG4vKiA5MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHdpdGhSb3V0ZXI7XG5cdFxuXHR2YXIgX2ludmFyaWFudCA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfaG9pc3ROb25SZWFjdFN0YXRpY3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwKTtcblx0XG5cdHZhciBfaG9pc3ROb25SZWFjdFN0YXRpY3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaG9pc3ROb25SZWFjdFN0YXRpY3MpO1xuXHRcblx0dmFyIF9Qcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBnZXREaXNwbGF5TmFtZShXcmFwcGVkQ29tcG9uZW50KSB7XG5cdCAgcmV0dXJuIFdyYXBwZWRDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgV3JhcHBlZENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3aXRoUm91dGVyKFdyYXBwZWRDb21wb25lbnQsIG9wdGlvbnMpIHtcblx0ICB2YXIgd2l0aFJlZiA9IG9wdGlvbnMgJiYgb3B0aW9ucy53aXRoUmVmO1xuXHRcblx0ICB2YXIgV2l0aFJvdXRlciA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVDbGFzcyh7XG5cdCAgICBkaXNwbGF5TmFtZTogJ1dpdGhSb3V0ZXInLFxuXHRcblx0ICAgIGNvbnRleHRUeXBlczogeyByb3V0ZXI6IF9Qcm9wVHlwZXMucm91dGVyU2hhcGUgfSxcblx0ICAgIHByb3BUeXBlczogeyByb3V0ZXI6IF9Qcm9wVHlwZXMucm91dGVyU2hhcGUgfSxcblx0XG5cdCAgICBnZXRXcmFwcGVkSW5zdGFuY2U6IGZ1bmN0aW9uIGdldFdyYXBwZWRJbnN0YW5jZSgpIHtcblx0ICAgICAgIXdpdGhSZWYgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlLCAnVG8gYWNjZXNzIHRoZSB3cmFwcGVkIGluc3RhbmNlLCB5b3UgbmVlZCB0byBzcGVjaWZ5ICcgKyAnYHsgd2l0aFJlZjogdHJ1ZSB9YCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IG9mIHRoZSB3aXRoUm91dGVyKCkgY2FsbC4nKSA6ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSkgOiB2b2lkIDA7XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcy53cmFwcGVkSW5zdGFuY2U7XG5cdCAgICB9LFxuXHQgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgICB2YXIgcm91dGVyID0gdGhpcy5wcm9wcy5yb3V0ZXIgfHwgdGhpcy5jb250ZXh0LnJvdXRlcjtcblx0ICAgICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHsgcm91dGVyOiByb3V0ZXIgfSk7XG5cdFxuXHQgICAgICBpZiAod2l0aFJlZikge1xuXHQgICAgICAgIHByb3BzLnJlZiA9IGZ1bmN0aW9uIChjKSB7XG5cdCAgICAgICAgICBfdGhpcy53cmFwcGVkSW5zdGFuY2UgPSBjO1xuXHQgICAgICAgIH07XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChXcmFwcGVkQ29tcG9uZW50LCBwcm9wcyk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIFdpdGhSb3V0ZXIuZGlzcGxheU5hbWUgPSAnd2l0aFJvdXRlcignICsgZ2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCkgKyAnKSc7XG5cdCAgV2l0aFJvdXRlci5XcmFwcGVkQ29tcG9uZW50ID0gV3JhcHBlZENvbXBvbmVudDtcblx0XG5cdCAgcmV0dXJuICgwLCBfaG9pc3ROb25SZWFjdFN0YXRpY3MyLmRlZmF1bHQpKFdpdGhSb3V0ZXIsIFdyYXBwZWRDb21wb25lbnQpO1xuXHR9XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKSkpXG5cbi8qKiovIH0sXG4vKiA5NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMucHJpbnRCdWZmZXIgPSBwcmludEJ1ZmZlcjtcblx0XG5cdHZhciBfaGVscGVycyA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpO1xuXHRcblx0dmFyIF9kaWZmID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Nik7XG5cdFxuXHR2YXIgX2RpZmYyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGlmZik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfVxuXHRcblx0LyoqXG5cdCAqIEdldCBsb2cgbGV2ZWwgc3RyaW5nIGJhc2VkIG9uIHN1cHBsaWVkIHBhcmFtc1xuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZyB8IGZ1bmN0aW9uIHwgb2JqZWN0fSBsZXZlbCAtIGNvbnNvbGVbbGV2ZWxdXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBhY3Rpb24gLSBzZWxlY3RlZCBhY3Rpb25cblx0ICogQHBhcmFtIHthcnJheX0gcGF5bG9hZCAtIHNlbGVjdGVkIHBheWxvYWRcblx0ICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBsb2cgZW50cnkgdHlwZVxuXHQgKlxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfSBsZXZlbFxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0TG9nTGV2ZWwobGV2ZWwsIGFjdGlvbiwgcGF5bG9hZCwgdHlwZSkge1xuXHQgIHN3aXRjaCAodHlwZW9mIGxldmVsID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihsZXZlbCkpIHtcblx0ICAgIGNhc2UgJ29iamVjdCc6XG5cdCAgICAgIHJldHVybiB0eXBlb2YgbGV2ZWxbdHlwZV0gPT09ICdmdW5jdGlvbicgPyBsZXZlbFt0eXBlXS5hcHBseShsZXZlbCwgX3RvQ29uc3VtYWJsZUFycmF5KHBheWxvYWQpKSA6IGxldmVsW3R5cGVdO1xuXHQgICAgY2FzZSAnZnVuY3Rpb24nOlxuXHQgICAgICByZXR1cm4gbGV2ZWwoYWN0aW9uKTtcblx0ICAgIGRlZmF1bHQ6XG5cdCAgICAgIHJldHVybiBsZXZlbDtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRlZmF1bHRUaXRsZUZvcm1hdHRlcihvcHRpb25zKSB7XG5cdCAgdmFyIHRpbWVzdGFtcCA9IG9wdGlvbnMudGltZXN0YW1wO1xuXHQgIHZhciBkdXJhdGlvbiA9IG9wdGlvbnMuZHVyYXRpb247XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uLCB0aW1lLCB0b29rKSB7XG5cdCAgICB2YXIgcGFydHMgPSBbJ2FjdGlvbiddO1xuXHQgICAgaWYgKHRpbWVzdGFtcCkge1xuXHQgICAgICBwYXJ0cy5wdXNoKCdAICcgKyB0aW1lKTtcblx0ICAgIH1cblx0ICAgIHBhcnRzLnB1c2goYWN0aW9uLnR5cGUpO1xuXHQgICAgaWYgKGR1cmF0aW9uKSB7XG5cdCAgICAgIHBhcnRzLnB1c2goJyhpbiAnICsgdG9vay50b0ZpeGVkKDIpICsgJyBtcyknKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBwYXJ0cy5qb2luKCcgJyk7XG5cdCAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcHJpbnRCdWZmZXIoYnVmZmVyLCBvcHRpb25zKSB7XG5cdCAgdmFyIGxvZ2dlciA9IG9wdGlvbnMubG9nZ2VyO1xuXHQgIHZhciBhY3Rpb25UcmFuc2Zvcm1lciA9IG9wdGlvbnMuYWN0aW9uVHJhbnNmb3JtZXI7XG5cdCAgdmFyIF9vcHRpb25zJHRpdGxlRm9ybWF0dCA9IG9wdGlvbnMudGl0bGVGb3JtYXR0ZXI7XG5cdCAgdmFyIHRpdGxlRm9ybWF0dGVyID0gX29wdGlvbnMkdGl0bGVGb3JtYXR0ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0VGl0bGVGb3JtYXR0ZXIob3B0aW9ucykgOiBfb3B0aW9ucyR0aXRsZUZvcm1hdHQ7XG5cdCAgdmFyIGNvbGxhcHNlZCA9IG9wdGlvbnMuY29sbGFwc2VkO1xuXHQgIHZhciBjb2xvcnMgPSBvcHRpb25zLmNvbG9ycztcblx0ICB2YXIgbGV2ZWwgPSBvcHRpb25zLmxldmVsO1xuXHQgIHZhciBkaWZmID0gb3B0aW9ucy5kaWZmO1xuXHRcblx0ICBidWZmZXIuZm9yRWFjaChmdW5jdGlvbiAobG9nRW50cnksIGtleSkge1xuXHQgICAgdmFyIHN0YXJ0ZWQgPSBsb2dFbnRyeS5zdGFydGVkO1xuXHQgICAgdmFyIHN0YXJ0ZWRUaW1lID0gbG9nRW50cnkuc3RhcnRlZFRpbWU7XG5cdCAgICB2YXIgYWN0aW9uID0gbG9nRW50cnkuYWN0aW9uO1xuXHQgICAgdmFyIHByZXZTdGF0ZSA9IGxvZ0VudHJ5LnByZXZTdGF0ZTtcblx0ICAgIHZhciBlcnJvciA9IGxvZ0VudHJ5LmVycm9yO1xuXHQgICAgdmFyIHRvb2sgPSBsb2dFbnRyeS50b29rO1xuXHQgICAgdmFyIG5leHRTdGF0ZSA9IGxvZ0VudHJ5Lm5leHRTdGF0ZTtcblx0XG5cdCAgICB2YXIgbmV4dEVudHJ5ID0gYnVmZmVyW2tleSArIDFdO1xuXHRcblx0ICAgIGlmIChuZXh0RW50cnkpIHtcblx0ICAgICAgbmV4dFN0YXRlID0gbmV4dEVudHJ5LnByZXZTdGF0ZTtcblx0ICAgICAgdG9vayA9IG5leHRFbnRyeS5zdGFydGVkIC0gc3RhcnRlZDtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBNZXNzYWdlXG5cdCAgICB2YXIgZm9ybWF0dGVkQWN0aW9uID0gYWN0aW9uVHJhbnNmb3JtZXIoYWN0aW9uKTtcblx0ICAgIHZhciBpc0NvbGxhcHNlZCA9IHR5cGVvZiBjb2xsYXBzZWQgPT09ICdmdW5jdGlvbicgPyBjb2xsYXBzZWQoZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gbmV4dFN0YXRlO1xuXHQgICAgfSwgYWN0aW9uKSA6IGNvbGxhcHNlZDtcblx0XG5cdCAgICB2YXIgZm9ybWF0dGVkVGltZSA9ICgwLCBfaGVscGVycy5mb3JtYXRUaW1lKShzdGFydGVkVGltZSk7XG5cdCAgICB2YXIgdGl0bGVDU1MgPSBjb2xvcnMudGl0bGUgPyAnY29sb3I6ICcgKyBjb2xvcnMudGl0bGUoZm9ybWF0dGVkQWN0aW9uKSArICc7JyA6IG51bGw7XG5cdCAgICB2YXIgdGl0bGUgPSB0aXRsZUZvcm1hdHRlcihmb3JtYXR0ZWRBY3Rpb24sIGZvcm1hdHRlZFRpbWUsIHRvb2spO1xuXHRcblx0ICAgIC8vIFJlbmRlclxuXHQgICAgdHJ5IHtcblx0ICAgICAgaWYgKGlzQ29sbGFwc2VkKSB7XG5cdCAgICAgICAgaWYgKGNvbG9ycy50aXRsZSkgbG9nZ2VyLmdyb3VwQ29sbGFwc2VkKCclYyAnICsgdGl0bGUsIHRpdGxlQ1NTKTtlbHNlIGxvZ2dlci5ncm91cENvbGxhcHNlZCh0aXRsZSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKGNvbG9ycy50aXRsZSkgbG9nZ2VyLmdyb3VwKCclYyAnICsgdGl0bGUsIHRpdGxlQ1NTKTtlbHNlIGxvZ2dlci5ncm91cCh0aXRsZSk7XG5cdCAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgbG9nZ2VyLmxvZyh0aXRsZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHByZXZTdGF0ZUxldmVsID0gZ2V0TG9nTGV2ZWwobGV2ZWwsIGZvcm1hdHRlZEFjdGlvbiwgW3ByZXZTdGF0ZV0sICdwcmV2U3RhdGUnKTtcblx0ICAgIHZhciBhY3Rpb25MZXZlbCA9IGdldExvZ0xldmVsKGxldmVsLCBmb3JtYXR0ZWRBY3Rpb24sIFtmb3JtYXR0ZWRBY3Rpb25dLCAnYWN0aW9uJyk7XG5cdCAgICB2YXIgZXJyb3JMZXZlbCA9IGdldExvZ0xldmVsKGxldmVsLCBmb3JtYXR0ZWRBY3Rpb24sIFtlcnJvciwgcHJldlN0YXRlXSwgJ2Vycm9yJyk7XG5cdCAgICB2YXIgbmV4dFN0YXRlTGV2ZWwgPSBnZXRMb2dMZXZlbChsZXZlbCwgZm9ybWF0dGVkQWN0aW9uLCBbbmV4dFN0YXRlXSwgJ25leHRTdGF0ZScpO1xuXHRcblx0ICAgIGlmIChwcmV2U3RhdGVMZXZlbCkge1xuXHQgICAgICBpZiAoY29sb3JzLnByZXZTdGF0ZSkgbG9nZ2VyW3ByZXZTdGF0ZUxldmVsXSgnJWMgcHJldiBzdGF0ZScsICdjb2xvcjogJyArIGNvbG9ycy5wcmV2U3RhdGUocHJldlN0YXRlKSArICc7IGZvbnQtd2VpZ2h0OiBib2xkJywgcHJldlN0YXRlKTtlbHNlIGxvZ2dlcltwcmV2U3RhdGVMZXZlbF0oJ3ByZXYgc3RhdGUnLCBwcmV2U3RhdGUpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChhY3Rpb25MZXZlbCkge1xuXHQgICAgICBpZiAoY29sb3JzLmFjdGlvbikgbG9nZ2VyW2FjdGlvbkxldmVsXSgnJWMgYWN0aW9uJywgJ2NvbG9yOiAnICsgY29sb3JzLmFjdGlvbihmb3JtYXR0ZWRBY3Rpb24pICsgJzsgZm9udC13ZWlnaHQ6IGJvbGQnLCBmb3JtYXR0ZWRBY3Rpb24pO2Vsc2UgbG9nZ2VyW2FjdGlvbkxldmVsXSgnYWN0aW9uJywgZm9ybWF0dGVkQWN0aW9uKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoZXJyb3IgJiYgZXJyb3JMZXZlbCkge1xuXHQgICAgICBpZiAoY29sb3JzLmVycm9yKSBsb2dnZXJbZXJyb3JMZXZlbF0oJyVjIGVycm9yJywgJ2NvbG9yOiAnICsgY29sb3JzLmVycm9yKGVycm9yLCBwcmV2U3RhdGUpICsgJzsgZm9udC13ZWlnaHQ6IGJvbGQnLCBlcnJvcik7ZWxzZSBsb2dnZXJbZXJyb3JMZXZlbF0oJ2Vycm9yJywgZXJyb3IpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChuZXh0U3RhdGVMZXZlbCkge1xuXHQgICAgICBpZiAoY29sb3JzLm5leHRTdGF0ZSkgbG9nZ2VyW25leHRTdGF0ZUxldmVsXSgnJWMgbmV4dCBzdGF0ZScsICdjb2xvcjogJyArIGNvbG9ycy5uZXh0U3RhdGUobmV4dFN0YXRlKSArICc7IGZvbnQtd2VpZ2h0OiBib2xkJywgbmV4dFN0YXRlKTtlbHNlIGxvZ2dlcltuZXh0U3RhdGVMZXZlbF0oJ25leHQgc3RhdGUnLCBuZXh0U3RhdGUpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChkaWZmKSB7XG5cdCAgICAgICgwLCBfZGlmZjIuZGVmYXVsdCkocHJldlN0YXRlLCBuZXh0U3RhdGUsIGxvZ2dlciwgaXNDb2xsYXBzZWQpO1xuXHQgICAgfVxuXHRcblx0ICAgIHRyeSB7XG5cdCAgICAgIGxvZ2dlci5ncm91cEVuZCgpO1xuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICBsb2dnZXIubG9nKCfigJTigJQgbG9nIGVuZCDigJTigJQnKTtcblx0ICAgIH1cblx0ICB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogOTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBsZXZlbDogXCJsb2dcIixcblx0ICBsb2dnZXI6IGNvbnNvbGUsXG5cdCAgbG9nRXJyb3JzOiB0cnVlLFxuXHQgIGNvbGxhcHNlZDogdW5kZWZpbmVkLFxuXHQgIHByZWRpY2F0ZTogdW5kZWZpbmVkLFxuXHQgIGR1cmF0aW9uOiBmYWxzZSxcblx0ICB0aW1lc3RhbXA6IHRydWUsXG5cdCAgc3RhdGVUcmFuc2Zvcm1lcjogZnVuY3Rpb24gc3RhdGVUcmFuc2Zvcm1lcihzdGF0ZSkge1xuXHQgICAgcmV0dXJuIHN0YXRlO1xuXHQgIH0sXG5cdCAgYWN0aW9uVHJhbnNmb3JtZXI6IGZ1bmN0aW9uIGFjdGlvblRyYW5zZm9ybWVyKGFjdGlvbikge1xuXHQgICAgcmV0dXJuIGFjdGlvbjtcblx0ICB9LFxuXHQgIGVycm9yVHJhbnNmb3JtZXI6IGZ1bmN0aW9uIGVycm9yVHJhbnNmb3JtZXIoZXJyb3IpIHtcblx0ICAgIHJldHVybiBlcnJvcjtcblx0ICB9LFxuXHQgIGNvbG9yczoge1xuXHQgICAgdGl0bGU6IGZ1bmN0aW9uIHRpdGxlKCkge1xuXHQgICAgICByZXR1cm4gXCJpbmhlcml0XCI7XG5cdCAgICB9LFxuXHQgICAgcHJldlN0YXRlOiBmdW5jdGlvbiBwcmV2U3RhdGUoKSB7XG5cdCAgICAgIHJldHVybiBcIiM5RTlFOUVcIjtcblx0ICAgIH0sXG5cdCAgICBhY3Rpb246IGZ1bmN0aW9uIGFjdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIFwiIzAzQTlGNFwiO1xuXHQgICAgfSxcblx0ICAgIG5leHRTdGF0ZTogZnVuY3Rpb24gbmV4dFN0YXRlKCkge1xuXHQgICAgICByZXR1cm4gXCIjNENBRjUwXCI7XG5cdCAgICB9LFxuXHQgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKCkge1xuXHQgICAgICByZXR1cm4gXCIjRjIwNDA0XCI7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBkaWZmOiBmYWxzZSxcblx0ICBkaWZmUHJlZGljYXRlOiB1bmRlZmluZWQsXG5cdFxuXHQgIC8vIERlcHJlY2F0ZWQgb3B0aW9uc1xuXHQgIHRyYW5zZm9ybWVyOiB1bmRlZmluZWRcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiA5NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGRpZmZMb2dnZXI7XG5cdFxuXHR2YXIgX2RlZXBEaWZmID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Mik7XG5cdFxuXHR2YXIgX2RlZXBEaWZmMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZXBEaWZmKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHQvLyBodHRwczovL2dpdGh1Yi5jb20vZmxpdGJpdC9kaWZmI2RpZmZlcmVuY2VzXG5cdHZhciBkaWN0aW9uYXJ5ID0ge1xuXHQgICdFJzoge1xuXHQgICAgY29sb3I6ICcjMjE5NkYzJyxcblx0ICAgIHRleHQ6ICdDSEFOR0VEOidcblx0ICB9LFxuXHQgICdOJzoge1xuXHQgICAgY29sb3I6ICcjNENBRjUwJyxcblx0ICAgIHRleHQ6ICdBRERFRDonXG5cdCAgfSxcblx0ICAnRCc6IHtcblx0ICAgIGNvbG9yOiAnI0Y0NDMzNicsXG5cdCAgICB0ZXh0OiAnREVMRVRFRDonXG5cdCAgfSxcblx0ICAnQSc6IHtcblx0ICAgIGNvbG9yOiAnIzIxOTZGMycsXG5cdCAgICB0ZXh0OiAnQVJSQVk6J1xuXHQgIH1cblx0fTtcblx0XG5cdGZ1bmN0aW9uIHN0eWxlKGtpbmQpIHtcblx0ICByZXR1cm4gJ2NvbG9yOiAnICsgZGljdGlvbmFyeVtraW5kXS5jb2xvciArICc7IGZvbnQtd2VpZ2h0OiBib2xkJztcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVuZGVyKGRpZmYpIHtcblx0ICB2YXIga2luZCA9IGRpZmYua2luZDtcblx0ICB2YXIgcGF0aCA9IGRpZmYucGF0aDtcblx0ICB2YXIgbGhzID0gZGlmZi5saHM7XG5cdCAgdmFyIHJocyA9IGRpZmYucmhzO1xuXHQgIHZhciBpbmRleCA9IGRpZmYuaW5kZXg7XG5cdCAgdmFyIGl0ZW0gPSBkaWZmLml0ZW07XG5cdFxuXHQgIHN3aXRjaCAoa2luZCkge1xuXHQgICAgY2FzZSAnRSc6XG5cdCAgICAgIHJldHVybiBwYXRoLmpvaW4oJy4nKSArICcgJyArIGxocyArICcg4oaSICcgKyByaHM7XG5cdCAgICBjYXNlICdOJzpcblx0ICAgICAgcmV0dXJuIHBhdGguam9pbignLicpICsgJyAnICsgcmhzO1xuXHQgICAgY2FzZSAnRCc6XG5cdCAgICAgIHJldHVybiAnJyArIHBhdGguam9pbignLicpO1xuXHQgICAgY2FzZSAnQSc6XG5cdCAgICAgIHJldHVybiBbcGF0aC5qb2luKCcuJykgKyAnWycgKyBpbmRleCArICddJywgaXRlbV07XG5cdCAgICBkZWZhdWx0OlxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRpZmZMb2dnZXIocHJldlN0YXRlLCBuZXdTdGF0ZSwgbG9nZ2VyLCBpc0NvbGxhcHNlZCkge1xuXHQgIHZhciBkaWZmID0gKDAsIF9kZWVwRGlmZjIuZGVmYXVsdCkocHJldlN0YXRlLCBuZXdTdGF0ZSk7XG5cdFxuXHQgIHRyeSB7XG5cdCAgICBpZiAoaXNDb2xsYXBzZWQpIHtcblx0ICAgICAgbG9nZ2VyLmdyb3VwQ29sbGFwc2VkKCdkaWZmJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBsb2dnZXIuZ3JvdXAoJ2RpZmYnKTtcblx0ICAgIH1cblx0ICB9IGNhdGNoIChlKSB7XG5cdCAgICBsb2dnZXIubG9nKCdkaWZmJyk7XG5cdCAgfVxuXHRcblx0ICBpZiAoZGlmZikge1xuXHQgICAgZGlmZi5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtKSB7XG5cdCAgICAgIHZhciBraW5kID0gZWxlbS5raW5kO1xuXHRcblx0ICAgICAgdmFyIG91dHB1dCA9IHJlbmRlcihlbGVtKTtcblx0XG5cdCAgICAgIGxvZ2dlci5sb2coJyVjICcgKyBkaWN0aW9uYXJ5W2tpbmRdLnRleHQsIHN0eWxlKGtpbmQpLCBvdXRwdXQpO1xuXHQgICAgfSk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIGxvZ2dlci5sb2coJ+KAlOKAlCBubyBkaWZmIOKAlOKAlCcpO1xuXHQgIH1cblx0XG5cdCAgdHJ5IHtcblx0ICAgIGxvZ2dlci5ncm91cEVuZCgpO1xuXHQgIH0gY2F0Y2ggKGUpIHtcblx0ICAgIGxvZ2dlci5sb2coJ+KAlOKAlCBkaWZmIGVuZCDigJTigJQgJyk7XG5cdCAgfVxuXHR9XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogOTcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oOTQpO1xuXHRcblx0dmFyIF9oZWxwZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OSk7XG5cdFxuXHR2YXIgX2RlZmF1bHRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NSk7XG5cdFxuXHR2YXIgX2RlZmF1bHRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmF1bHRzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlcyBsb2dnZXIgd2l0aCBmb2xsb3dpbmcgb3B0aW9uc1xuXHQgKlxuXHQgKiBAbmFtZXNwYWNlXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBmb3IgbG9nZ2VyXG5cdCAqIEBwYXJhbSB7c3RyaW5nIHwgZnVuY3Rpb24gfCBvYmplY3R9IG9wdGlvbnMubGV2ZWwgLSBjb25zb2xlW2xldmVsXVxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMuZHVyYXRpb24gLSBwcmludCBkdXJhdGlvbiBvZiBlYWNoIGFjdGlvbj9cblx0ICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLnRpbWVzdGFtcCAtIHByaW50IHRpbWVzdGFtcCB3aXRoIGVhY2ggYWN0aW9uP1xuXHQgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucy5jb2xvcnMgLSBjdXN0b20gY29sb3JzXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zLmxvZ2dlciAtIGltcGxlbWVudGF0aW9uIG9mIHRoZSBgY29uc29sZWAgQVBJXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5sb2dFcnJvcnMgLSBzaG91bGQgZXJyb3JzIGluIGFjdGlvbiBleGVjdXRpb24gYmUgY2F1Z2h0LCBsb2dnZWQsIGFuZCByZS10aHJvd24/XG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5jb2xsYXBzZWQgLSBpcyBncm91cCBjb2xsYXBzZWQ/XG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5wcmVkaWNhdGUgLSBjb25kaXRpb24gd2hpY2ggcmVzb2x2ZXMgbG9nZ2VyIGJlaGF2aW9yXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IG9wdGlvbnMuc3RhdGVUcmFuc2Zvcm1lciAtIHRyYW5zZm9ybSBzdGF0ZSBiZWZvcmUgcHJpbnRcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gb3B0aW9ucy5hY3Rpb25UcmFuc2Zvcm1lciAtIHRyYW5zZm9ybSBhY3Rpb24gYmVmb3JlIHByaW50XG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IG9wdGlvbnMuZXJyb3JUcmFuc2Zvcm1lciAtIHRyYW5zZm9ybSBlcnJvciBiZWZvcmUgcHJpbnRcblx0ICpcblx0ICogQHJldHVybnMge2Z1bmN0aW9ufSBsb2dnZXIgbWlkZGxld2FyZVxuXHQgKi9cblx0ZnVuY3Rpb24gY3JlYXRlTG9nZ2VyKCkge1xuXHQgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cdFxuXHQgIHZhciBsb2dnZXJPcHRpb25zID0gX2V4dGVuZHMoe30sIF9kZWZhdWx0czIuZGVmYXVsdCwgb3B0aW9ucyk7XG5cdFxuXHQgIHZhciBsb2dnZXIgPSBsb2dnZXJPcHRpb25zLmxvZ2dlcjtcblx0ICB2YXIgdHJhbnNmb3JtZXIgPSBsb2dnZXJPcHRpb25zLnRyYW5zZm9ybWVyO1xuXHQgIHZhciBzdGF0ZVRyYW5zZm9ybWVyID0gbG9nZ2VyT3B0aW9ucy5zdGF0ZVRyYW5zZm9ybWVyO1xuXHQgIHZhciBlcnJvclRyYW5zZm9ybWVyID0gbG9nZ2VyT3B0aW9ucy5lcnJvclRyYW5zZm9ybWVyO1xuXHQgIHZhciBwcmVkaWNhdGUgPSBsb2dnZXJPcHRpb25zLnByZWRpY2F0ZTtcblx0ICB2YXIgbG9nRXJyb3JzID0gbG9nZ2VyT3B0aW9ucy5sb2dFcnJvcnM7XG5cdCAgdmFyIGRpZmZQcmVkaWNhdGUgPSBsb2dnZXJPcHRpb25zLmRpZmZQcmVkaWNhdGU7XG5cdFxuXHQgIC8vIFJldHVybiBpZiAnY29uc29sZScgb2JqZWN0IGlzIG5vdCBkZWZpbmVkXG5cdFxuXHQgIGlmICh0eXBlb2YgbG9nZ2VyID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcblx0ICAgICAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG5cdCAgICAgICAgfTtcblx0ICAgICAgfTtcblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICBpZiAodHJhbnNmb3JtZXIpIHtcblx0ICAgIGNvbnNvbGUuZXJyb3IoJ09wdGlvbiBcXCd0cmFuc2Zvcm1lclxcJyBpcyBkZXByZWNhdGVkLCB1c2UgXFwnc3RhdGVUcmFuc2Zvcm1lclxcJyBpbnN0ZWFkIScpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcblx0ICB9XG5cdFxuXHQgIHZhciBsb2dCdWZmZXIgPSBbXTtcblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChfcmVmKSB7XG5cdCAgICB2YXIgZ2V0U3RhdGUgPSBfcmVmLmdldFN0YXRlO1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG5cdCAgICAgICAgLy8gRXhpdCBlYXJseSBpZiBwcmVkaWNhdGUgZnVuY3Rpb24gcmV0dXJucyAnZmFsc2UnXG5cdCAgICAgICAgaWYgKHR5cGVvZiBwcmVkaWNhdGUgPT09ICdmdW5jdGlvbicgJiYgIXByZWRpY2F0ZShnZXRTdGF0ZSwgYWN0aW9uKSkge1xuXHQgICAgICAgICAgcmV0dXJuIG5leHQoYWN0aW9uKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBsb2dFbnRyeSA9IHt9O1xuXHQgICAgICAgIGxvZ0J1ZmZlci5wdXNoKGxvZ0VudHJ5KTtcblx0XG5cdCAgICAgICAgbG9nRW50cnkuc3RhcnRlZCA9IF9oZWxwZXJzLnRpbWVyLm5vdygpO1xuXHQgICAgICAgIGxvZ0VudHJ5LnN0YXJ0ZWRUaW1lID0gbmV3IERhdGUoKTtcblx0ICAgICAgICBsb2dFbnRyeS5wcmV2U3RhdGUgPSBzdGF0ZVRyYW5zZm9ybWVyKGdldFN0YXRlKCkpO1xuXHQgICAgICAgIGxvZ0VudHJ5LmFjdGlvbiA9IGFjdGlvbjtcblx0XG5cdCAgICAgICAgdmFyIHJldHVybmVkVmFsdWUgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgaWYgKGxvZ0Vycm9ycykge1xuXHQgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgcmV0dXJuZWRWYWx1ZSA9IG5leHQoYWN0aW9uKTtcblx0ICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgICAgbG9nRW50cnkuZXJyb3IgPSBlcnJvclRyYW5zZm9ybWVyKGUpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICByZXR1cm5lZFZhbHVlID0gbmV4dChhY3Rpb24pO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgbG9nRW50cnkudG9vayA9IF9oZWxwZXJzLnRpbWVyLm5vdygpIC0gbG9nRW50cnkuc3RhcnRlZDtcblx0ICAgICAgICBsb2dFbnRyeS5uZXh0U3RhdGUgPSBzdGF0ZVRyYW5zZm9ybWVyKGdldFN0YXRlKCkpO1xuXHRcblx0ICAgICAgICB2YXIgZGlmZiA9IGxvZ2dlck9wdGlvbnMuZGlmZiAmJiB0eXBlb2YgZGlmZlByZWRpY2F0ZSA9PT0gJ2Z1bmN0aW9uJyA/IGRpZmZQcmVkaWNhdGUoZ2V0U3RhdGUsIGFjdGlvbikgOiBsb2dnZXJPcHRpb25zLmRpZmY7XG5cdFxuXHQgICAgICAgICgwLCBfY29yZS5wcmludEJ1ZmZlcikobG9nQnVmZmVyLCBfZXh0ZW5kcyh7fSwgbG9nZ2VyT3B0aW9ucywgeyBkaWZmOiBkaWZmIH0pKTtcblx0ICAgICAgICBsb2dCdWZmZXIubGVuZ3RoID0gMDtcblx0XG5cdCAgICAgICAgaWYgKGxvZ0VudHJ5LmVycm9yKSB0aHJvdyBsb2dFbnRyeS5lcnJvcjtcblx0ICAgICAgICByZXR1cm4gcmV0dXJuZWRWYWx1ZTtcblx0ICAgICAgfTtcblx0ICAgIH07XG5cdCAgfTtcblx0fVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlTG9nZ2VyO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDk4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRmdW5jdGlvbiBjcmVhdGVUaHVua01pZGRsZXdhcmUoZXh0cmFBcmd1bWVudCkge1xuXHQgIHJldHVybiBmdW5jdGlvbiAoX3JlZikge1xuXHQgICAgdmFyIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaCxcblx0ICAgICAgICBnZXRTdGF0ZSA9IF9yZWYuZ2V0U3RhdGU7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKG5leHQpIHtcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcblx0ICAgICAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgcmV0dXJuIGFjdGlvbihkaXNwYXRjaCwgZ2V0U3RhdGUsIGV4dHJhQXJndW1lbnQpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIG5leHQoYWN0aW9uKTtcblx0ICAgICAgfTtcblx0ICAgIH07XG5cdCAgfTtcblx0fVxuXHRcblx0dmFyIHRodW5rID0gY3JlYXRlVGh1bmtNaWRkbGV3YXJlKCk7XG5cdHRodW5rLndpdGhFeHRyYUFyZ3VtZW50ID0gY3JlYXRlVGh1bmtNaWRkbGV3YXJlO1xuXHRcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gdGh1bms7XG5cbi8qKiovIH0sXG4vKiA5OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHIpIHtcblx0XHRyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cikucmVwbGFjZSgvWyEnKCkqXS9nLCBmdW5jdGlvbiAoYykge1xuXHRcdFx0cmV0dXJuICclJyArIGMuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcblx0XHR9KTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogMTAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMjEsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMjIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMjMsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMjQsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMjUsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTA1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMjYsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMjcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMjgsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTA4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiNWNiODc5N2Y4YjFiZDRlMmI2NTA0MzViZjJmNzQ4N2EuanBnXCI7XG5cbi8qKiovIH0sXG4vKiAxMDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7LyoqXG5cdCAqIENvcHlyaWdodCAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG5cdCAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcblx0ICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG5cdCAqL1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0LyoqXG5cdCAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cblx0ICogVGhpcyBjYW4gYmUgdXNlZCB0byBsb2cgaXNzdWVzIGluIGRldmVsb3BtZW50IGVudmlyb25tZW50cyBpbiBjcml0aWNhbFxuXHQgKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuXHQgKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cblx0ICovXG5cdFxuXHR2YXIgd2FybmluZyA9IGZ1bmN0aW9uKCkge307XG5cdFxuXHRpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgIHdhcm5pbmcgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYXJncykge1xuXHQgICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cdCAgICBhcmdzID0gbmV3IEFycmF5KGxlbiA+IDIgPyBsZW4gLSAyIDogMCk7XG5cdCAgICBmb3IgKHZhciBrZXkgPSAyOyBrZXkgPCBsZW47IGtleSsrKSB7XG5cdCAgICAgIGFyZ3Nba2V5IC0gMl0gPSBhcmd1bWVudHNba2V5XTtcblx0ICAgIH1cblx0ICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoXG5cdCAgICAgICAgJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgK1xuXHQgICAgICAgICdtZXNzYWdlIGFyZ3VtZW50J1xuXHQgICAgICApO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChmb3JtYXQubGVuZ3RoIDwgMTAgfHwgKC9eW3NcXFddKiQvKS50ZXN0KGZvcm1hdCkpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKFxuXHQgICAgICAgICdUaGUgd2FybmluZyBmb3JtYXQgc2hvdWxkIGJlIGFibGUgdG8gdW5pcXVlbHkgaWRlbnRpZnkgdGhpcyAnICtcblx0ICAgICAgICAnd2FybmluZy4gUGxlYXNlLCB1c2UgYSBtb3JlIGRlc2NyaXB0aXZlIGZvcm1hdCB0aGFuOiAnICsgZm9ybWF0XG5cdCAgICAgICk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKCFjb25kaXRpb24pIHtcblx0ICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcblx0ICAgICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArXG5cdCAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuXHQgICAgICB9XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG5cdCAgICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuXHQgICAgICB9IGNhdGNoKHgpIHt9XG5cdCAgICB9XG5cdCAgfTtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkpKVxuXG4vKioqLyB9LFxuLyogMTEwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQoZnVuY3Rpb24oc2VsZikge1xuXHQgICd1c2Ugc3RyaWN0Jztcblx0XG5cdCAgaWYgKHNlbGYuZmV0Y2gpIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0XG5cdCAgdmFyIHN1cHBvcnQgPSB7XG5cdCAgICBzZWFyY2hQYXJhbXM6ICdVUkxTZWFyY2hQYXJhbXMnIGluIHNlbGYsXG5cdCAgICBpdGVyYWJsZTogJ1N5bWJvbCcgaW4gc2VsZiAmJiAnaXRlcmF0b3InIGluIFN5bWJvbCxcblx0ICAgIGJsb2I6ICdGaWxlUmVhZGVyJyBpbiBzZWxmICYmICdCbG9iJyBpbiBzZWxmICYmIChmdW5jdGlvbigpIHtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBuZXcgQmxvYigpXG5cdCAgICAgICAgcmV0dXJuIHRydWVcblx0ICAgICAgfSBjYXRjaChlKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlXG5cdCAgICAgIH1cblx0ICAgIH0pKCksXG5cdCAgICBmb3JtRGF0YTogJ0Zvcm1EYXRhJyBpbiBzZWxmLFxuXHQgICAgYXJyYXlCdWZmZXI6ICdBcnJheUJ1ZmZlcicgaW4gc2VsZlxuXHQgIH1cblx0XG5cdCAgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIpIHtcblx0ICAgIHZhciB2aWV3Q2xhc3NlcyA9IFtcblx0ICAgICAgJ1tvYmplY3QgSW50OEFycmF5XScsXG5cdCAgICAgICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcblx0ICAgICAgJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcblx0ICAgICAgJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuXHQgICAgICAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuXHQgICAgICAnW29iamVjdCBJbnQzMkFycmF5XScsXG5cdCAgICAgICdbb2JqZWN0IFVpbnQzMkFycmF5XScsXG5cdCAgICAgICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuXHQgICAgICAnW29iamVjdCBGbG9hdDY0QXJyYXldJ1xuXHQgICAgXVxuXHRcblx0ICAgIHZhciBpc0RhdGFWaWV3ID0gZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgIHJldHVybiBvYmogJiYgRGF0YVZpZXcucHJvdG90eXBlLmlzUHJvdG90eXBlT2Yob2JqKVxuXHQgICAgfVxuXHRcblx0ICAgIHZhciBpc0FycmF5QnVmZmVyVmlldyA9IEFycmF5QnVmZmVyLmlzVmlldyB8fCBmdW5jdGlvbihvYmopIHtcblx0ICAgICAgcmV0dXJuIG9iaiAmJiB2aWV3Q2xhc3Nlcy5pbmRleE9mKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopKSA+IC0xXG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBub3JtYWxpemVOYW1lKG5hbWUpIHtcblx0ICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcblx0ICAgICAgbmFtZSA9IFN0cmluZyhuYW1lKVxuXHQgICAgfVxuXHQgICAgaWYgKC9bXmEtejAtOVxcLSMkJSYnKisuXFxeX2B8fl0vaS50ZXN0KG5hbWUpKSB7XG5cdCAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY2hhcmFjdGVyIGluIGhlYWRlciBmaWVsZCBuYW1lJylcblx0ICAgIH1cblx0ICAgIHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKClcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG5cdCAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuXHQgICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSlcblx0ICAgIH1cblx0ICAgIHJldHVybiB2YWx1ZVxuXHQgIH1cblx0XG5cdCAgLy8gQnVpbGQgYSBkZXN0cnVjdGl2ZSBpdGVyYXRvciBmb3IgdGhlIHZhbHVlIGxpc3Rcblx0ICBmdW5jdGlvbiBpdGVyYXRvckZvcihpdGVtcykge1xuXHQgICAgdmFyIGl0ZXJhdG9yID0ge1xuXHQgICAgICBuZXh0OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgdmFsdWUgPSBpdGVtcy5zaGlmdCgpXG5cdCAgICAgICAgcmV0dXJuIHtkb25lOiB2YWx1ZSA9PT0gdW5kZWZpbmVkLCB2YWx1ZTogdmFsdWV9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuXHQgICAgICBpdGVyYXRvcltTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIGl0ZXJhdG9yXG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gaXRlcmF0b3Jcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIEhlYWRlcnMoaGVhZGVycykge1xuXHQgICAgdGhpcy5tYXAgPSB7fVxuXHRcblx0ICAgIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuXHQgICAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcblx0ICAgICAgICB0aGlzLmFwcGVuZChuYW1lLCB2YWx1ZSlcblx0ICAgICAgfSwgdGhpcylcblx0XG5cdCAgICB9IGVsc2UgaWYgKGhlYWRlcnMpIHtcblx0ICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG5cdCAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgaGVhZGVyc1tuYW1lXSlcblx0ICAgICAgfSwgdGhpcylcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIEhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG5cdCAgICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuXHQgICAgdmFsdWUgPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcblx0ICAgIHZhciBvbGRWYWx1ZSA9IHRoaXMubWFwW25hbWVdXG5cdCAgICB0aGlzLm1hcFtuYW1lXSA9IG9sZFZhbHVlID8gb2xkVmFsdWUrJywnK3ZhbHVlIDogdmFsdWVcblx0ICB9XG5cdFxuXHQgIEhlYWRlcnMucHJvdG90eXBlWydkZWxldGUnXSA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgIGRlbGV0ZSB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXVxuXHQgIH1cblx0XG5cdCAgSGVhZGVycy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24obmFtZSkge1xuXHQgICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcblx0ICAgIHJldHVybiB0aGlzLmhhcyhuYW1lKSA/IHRoaXMubWFwW25hbWVdIDogbnVsbFxuXHQgIH1cblx0XG5cdCAgSGVhZGVycy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuXHQgICAgcmV0dXJuIHRoaXMubWFwLmhhc093blByb3BlcnR5KG5vcm1hbGl6ZU5hbWUobmFtZSkpXG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuXHQgICAgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcblx0ICB9XG5cdFxuXHQgIEhlYWRlcnMucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihjYWxsYmFjaywgdGhpc0FyZykge1xuXHQgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLm1hcCkge1xuXHQgICAgICBpZiAodGhpcy5tYXAuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcblx0ICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHRoaXMubWFwW25hbWVdLCBuYW1lLCB0aGlzKVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgaXRlbXMgPSBbXVxuXHQgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7IGl0ZW1zLnB1c2gobmFtZSkgfSlcblx0ICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcblx0ICB9XG5cdFxuXHQgIEhlYWRlcnMucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGl0ZW1zID0gW11cblx0ICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkgeyBpdGVtcy5wdXNoKHZhbHVlKSB9KVxuXHQgICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuXHQgIH1cblx0XG5cdCAgSGVhZGVycy5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGl0ZW1zID0gW11cblx0ICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkgeyBpdGVtcy5wdXNoKFtuYW1lLCB2YWx1ZV0pIH0pXG5cdCAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG5cdCAgfVxuXHRcblx0ICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuXHQgICAgSGVhZGVycy5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXNcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNvbnN1bWVkKGJvZHkpIHtcblx0ICAgIGlmIChib2R5LmJvZHlVc2VkKSB7XG5cdCAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKSlcblx0ICAgIH1cblx0ICAgIGJvZHkuYm9keVVzZWQgPSB0cnVlXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKSB7XG5cdCAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpXG5cdCAgICAgIH1cblx0ICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZWplY3QocmVhZGVyLmVycm9yKVxuXHQgICAgICB9XG5cdCAgICB9KVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gcmVhZEJsb2JBc0FycmF5QnVmZmVyKGJsb2IpIHtcblx0ICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG5cdCAgICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG5cdCAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYilcblx0ICAgIHJldHVybiBwcm9taXNlXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiByZWFkQmxvYkFzVGV4dChibG9iKSB7XG5cdCAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuXHQgICAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuXHQgICAgcmVhZGVyLnJlYWRBc1RleHQoYmxvYilcblx0ICAgIHJldHVybiBwcm9taXNlXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiByZWFkQXJyYXlCdWZmZXJBc1RleHQoYnVmKSB7XG5cdCAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1Zilcblx0ICAgIHZhciBjaGFycyA9IG5ldyBBcnJheSh2aWV3Lmxlbmd0aClcblx0XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgY2hhcnNbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHZpZXdbaV0pXG5cdCAgICB9XG5cdCAgICByZXR1cm4gY2hhcnMuam9pbignJylcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGJ1ZmZlckNsb25lKGJ1Zikge1xuXHQgICAgaWYgKGJ1Zi5zbGljZSkge1xuXHQgICAgICByZXR1cm4gYnVmLnNsaWNlKDApXG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1Zi5ieXRlTGVuZ3RoKVxuXHQgICAgICB2aWV3LnNldChuZXcgVWludDhBcnJheShidWYpKVxuXHQgICAgICByZXR1cm4gdmlldy5idWZmZXJcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIEJvZHkoKSB7XG5cdCAgICB0aGlzLmJvZHlVc2VkID0gZmFsc2Vcblx0XG5cdCAgICB0aGlzLl9pbml0Qm9keSA9IGZ1bmN0aW9uKGJvZHkpIHtcblx0ICAgICAgdGhpcy5fYm9keUluaXQgPSBib2R5XG5cdCAgICAgIGlmICghYm9keSkge1xuXHQgICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJydcblx0ICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHlcblx0ICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmJsb2IgJiYgQmxvYi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuXHQgICAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keVxuXHQgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuZm9ybURhdGEgJiYgRm9ybURhdGEucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcblx0ICAgICAgICB0aGlzLl9ib2R5Rm9ybURhdGEgPSBib2R5XG5cdCAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG5cdCAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5LnRvU3RyaW5nKClcblx0ICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIHN1cHBvcnQuYmxvYiAmJiBpc0RhdGFWaWV3KGJvZHkpKSB7XG5cdCAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keS5idWZmZXIpXG5cdCAgICAgICAgLy8gSUUgMTAtMTEgY2FuJ3QgaGFuZGxlIGEgRGF0YVZpZXcgYm9keS5cblx0ICAgICAgICB0aGlzLl9ib2R5SW5pdCA9IG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKVxuXHQgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgKEFycmF5QnVmZmVyLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpIHx8IGlzQXJyYXlCdWZmZXJWaWV3KGJvZHkpKSkge1xuXHQgICAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkpXG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bnN1cHBvcnRlZCBCb2R5SW5pdCB0eXBlJylcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKCF0aGlzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICd0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLTgnKVxuXHQgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUJsb2IgJiYgdGhpcy5fYm9keUJsb2IudHlwZSkge1xuXHQgICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgdGhpcy5fYm9keUJsb2IudHlwZSlcblx0ICAgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuXHQgICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04Jylcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAoc3VwcG9ydC5ibG9iKSB7XG5cdCAgICAgIHRoaXMuYmxvYiA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG5cdCAgICAgICAgaWYgKHJlamVjdGVkKSB7XG5cdCAgICAgICAgICByZXR1cm4gcmVqZWN0ZWRcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuXHQgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QmxvYilcblx0ICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuXHQgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSkpXG5cdCAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcblx0ICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iJylcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSlcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMuYXJyYXlCdWZmZXIgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG5cdCAgICAgICAgICByZXR1cm4gY29uc3VtZWQodGhpcykgfHwgUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmV0dXJuIHRoaXMuYmxvYigpLnRoZW4ocmVhZEJsb2JBc0FycmF5QnVmZmVyKVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMudGV4dCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuXHQgICAgICBpZiAocmVqZWN0ZWQpIHtcblx0ICAgICAgICByZXR1cm4gcmVqZWN0ZWRcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG5cdCAgICAgICAgcmV0dXJuIHJlYWRCbG9iQXNUZXh0KHRoaXMuX2JvZHlCbG9iKVxuXHQgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuXHQgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVhZEFycmF5QnVmZmVyQXNUZXh0KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpXG5cdCAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIHRleHQnKVxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keVRleHQpXG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAoc3VwcG9ydC5mb3JtRGF0YSkge1xuXHQgICAgICB0aGlzLmZvcm1EYXRhID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oZGVjb2RlKVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5qc29uID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKEpTT04ucGFyc2UpXG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHRoaXNcblx0ICB9XG5cdFxuXHQgIC8vIEhUVFAgbWV0aG9kcyB3aG9zZSBjYXBpdGFsaXphdGlvbiBzaG91bGQgYmUgbm9ybWFsaXplZFxuXHQgIHZhciBtZXRob2RzID0gWydERUxFVEUnLCAnR0VUJywgJ0hFQUQnLCAnT1BUSU9OUycsICdQT1NUJywgJ1BVVCddXG5cdFxuXHQgIGZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZChtZXRob2QpIHtcblx0ICAgIHZhciB1cGNhc2VkID0gbWV0aG9kLnRvVXBwZXJDYXNlKClcblx0ICAgIHJldHVybiAobWV0aG9kcy5pbmRleE9mKHVwY2FzZWQpID4gLTEpID8gdXBjYXNlZCA6IG1ldGhvZFxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gUmVxdWVzdChpbnB1dCwgb3B0aW9ucykge1xuXHQgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cblx0ICAgIHZhciBib2R5ID0gb3B0aW9ucy5ib2R5XG5cdFxuXHQgICAgaWYgKGlucHV0IGluc3RhbmNlb2YgUmVxdWVzdCkge1xuXHQgICAgICBpZiAoaW5wdXQuYm9keVVzZWQpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKVxuXHQgICAgICB9XG5cdCAgICAgIHRoaXMudXJsID0gaW5wdXQudXJsXG5cdCAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSBpbnB1dC5jcmVkZW50aWFsc1xuXHQgICAgICBpZiAoIW9wdGlvbnMuaGVhZGVycykge1xuXHQgICAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKGlucHV0LmhlYWRlcnMpXG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2Rcblx0ICAgICAgdGhpcy5tb2RlID0gaW5wdXQubW9kZVxuXHQgICAgICBpZiAoIWJvZHkgJiYgaW5wdXQuX2JvZHlJbml0ICE9IG51bGwpIHtcblx0ICAgICAgICBib2R5ID0gaW5wdXQuX2JvZHlJbml0XG5cdCAgICAgICAgaW5wdXQuYm9keVVzZWQgPSB0cnVlXG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMudXJsID0gU3RyaW5nKGlucHV0KVxuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuY3JlZGVudGlhbHMgPSBvcHRpb25zLmNyZWRlbnRpYWxzIHx8IHRoaXMuY3JlZGVudGlhbHMgfHwgJ29taXQnXG5cdCAgICBpZiAob3B0aW9ucy5oZWFkZXJzIHx8ICF0aGlzLmhlYWRlcnMpIHtcblx0ICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuXHQgICAgfVxuXHQgICAgdGhpcy5tZXRob2QgPSBub3JtYWxpemVNZXRob2Qob3B0aW9ucy5tZXRob2QgfHwgdGhpcy5tZXRob2QgfHwgJ0dFVCcpXG5cdCAgICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgfHwgdGhpcy5tb2RlIHx8IG51bGxcblx0ICAgIHRoaXMucmVmZXJyZXIgPSBudWxsXG5cdFxuXHQgICAgaWYgKCh0aGlzLm1ldGhvZCA9PT0gJ0dFVCcgfHwgdGhpcy5tZXRob2QgPT09ICdIRUFEJykgJiYgYm9keSkge1xuXHQgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb2R5IG5vdCBhbGxvd2VkIGZvciBHRVQgb3IgSEVBRCByZXF1ZXN0cycpXG5cdCAgICB9XG5cdCAgICB0aGlzLl9pbml0Qm9keShib2R5KVxuXHQgIH1cblx0XG5cdCAgUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiBuZXcgUmVxdWVzdCh0aGlzLCB7IGJvZHk6IHRoaXMuX2JvZHlJbml0IH0pXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBkZWNvZGUoYm9keSkge1xuXHQgICAgdmFyIGZvcm0gPSBuZXcgRm9ybURhdGEoKVxuXHQgICAgYm9keS50cmltKCkuc3BsaXQoJyYnKS5mb3JFYWNoKGZ1bmN0aW9uKGJ5dGVzKSB7XG5cdCAgICAgIGlmIChieXRlcykge1xuXHQgICAgICAgIHZhciBzcGxpdCA9IGJ5dGVzLnNwbGl0KCc9Jylcblx0ICAgICAgICB2YXIgbmFtZSA9IHNwbGl0LnNoaWZ0KCkucmVwbGFjZSgvXFwrL2csICcgJylcblx0ICAgICAgICB2YXIgdmFsdWUgPSBzcGxpdC5qb2luKCc9JykucmVwbGFjZSgvXFwrL2csICcgJylcblx0ICAgICAgICBmb3JtLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQobmFtZSksIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpXG5cdCAgICAgIH1cblx0ICAgIH0pXG5cdCAgICByZXR1cm4gZm9ybVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gcGFyc2VIZWFkZXJzKHJhd0hlYWRlcnMpIHtcblx0ICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKVxuXHQgICAgcmF3SGVhZGVycy5zcGxpdCgvXFxyP1xcbi8pLmZvckVhY2goZnVuY3Rpb24obGluZSkge1xuXHQgICAgICB2YXIgcGFydHMgPSBsaW5lLnNwbGl0KCc6Jylcblx0ICAgICAgdmFyIGtleSA9IHBhcnRzLnNoaWZ0KCkudHJpbSgpXG5cdCAgICAgIGlmIChrZXkpIHtcblx0ICAgICAgICB2YXIgdmFsdWUgPSBwYXJ0cy5qb2luKCc6JykudHJpbSgpXG5cdCAgICAgICAgaGVhZGVycy5hcHBlbmQoa2V5LCB2YWx1ZSlcblx0ICAgICAgfVxuXHQgICAgfSlcblx0ICAgIHJldHVybiBoZWFkZXJzXG5cdCAgfVxuXHRcblx0ICBCb2R5LmNhbGwoUmVxdWVzdC5wcm90b3R5cGUpXG5cdFxuXHQgIGZ1bmN0aW9uIFJlc3BvbnNlKGJvZHlJbml0LCBvcHRpb25zKSB7XG5cdCAgICBpZiAoIW9wdGlvbnMpIHtcblx0ICAgICAgb3B0aW9ucyA9IHt9XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy50eXBlID0gJ2RlZmF1bHQnXG5cdCAgICB0aGlzLnN0YXR1cyA9ICdzdGF0dXMnIGluIG9wdGlvbnMgPyBvcHRpb25zLnN0YXR1cyA6IDIwMFxuXHQgICAgdGhpcy5vayA9IHRoaXMuc3RhdHVzID49IDIwMCAmJiB0aGlzLnN0YXR1cyA8IDMwMFxuXHQgICAgdGhpcy5zdGF0dXNUZXh0ID0gJ3N0YXR1c1RleHQnIGluIG9wdGlvbnMgPyBvcHRpb25zLnN0YXR1c1RleHQgOiAnT0snXG5cdCAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG5cdCAgICB0aGlzLnVybCA9IG9wdGlvbnMudXJsIHx8ICcnXG5cdCAgICB0aGlzLl9pbml0Qm9keShib2R5SW5pdClcblx0ICB9XG5cdFxuXHQgIEJvZHkuY2FsbChSZXNwb25zZS5wcm90b3R5cGUpXG5cdFxuXHQgIFJlc3BvbnNlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLl9ib2R5SW5pdCwge1xuXHQgICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuXHQgICAgICBzdGF0dXNUZXh0OiB0aGlzLnN0YXR1c1RleHQsXG5cdCAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyksXG5cdCAgICAgIHVybDogdGhpcy51cmxcblx0ICAgIH0pXG5cdCAgfVxuXHRcblx0ICBSZXNwb25zZS5lcnJvciA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IDAsIHN0YXR1c1RleHQ6ICcnfSlcblx0ICAgIHJlc3BvbnNlLnR5cGUgPSAnZXJyb3InXG5cdCAgICByZXR1cm4gcmVzcG9uc2Vcblx0ICB9XG5cdFxuXHQgIHZhciByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XVxuXHRcblx0ICBSZXNwb25zZS5yZWRpcmVjdCA9IGZ1bmN0aW9uKHVybCwgc3RhdHVzKSB7XG5cdCAgICBpZiAocmVkaXJlY3RTdGF0dXNlcy5pbmRleE9mKHN0YXR1cykgPT09IC0xKSB7XG5cdCAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHN0YXR1cyBjb2RlJylcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IHN0YXR1cywgaGVhZGVyczoge2xvY2F0aW9uOiB1cmx9fSlcblx0ICB9XG5cdFxuXHQgIHNlbGYuSGVhZGVycyA9IEhlYWRlcnNcblx0ICBzZWxmLlJlcXVlc3QgPSBSZXF1ZXN0XG5cdCAgc2VsZi5SZXNwb25zZSA9IFJlc3BvbnNlXG5cdFxuXHQgIHNlbGYuZmV0Y2ggPSBmdW5jdGlvbihpbnB1dCwgaW5pdCkge1xuXHQgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICB2YXIgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KGlucHV0LCBpbml0KVxuXHQgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcblx0XG5cdCAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgb3B0aW9ucyA9IHtcblx0ICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1cyxcblx0ICAgICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0LFxuXHQgICAgICAgICAgaGVhZGVyczogcGFyc2VIZWFkZXJzKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSB8fCAnJylcblx0ICAgICAgICB9XG5cdCAgICAgICAgb3B0aW9ucy51cmwgPSAncmVzcG9uc2VVUkwnIGluIHhociA/IHhoci5yZXNwb25zZVVSTCA6IG9wdGlvbnMuaGVhZGVycy5nZXQoJ1gtUmVxdWVzdC1VUkwnKVxuXHQgICAgICAgIHZhciBib2R5ID0gJ3Jlc3BvbnNlJyBpbiB4aHIgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0XG5cdCAgICAgICAgcmVzb2x2ZShuZXcgUmVzcG9uc2UoYm9keSwgb3B0aW9ucykpXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcblx0ICAgICAgfVxuXHRcblx0ICAgICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHhoci5vcGVuKHJlcXVlc3QubWV0aG9kLCByZXF1ZXN0LnVybCwgdHJ1ZSlcblx0XG5cdCAgICAgIGlmIChyZXF1ZXN0LmNyZWRlbnRpYWxzID09PSAnaW5jbHVkZScpIHtcblx0ICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZVxuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoJ3Jlc3BvbnNlVHlwZScgaW4geGhyICYmIHN1cHBvcnQuYmxvYikge1xuXHQgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYidcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmVxdWVzdC5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcblx0ICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCB2YWx1ZSlcblx0ICAgICAgfSlcblx0XG5cdCAgICAgIHhoci5zZW5kKHR5cGVvZiByZXF1ZXN0Ll9ib2R5SW5pdCA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogcmVxdWVzdC5fYm9keUluaXQpXG5cdCAgICB9KVxuXHQgIH1cblx0ICBzZWxmLmZldGNoLnBvbHlmaWxsID0gdHJ1ZVxuXHR9KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcyk7XG5cblxuLyoqKi8gfSxcbi8qIDExMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTTtcblxuLyoqKi8gfSxcbi8qIDExMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBtb21lbnQ7XG5cbi8qKiovIH0sXG4vKiAxMTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gdHJ1ZTtcblxuLyoqKi8gfVxuLyoqKioqKi8gXSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFwcC5qcyIsIiBcdHZhciBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayA9IHRoaXNbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdO1xuIFx0dGhpc1tcIndlYnBhY2tIb3RVcGRhdGVcIl0gPSBcclxuIFx0ZnVuY3Rpb24gd2VicGFja0hvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHRob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XHJcbiBcdFx0aWYocGFyZW50SG90VXBkYXRlQ2FsbGJhY2spIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcclxuIFx0XHRzY3JpcHQudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XHJcbiBcdFx0c2NyaXB0LmNoYXJzZXQgPSBcInV0Zi04XCI7XHJcbiBcdFx0c2NyaXB0LnNyYyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBjaHVua0lkICsgXCIuXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNcIjtcclxuIFx0XHRoZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkTWFuaWZlc3QoY2FsbGJhY2spIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHRcdGlmKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gXCJ1bmRlZmluZWRcIilcclxuIFx0XHRcdHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoXCJObyBicm93c2VyIHN1cHBvcnRcIikpO1xyXG4gXHRcdHRyeSB7XHJcbiBcdFx0XHR2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gXHRcdFx0dmFyIHJlcXVlc3RQYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc29uXCI7XHJcbiBcdFx0XHRyZXF1ZXN0Lm9wZW4oXCJHRVRcIiwgcmVxdWVzdFBhdGgsIHRydWUpO1xyXG4gXHRcdFx0cmVxdWVzdC50aW1lb3V0ID0gMTAwMDA7XHJcbiBcdFx0XHRyZXF1ZXN0LnNlbmQobnVsbCk7XHJcbiBcdFx0fSBjYXRjaChlcnIpIHtcclxuIFx0XHRcdHJldHVybiBjYWxsYmFjayhlcnIpO1xyXG4gXHRcdH1cclxuIFx0XHRyZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xyXG4gXHRcdFx0aWYocmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSByZXR1cm47XHJcbiBcdFx0XHRpZihyZXF1ZXN0LnN0YXR1cyA9PT0gMCkge1xyXG4gXHRcdFx0XHQvLyB0aW1lb3V0XHJcbiBcdFx0XHRcdGNhbGxiYWNrKG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIHRpbWVkIG91dC5cIikpO1xyXG4gXHRcdFx0fSBlbHNlIGlmKHJlcXVlc3Quc3RhdHVzID09PSA0MDQpIHtcclxuIFx0XHRcdFx0Ly8gbm8gdXBkYXRlIGF2YWlsYWJsZVxyXG4gXHRcdFx0XHRjYWxsYmFjaygpO1xyXG4gXHRcdFx0fSBlbHNlIGlmKHJlcXVlc3Quc3RhdHVzICE9PSAyMDAgJiYgcmVxdWVzdC5zdGF0dXMgIT09IDMwNCkge1xyXG4gXHRcdFx0XHQvLyBvdGhlciBmYWlsdXJlXHJcbiBcdFx0XHRcdGNhbGxiYWNrKG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIGZhaWxlZC5cIikpO1xyXG4gXHRcdFx0fSBlbHNlIHtcclxuIFx0XHRcdFx0Ly8gc3VjY2Vzc1xyXG4gXHRcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHRcdHZhciB1cGRhdGUgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcclxuIFx0XHRcdFx0fSBjYXRjaChlKSB7XHJcbiBcdFx0XHRcdFx0Y2FsbGJhY2soZSk7XHJcbiBcdFx0XHRcdFx0cmV0dXJuO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGNhbGxiYWNrKG51bGwsIHVwZGF0ZSk7XHJcbiBcdFx0XHR9XHJcbiBcdFx0fTtcclxuIFx0fVxyXG5cbiBcdFxyXG4gXHRcclxuIFx0Ly8gQ29waWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2Jsb2IvYmVmNDViMC9zcmMvc2hhcmVkL3V0aWxzL2NhbkRlZmluZVByb3BlcnR5LmpzXHJcbiBcdHZhciBjYW5EZWZpbmVQcm9wZXJ0eSA9IGZhbHNlO1xyXG4gXHR0cnkge1xyXG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgXCJ4XCIsIHtcclxuIFx0XHRcdGdldDogZnVuY3Rpb24oKSB7fVxyXG4gXHRcdH0pO1xyXG4gXHRcdGNhbkRlZmluZVByb3BlcnR5ID0gdHJ1ZTtcclxuIFx0fSBjYXRjaCh4KSB7XHJcbiBcdFx0Ly8gSUUgd2lsbCBmYWlsIG9uIGRlZmluZVByb3BlcnR5XHJcbiBcdH1cclxuIFx0XHJcbiBcdHZhciBob3RBcHBseU9uVXBkYXRlID0gdHJ1ZTtcclxuIFx0dmFyIGhvdEN1cnJlbnRIYXNoID0gXCJjNWU5M2VlNjZhNGMyZGVkOTE0ZVwiOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdHZhciBob3RDdXJyZW50TW9kdWxlRGF0YSA9IHt9O1xyXG4gXHR2YXIgaG90Q3VycmVudFBhcmVudHMgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0dmFyIG1lID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0aWYoIW1lKSByZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXztcclxuIFx0XHR2YXIgZm4gPSBmdW5jdGlvbihyZXF1ZXN0KSB7XHJcbiBcdFx0XHRpZihtZS5ob3QuYWN0aXZlKSB7XHJcbiBcdFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0pIHtcclxuIFx0XHRcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCkgPCAwKVxyXG4gXHRcdFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLnB1c2gobW9kdWxlSWQpO1xyXG4gXHRcdFx0XHRcdGlmKG1lLmNoaWxkcmVuLmluZGV4T2YocmVxdWVzdCkgPCAwKVxyXG4gXHRcdFx0XHRcdFx0bWUuY2hpbGRyZW4ucHVzaChyZXF1ZXN0KTtcclxuIFx0XHRcdFx0fSBlbHNlIGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuIFx0XHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRcdGNvbnNvbGUud2FybihcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlcXVlc3QgKyBcIikgZnJvbSBkaXNwb3NlZCBtb2R1bGUgXCIgKyBtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW107XHJcbiBcdFx0XHR9XHJcbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhyZXF1ZXN0KTtcclxuIFx0XHR9O1xyXG4gXHRcdGZvcih2YXIgbmFtZSBpbiBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX193ZWJwYWNrX3JlcXVpcmVfXywgbmFtZSkpIHtcclxuIFx0XHRcdFx0aWYoY2FuRGVmaW5lUHJvcGVydHkpIHtcclxuIFx0XHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIG5hbWUsIChmdW5jdGlvbihuYW1lKSB7XHJcbiBcdFx0XHRcdFx0XHRyZXR1cm4ge1xyXG4gXHRcdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXHJcbiBcdFx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcbiBcdFx0XHRcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7XHJcbiBcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XHJcbiBcdFx0XHRcdFx0XHRcdH0sXHJcbiBcdFx0XHRcdFx0XHRcdHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuIFx0XHRcdFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdID0gdmFsdWU7XHJcbiBcdFx0XHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRcdH07XHJcbiBcdFx0XHRcdFx0fShuYW1lKSkpO1xyXG4gXHRcdFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0XHRcdGZuW25hbWVdID0gX193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0ZnVuY3Rpb24gZW5zdXJlKGNodW5rSWQsIGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRpZihob3RTdGF0dXMgPT09IFwicmVhZHlcIilcclxuIFx0XHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuIFx0XHRcdGhvdENodW5rc0xvYWRpbmcrKztcclxuIFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18uZShjaHVua0lkLCBmdW5jdGlvbigpIHtcclxuIFx0XHRcdFx0dHJ5IHtcclxuIFx0XHRcdFx0XHRjYWxsYmFjay5jYWxsKG51bGwsIGZuKTtcclxuIFx0XHRcdFx0fSBmaW5hbGx5IHtcclxuIFx0XHRcdFx0XHRmaW5pc2hDaHVua0xvYWRpbmcoKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcclxuIFx0XHRcdFx0ZnVuY3Rpb24gZmluaXNoQ2h1bmtMb2FkaW5nKCkge1xyXG4gXHRcdFx0XHRcdGhvdENodW5rc0xvYWRpbmctLTtcclxuIFx0XHRcdFx0XHRpZihob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiKSB7XHJcbiBcdFx0XHRcdFx0XHRpZighaG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdKSB7XHJcbiBcdFx0XHRcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4gXHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdFx0aWYoaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcclxuIFx0XHRcdFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4gXHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fSk7XHJcbiBcdFx0fVxyXG4gXHRcdGlmKGNhbkRlZmluZVByb3BlcnR5KSB7XHJcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIFwiZVwiLCB7XHJcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcbiBcdFx0XHRcdHZhbHVlOiBlbnN1cmVcclxuIFx0XHRcdH0pO1xyXG4gXHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRmbi5lID0gZW5zdXJlO1xyXG4gXHRcdH1cclxuIFx0XHRyZXR1cm4gZm47XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0dmFyIGhvdCA9IHtcclxuIFx0XHRcdC8vIHByaXZhdGUgc3R1ZmZcclxuIFx0XHRcdF9hY2NlcHRlZERlcGVuZGVuY2llczoge30sXHJcbiBcdFx0XHRfZGVjbGluZWREZXBlbmRlbmNpZXM6IHt9LFxyXG4gXHRcdFx0X3NlbGZBY2NlcHRlZDogZmFsc2UsXHJcbiBcdFx0XHRfc2VsZkRlY2xpbmVkOiBmYWxzZSxcclxuIFx0XHRcdF9kaXNwb3NlSGFuZGxlcnM6IFtdLFxyXG4gXHRcclxuIFx0XHRcdC8vIE1vZHVsZSBBUElcclxuIFx0XHRcdGFjdGl2ZTogdHJ1ZSxcclxuIFx0XHRcdGFjY2VwdDogZnVuY3Rpb24oZGVwLCBjYWxsYmFjaykge1xyXG4gXHRcdFx0XHRpZih0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKVxyXG4gXHRcdFx0XHRcdGhvdC5fc2VsZkFjY2VwdGVkID0gdHJ1ZTtcclxuIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcImZ1bmN0aW9uXCIpXHJcbiBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSBkZXA7XHJcbiBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcclxuIFx0XHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxyXG4gXHRcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBbaV1dID0gY2FsbGJhY2s7XHJcbiBcdFx0XHRcdGVsc2VcclxuIFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcF0gPSBjYWxsYmFjaztcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRkZWNsaW5lOiBmdW5jdGlvbihkZXApIHtcclxuIFx0XHRcdFx0aWYodHlwZW9mIGRlcCA9PT0gXCJ1bmRlZmluZWRcIilcclxuIFx0XHRcdFx0XHRob3QuX3NlbGZEZWNsaW5lZCA9IHRydWU7XHJcbiBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJudW1iZXJcIilcclxuIFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcF0gPSB0cnVlO1xyXG4gXHRcdFx0XHRlbHNlXHJcbiBcdFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcclxuIFx0XHRcdFx0XHRcdGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IHRydWU7XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0ZGlzcG9zZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0YWRkRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdHJlbW92ZURpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gXHRcdFx0XHR2YXIgaWR4ID0gaG90Ll9kaXNwb3NlSGFuZGxlcnMuaW5kZXhPZihjYWxsYmFjayk7XHJcbiBcdFx0XHRcdGlmKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcclxuIFx0XHRcdH0sXHJcbiBcdFxyXG4gXHRcdFx0Ly8gTWFuYWdlbWVudCBBUElcclxuIFx0XHRcdGNoZWNrOiBob3RDaGVjayxcclxuIFx0XHRcdGFwcGx5OiBob3RBcHBseSxcclxuIFx0XHRcdHN0YXR1czogZnVuY3Rpb24obCkge1xyXG4gXHRcdFx0XHRpZighbCkgcmV0dXJuIGhvdFN0YXR1cztcclxuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRhZGRTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XHJcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0cmVtb3ZlU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xyXG4gXHRcdFx0XHR2YXIgaWR4ID0gaG90U3RhdHVzSGFuZGxlcnMuaW5kZXhPZihsKTtcclxuIFx0XHRcdFx0aWYoaWR4ID49IDApIGhvdFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHJcbiBcdFx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcclxuIFx0XHRcdGRhdGE6IGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXVxyXG4gXHRcdH07XHJcbiBcdFx0cmV0dXJuIGhvdDtcclxuIFx0fVxyXG4gXHRcclxuIFx0dmFyIGhvdFN0YXR1c0hhbmRsZXJzID0gW107XHJcbiBcdHZhciBob3RTdGF0dXMgPSBcImlkbGVcIjtcclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdFNldFN0YXR1cyhuZXdTdGF0dXMpIHtcclxuIFx0XHRob3RTdGF0dXMgPSBuZXdTdGF0dXM7XHJcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGhvdFN0YXR1c0hhbmRsZXJzLmxlbmd0aDsgaSsrKVxyXG4gXHRcdFx0aG90U3RhdHVzSGFuZGxlcnNbaV0uY2FsbChudWxsLCBuZXdTdGF0dXMpO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHQvLyB3aGlsZSBkb3dubG9hZGluZ1xyXG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzID0gMDtcclxuIFx0dmFyIGhvdENodW5rc0xvYWRpbmcgPSAwO1xyXG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzTWFwID0ge307XHJcbiBcdHZhciBob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xyXG4gXHR2YXIgaG90QXZhaWxpYmxlRmlsZXNNYXAgPSB7fTtcclxuIFx0dmFyIGhvdENhbGxiYWNrO1xyXG4gXHRcclxuIFx0Ly8gVGhlIHVwZGF0ZSBpbmZvXHJcbiBcdHZhciBob3RVcGRhdGUsIGhvdFVwZGF0ZU5ld0hhc2g7XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiB0b01vZHVsZUlkKGlkKSB7XHJcbiBcdFx0dmFyIGlzTnVtYmVyID0gKCtpZCkgKyBcIlwiID09PSBpZDtcclxuIFx0XHRyZXR1cm4gaXNOdW1iZXIgPyAraWQgOiBpZDtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90Q2hlY2soYXBwbHksIGNhbGxiYWNrKSB7XHJcbiBcdFx0aWYoaG90U3RhdHVzICE9PSBcImlkbGVcIikgdGhyb3cgbmV3IEVycm9yKFwiY2hlY2soKSBpcyBvbmx5IGFsbG93ZWQgaW4gaWRsZSBzdGF0dXNcIik7XHJcbiBcdFx0aWYodHlwZW9mIGFwcGx5ID09PSBcImZ1bmN0aW9uXCIpIHtcclxuIFx0XHRcdGhvdEFwcGx5T25VcGRhdGUgPSBmYWxzZTtcclxuIFx0XHRcdGNhbGxiYWNrID0gYXBwbHk7XHJcbiBcdFx0fSBlbHNlIHtcclxuIFx0XHRcdGhvdEFwcGx5T25VcGRhdGUgPSBhcHBseTtcclxuIFx0XHRcdGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oZXJyKSB7XHJcbiBcdFx0XHRcdGlmKGVycikgdGhyb3cgZXJyO1xyXG4gXHRcdFx0fTtcclxuIFx0XHR9XHJcbiBcdFx0aG90U2V0U3RhdHVzKFwiY2hlY2tcIik7XHJcbiBcdFx0aG90RG93bmxvYWRNYW5pZmVzdChmdW5jdGlvbihlcnIsIHVwZGF0ZSkge1xyXG4gXHRcdFx0aWYoZXJyKSByZXR1cm4gY2FsbGJhY2soZXJyKTtcclxuIFx0XHRcdGlmKCF1cGRhdGUpIHtcclxuIFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcclxuIFx0XHRcdFx0Y2FsbGJhY2sobnVsbCwgbnVsbCk7XHJcbiBcdFx0XHRcdHJldHVybjtcclxuIFx0XHRcdH1cclxuIFx0XHJcbiBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xyXG4gXHRcdFx0aG90QXZhaWxpYmxlRmlsZXNNYXAgPSB7fTtcclxuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xyXG4gXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHVwZGF0ZS5jLmxlbmd0aDsgaSsrKVxyXG4gXHRcdFx0XHRob3RBdmFpbGlibGVGaWxlc01hcFt1cGRhdGUuY1tpXV0gPSB0cnVlO1xyXG4gXHRcdFx0aG90VXBkYXRlTmV3SGFzaCA9IHVwZGF0ZS5oO1xyXG4gXHRcclxuIFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XHJcbiBcdFx0XHRob3RDYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gXHRcdFx0aG90VXBkYXRlID0ge307XHJcbiBcdFx0XHR2YXIgY2h1bmtJZCA9IDA7XHJcbiBcdFx0XHR7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbG9uZS1ibG9ja3NcclxuIFx0XHRcdFx0LypnbG9iYWxzIGNodW5rSWQgKi9cclxuIFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbiBcdFx0XHR9XHJcbiBcdFx0XHRpZihob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XHJcbiBcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuIFx0XHRcdH1cclxuIFx0XHR9KTtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHRcdGlmKCFob3RBdmFpbGlibGVGaWxlc01hcFtjaHVua0lkXSB8fCAhaG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0pXHJcbiBcdFx0XHRyZXR1cm47XHJcbiBcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSBmYWxzZTtcclxuIFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xyXG4gXHRcdFx0XHRob3RVcGRhdGVbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHRpZigtLWhvdFdhaXRpbmdGaWxlcyA9PT0gMCAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwKSB7XHJcbiBcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbiBcdFx0fVxyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKSB7XHJcbiBcdFx0aWYoIWhvdEF2YWlsaWJsZUZpbGVzTWFwW2NodW5rSWRdKSB7XHJcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xyXG4gXHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XHJcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXMrKztcclxuIFx0XHRcdGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbiBcdFx0fVxyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RVcGRhdGVEb3dubG9hZGVkKCkge1xyXG4gXHRcdGhvdFNldFN0YXR1cyhcInJlYWR5XCIpO1xyXG4gXHRcdHZhciBjYWxsYmFjayA9IGhvdENhbGxiYWNrO1xyXG4gXHRcdGhvdENhbGxiYWNrID0gbnVsbDtcclxuIFx0XHRpZighY2FsbGJhY2spIHJldHVybjtcclxuIFx0XHRpZihob3RBcHBseU9uVXBkYXRlKSB7XHJcbiBcdFx0XHRob3RBcHBseShob3RBcHBseU9uVXBkYXRlLCBjYWxsYmFjayk7XHJcbiBcdFx0fSBlbHNlIHtcclxuIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcclxuIFx0XHRcdGZvcih2YXIgaWQgaW4gaG90VXBkYXRlKSB7XHJcbiBcdFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xyXG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHRvTW9kdWxlSWQoaWQpKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdFx0Y2FsbGJhY2sobnVsbCwgb3V0ZGF0ZWRNb2R1bGVzKTtcclxuIFx0XHR9XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdEFwcGx5KG9wdGlvbnMsIGNhbGxiYWNrKSB7XHJcbiBcdFx0aWYoaG90U3RhdHVzICE9PSBcInJlYWR5XCIpIHRocm93IG5ldyBFcnJvcihcImFwcGx5KCkgaXMgb25seSBhbGxvd2VkIGluIHJlYWR5IHN0YXR1c1wiKTtcclxuIFx0XHRpZih0eXBlb2Ygb3B0aW9ucyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiBcdFx0XHRjYWxsYmFjayA9IG9wdGlvbnM7XHJcbiBcdFx0XHRvcHRpb25zID0ge307XHJcbiBcdFx0fSBlbHNlIGlmKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMgPT09IFwib2JqZWN0XCIpIHtcclxuIFx0XHRcdGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oZXJyKSB7XHJcbiBcdFx0XHRcdGlmKGVycikgdGhyb3cgZXJyO1xyXG4gXHRcdFx0fTtcclxuIFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0b3B0aW9ucyA9IHt9O1xyXG4gXHRcdFx0Y2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbihlcnIpIHtcclxuIFx0XHRcdFx0aWYoZXJyKSB0aHJvdyBlcnI7XHJcbiBcdFx0XHR9O1xyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0ZnVuY3Rpb24gZ2V0QWZmZWN0ZWRTdHVmZihtb2R1bGUpIHtcclxuIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbbW9kdWxlXTtcclxuIFx0XHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xyXG4gXHRcclxuIFx0XHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpO1xyXG4gXHRcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZS5wb3AoKTtcclxuIFx0XHRcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRpZighbW9kdWxlIHx8IG1vZHVsZS5ob3QuX3NlbGZBY2NlcHRlZClcclxuIFx0XHRcdFx0XHRjb250aW51ZTtcclxuIFx0XHRcdFx0aWYobW9kdWxlLmhvdC5fc2VsZkRlY2xpbmVkKSB7XHJcbiBcdFx0XHRcdFx0cmV0dXJuIG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBvZiBzZWxmIGRlY2xpbmU6IFwiICsgbW9kdWxlSWQpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGlmKG1vZHVsZUlkID09PSAwKSB7XHJcbiBcdFx0XHRcdFx0cmV0dXJuO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtb2R1bGUucGFyZW50cy5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0XHRcdHZhciBwYXJlbnRJZCA9IG1vZHVsZS5wYXJlbnRzW2ldO1xyXG4gXHRcdFx0XHRcdHZhciBwYXJlbnQgPSBpbnN0YWxsZWRNb2R1bGVzW3BhcmVudElkXTtcclxuIFx0XHRcdFx0XHRpZihwYXJlbnQuaG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcclxuIFx0XHRcdFx0XHRcdHJldHVybiBuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2Ugb2YgZGVjbGluZWQgZGVwZW5kZW5jeTogXCIgKyBtb2R1bGVJZCArIFwiIGluIFwiICsgcGFyZW50SWQpO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRpZihvdXRkYXRlZE1vZHVsZXMuaW5kZXhPZihwYXJlbnRJZCkgPj0gMCkgY29udGludWU7XHJcbiBcdFx0XHRcdFx0aWYocGFyZW50LmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XHJcbiBcdFx0XHRcdFx0XHRpZighb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdKVxyXG4gXHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0gPSBbXTtcclxuIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XHJcbiBcdFx0XHRcdFx0XHRjb250aW51ZTtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcclxuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaChwYXJlbnRJZCk7XHJcbiBcdFx0XHRcdFx0cXVldWUucHVzaChwYXJlbnRJZCk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHJcbiBcdFx0XHRyZXR1cm4gW291dGRhdGVkTW9kdWxlcywgb3V0ZGF0ZWREZXBlbmRlbmNpZXNdO1xyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xyXG4gXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdFx0dmFyIGl0ZW0gPSBiW2ldO1xyXG4gXHRcdFx0XHRpZihhLmluZGV4T2YoaXRlbSkgPCAwKVxyXG4gXHRcdFx0XHRcdGEucHVzaChpdGVtKTtcclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIGF0IGJlZ2luIGFsbCB1cGRhdGVzIG1vZHVsZXMgYXJlIG91dGRhdGVkXHJcbiBcdFx0Ly8gdGhlIFwib3V0ZGF0ZWRcIiBzdGF0dXMgY2FuIHByb3BhZ2F0ZSB0byBwYXJlbnRzIGlmIHRoZXkgZG9uJ3QgYWNjZXB0IHRoZSBjaGlsZHJlblxyXG4gXHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xyXG4gXHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcclxuIFx0XHR2YXIgYXBwbGllZFVwZGF0ZSA9IHt9O1xyXG4gXHRcdGZvcih2YXIgaWQgaW4gaG90VXBkYXRlKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcclxuIFx0XHRcdFx0dmFyIG1vZHVsZUlkID0gdG9Nb2R1bGVJZChpZCk7XHJcbiBcdFx0XHRcdHZhciByZXN1bHQgPSBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZUlkKTtcclxuIFx0XHRcdFx0aWYoIXJlc3VsdCkge1xyXG4gXHRcdFx0XHRcdGlmKG9wdGlvbnMuaWdub3JlVW5hY2NlcHRlZClcclxuIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcImFib3J0XCIpO1xyXG4gXHRcdFx0XHRcdHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiKSk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0aWYocmVzdWx0IGluc3RhbmNlb2YgRXJyb3IpIHtcclxuIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcclxuIFx0XHRcdFx0XHRyZXR1cm4gY2FsbGJhY2socmVzdWx0KTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IGhvdFVwZGF0ZVttb2R1bGVJZF07XHJcbiBcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgcmVzdWx0WzBdKTtcclxuIFx0XHRcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiByZXN1bHRbMV0pIHtcclxuIFx0XHRcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVzdWx0WzFdLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0XHRcdGlmKCFvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pXHJcbiBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSA9IFtdO1xyXG4gXHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdLCByZXN1bHRbMV1bbW9kdWxlSWRdKTtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIFN0b3JlIHNlbGYgYWNjZXB0ZWQgb3V0ZGF0ZWQgbW9kdWxlcyB0byByZXF1aXJlIHRoZW0gbGF0ZXIgYnkgdGhlIG1vZHVsZSBzeXN0ZW1cclxuIFx0XHR2YXIgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzID0gW107XHJcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG91dGRhdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0dmFyIG1vZHVsZUlkID0gb3V0ZGF0ZWRNb2R1bGVzW2ldO1xyXG4gXHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gJiYgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWQpXHJcbiBcdFx0XHRcdG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5wdXNoKHtcclxuIFx0XHRcdFx0XHRtb2R1bGU6IG1vZHVsZUlkLFxyXG4gXHRcdFx0XHRcdGVycm9ySGFuZGxlcjogaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWRcclxuIFx0XHRcdFx0fSk7XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBOb3cgaW4gXCJkaXNwb3NlXCIgcGhhc2VcclxuIFx0XHRob3RTZXRTdGF0dXMoXCJkaXNwb3NlXCIpO1xyXG4gXHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpO1xyXG4gXHRcdHdoaWxlKHF1ZXVlLmxlbmd0aCA+IDApIHtcclxuIFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xyXG4gXHRcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0aWYoIW1vZHVsZSkgY29udGludWU7XHJcbiBcdFxyXG4gXHRcdFx0dmFyIGRhdGEgPSB7fTtcclxuIFx0XHJcbiBcdFx0XHQvLyBDYWxsIGRpc3Bvc2UgaGFuZGxlcnNcclxuIFx0XHRcdHZhciBkaXNwb3NlSGFuZGxlcnMgPSBtb2R1bGUuaG90Ll9kaXNwb3NlSGFuZGxlcnM7XHJcbiBcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZGlzcG9zZUhhbmRsZXJzLmxlbmd0aDsgaisrKSB7XHJcbiBcdFx0XHRcdHZhciBjYiA9IGRpc3Bvc2VIYW5kbGVyc1tqXTtcclxuIFx0XHRcdFx0Y2IoZGF0YSk7XHJcbiBcdFx0XHR9XHJcbiBcdFx0XHRob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF0gPSBkYXRhO1xyXG4gXHRcclxuIFx0XHRcdC8vIGRpc2FibGUgbW9kdWxlICh0aGlzIGRpc2FibGVzIHJlcXVpcmVzIGZyb20gdGhpcyBtb2R1bGUpXHJcbiBcdFx0XHRtb2R1bGUuaG90LmFjdGl2ZSA9IGZhbHNlO1xyXG4gXHRcclxuIFx0XHRcdC8vIHJlbW92ZSBtb2R1bGUgZnJvbSBjYWNoZVxyXG4gXHRcdFx0ZGVsZXRlIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcclxuIFx0XHRcdC8vIHJlbW92ZSBcInBhcmVudHNcIiByZWZlcmVuY2VzIGZyb20gYWxsIGNoaWxkcmVuXHJcbiBcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgbW9kdWxlLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XHJcbiBcdFx0XHRcdHZhciBjaGlsZCA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlLmNoaWxkcmVuW2pdXTtcclxuIFx0XHRcdFx0aWYoIWNoaWxkKSBjb250aW51ZTtcclxuIFx0XHRcdFx0dmFyIGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdGlmKGlkeCA+PSAwKSB7XHJcbiBcdFx0XHRcdFx0Y2hpbGQucGFyZW50cy5zcGxpY2UoaWR4LCAxKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gcmVtb3ZlIG91dGRhdGVkIGRlcGVuZGVuY3kgZnJvbSBtb2R1bGUgY2hpbGRyZW5cclxuIFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKSkge1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdHZhciBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaisrKSB7XHJcbiBcdFx0XHRcdFx0dmFyIGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tqXTtcclxuIFx0XHRcdFx0XHR2YXIgaWR4ID0gbW9kdWxlLmNoaWxkcmVuLmluZGV4T2YoZGVwZW5kZW5jeSk7XHJcbiBcdFx0XHRcdFx0aWYoaWR4ID49IDApIG1vZHVsZS5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gTm90IGluIFwiYXBwbHlcIiBwaGFzZVxyXG4gXHRcdGhvdFNldFN0YXR1cyhcImFwcGx5XCIpO1xyXG4gXHRcclxuIFx0XHRob3RDdXJyZW50SGFzaCA9IGhvdFVwZGF0ZU5ld0hhc2g7XHJcbiBcdFxyXG4gXHRcdC8vIGluc2VydCBuZXcgY29kZVxyXG4gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gYXBwbGllZFVwZGF0ZSkge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFwcGxpZWRVcGRhdGUsIG1vZHVsZUlkKSkge1xyXG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gY2FsbCBhY2NlcHQgaGFuZGxlcnNcclxuIFx0XHR2YXIgZXJyb3IgPSBudWxsO1xyXG4gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHR2YXIgY2FsbGJhY2tzID0gW107XHJcbiBcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0XHRcdHZhciBkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV07XHJcbiBcdFx0XHRcdFx0dmFyIGNiID0gbW9kdWxlLmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwZW5kZW5jeV07XHJcbiBcdFx0XHRcdFx0aWYoY2FsbGJhY2tzLmluZGV4T2YoY2IpID49IDApIGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRcdGNhbGxiYWNrcy5wdXNoKGNiKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRcdFx0dmFyIGNiID0gY2FsbGJhY2tzW2ldO1xyXG4gXHRcdFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdFx0XHRjYihvdXRkYXRlZERlcGVuZGVuY2llcyk7XHJcbiBcdFx0XHRcdFx0fSBjYXRjaChlcnIpIHtcclxuIFx0XHRcdFx0XHRcdGlmKCFlcnJvcilcclxuIFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xyXG4gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdHZhciBpdGVtID0gb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzW2ldO1xyXG4gXHRcdFx0dmFyIG1vZHVsZUlkID0gaXRlbS5tb2R1bGU7XHJcbiBcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XHJcbiBcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKTtcclxuIFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbiBcdFx0XHRcdGlmKHR5cGVvZiBpdGVtLmVycm9ySGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiBcdFx0XHRcdFx0dHJ5IHtcclxuIFx0XHRcdFx0XHRcdGl0ZW0uZXJyb3JIYW5kbGVyKGVycik7XHJcbiBcdFx0XHRcdFx0fSBjYXRjaChlcnIpIHtcclxuIFx0XHRcdFx0XHRcdGlmKCFlcnJvcilcclxuIFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR9IGVsc2UgaWYoIWVycm9yKVxyXG4gXHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gaGFuZGxlIGVycm9ycyBpbiBhY2NlcHQgaGFuZGxlcnMgYW5kIHNlbGYgYWNjZXB0ZWQgbW9kdWxlIGxvYWRcclxuIFx0XHRpZihlcnJvcikge1xyXG4gXHRcdFx0aG90U2V0U3RhdHVzKFwiZmFpbFwiKTtcclxuIFx0XHRcdHJldHVybiBjYWxsYmFjayhlcnJvcik7XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xyXG4gXHRcdGNhbGxiYWNrKG51bGwsIG91dGRhdGVkTW9kdWxlcyk7XHJcbiBcdH1cclxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2UsXG4gXHRcdFx0aG90OiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpLFxuIFx0XHRcdHBhcmVudHM6IGhvdEN1cnJlbnRQYXJlbnRzLFxuIFx0XHRcdGNoaWxkcmVuOiBbXVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvZGlzdC9cIjtcblxuIFx0Ly8gX193ZWJwYWNrX2hhc2hfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5oID0gZnVuY3Rpb24oKSB7IHJldHVybiBob3RDdXJyZW50SGFzaDsgfTtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gaG90Q3JlYXRlUmVxdWlyZSgwKSgwKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCBjNWU5M2VlNjZhNGMyZGVkOTE0ZSIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbm9kZS1saWJzLWJyb3dzZXIvfi9wcm9jZXNzL2Jyb3dzZXIuanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBSZWFjdDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcIlJlYWN0XCJcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gcm91dGVyV2FybmluZztcbmV4cG9ydHMuX3Jlc2V0V2FybmVkID0gX3Jlc2V0V2FybmVkO1xuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCd3YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHdhcm5lZCA9IHt9O1xuXG5mdW5jdGlvbiByb3V0ZXJXYXJuaW5nKGZhbHNlVG9XYXJuLCBtZXNzYWdlKSB7XG4gIC8vIE9ubHkgaXNzdWUgZGVwcmVjYXRpb24gd2FybmluZ3Mgb25jZS5cbiAgaWYgKG1lc3NhZ2UuaW5kZXhPZignZGVwcmVjYXRlZCcpICE9PSAtMSkge1xuICAgIGlmICh3YXJuZWRbbWVzc2FnZV0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3YXJuZWRbbWVzc2FnZV0gPSB0cnVlO1xuICB9XG5cbiAgbWVzc2FnZSA9ICdbcmVhY3Qtcm91dGVyXSAnICsgbWVzc2FnZTtcblxuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAyID8gX2xlbiAtIDIgOiAwKSwgX2tleSA9IDI7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXkgLSAyXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIF93YXJuaW5nMi5kZWZhdWx0LmFwcGx5KHVuZGVmaW5lZCwgW2ZhbHNlVG9XYXJuLCBtZXNzYWdlXS5jb25jYXQoYXJncykpO1xufVxuXG5mdW5jdGlvbiBfcmVzZXRXYXJuZWQoKSB7XG4gIHdhcm5lZCA9IHt9O1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yb3V0ZXIvbGliL3JvdXRlcldhcm5pbmcuanNcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFVzZSBpbnZhcmlhbnQoKSB0byBhc3NlcnQgc3RhdGUgd2hpY2ggeW91ciBwcm9ncmFtIGFzc3VtZXMgdG8gYmUgdHJ1ZS5cbiAqXG4gKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuICogdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJyb2tlIGFuZCB3aGF0IHlvdSB3ZXJlXG4gKiBleHBlY3RpbmcuXG4gKlxuICogVGhlIGludmFyaWFudCBtZXNzYWdlIHdpbGwgYmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBpbnZhcmlhbnRcbiAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cbiAqL1xuXG52YXIgaW52YXJpYW50ID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHZhciBlcnJvcjtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAnTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArXG4gICAgICAgICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLidcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24oKSB7IHJldHVybiBhcmdzW2FyZ0luZGV4KytdOyB9KVxuICAgICAgKTtcbiAgICAgIGVycm9yLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgfVxuXG4gICAgZXJyb3IuZnJhbWVzVG9Qb3AgPSAxOyAvLyB3ZSBkb24ndCBjYXJlIGFib3V0IGludmFyaWFudCdzIG93biBmcmFtZVxuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbnZhcmlhbnQvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIENvcHlyaWdodCAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU2ltaWxhciB0byBpbnZhcmlhbnQgYnV0IG9ubHkgbG9ncyBhIHdhcm5pbmcgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuICogVGhpcyBjYW4gYmUgdXNlZCB0byBsb2cgaXNzdWVzIGluIGRldmVsb3BtZW50IGVudmlyb25tZW50cyBpbiBjcml0aWNhbFxuICogcGF0aHMuIFJlbW92aW5nIHRoZSBsb2dnaW5nIGNvZGUgZm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzIHdpbGwga2VlcCB0aGVcbiAqIHNhbWUgbG9naWMgYW5kIGZvbGxvdyB0aGUgc2FtZSBjb2RlIHBhdGhzLlxuICovXG5cbnZhciB3YXJuaW5nID0gZnVuY3Rpb24oKSB7fTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgd2FybmluZyA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhcmdzKSB7XG4gICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgYXJncyA9IG5ldyBBcnJheShsZW4gPiAyID8gbGVuIC0gMiA6IDApO1xuICAgIGZvciAodmFyIGtleSA9IDI7IGtleSA8IGxlbjsga2V5KyspIHtcbiAgICAgIGFyZ3Nba2V5IC0gMl0gPSBhcmd1bWVudHNba2V5XTtcbiAgICB9XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICtcbiAgICAgICAgJ21lc3NhZ2UgYXJndW1lbnQnXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChmb3JtYXQubGVuZ3RoIDwgMTAgfHwgKC9eW3NcXFddKiQvKS50ZXN0KGZvcm1hdCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoZSB3YXJuaW5nIGZvcm1hdCBzaG91bGQgYmUgYWJsZSB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzICcgK1xuICAgICAgICAnd2FybmluZy4gUGxlYXNlLCB1c2UgYSBtb3JlIGRlc2NyaXB0aXZlIGZvcm1hdCB0aGFuOiAnICsgZm9ybWF0XG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArXG4gICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICAgICAgfSk7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgIH0gY2F0Y2goeCkge31cbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gd2FybmluZztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9oaXN0b3J5L34vd2FybmluZy9icm93c2VyLmpzXG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gYW50ZDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImFudGRcIlxuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKlxyXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG4qL1xyXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xyXG5cdHZhciBsaXN0ID0gW107XHJcblxyXG5cdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcclxuXHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XHJcblx0XHR2YXIgcmVzdWx0ID0gW107XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IHRoaXNbaV07XHJcblx0XHRcdGlmKGl0ZW1bMl0pIHtcclxuXHRcdFx0XHRyZXN1bHQucHVzaChcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGl0ZW1bMV0gKyBcIn1cIik7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmVzdWx0LnB1c2goaXRlbVsxXSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiByZXN1bHQuam9pbihcIlwiKTtcclxuXHR9O1xyXG5cclxuXHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxyXG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcclxuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxyXG5cdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XHJcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcclxuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxyXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcclxuXHRcdH1cclxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xyXG5cdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXHJcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXHJcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXHJcblx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXHJcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XHJcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xyXG5cdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XHJcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcclxuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHRyZXR1cm4gbGlzdDtcclxufTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZXhwb3J0cy5pc1JlYWN0Q2hpbGRyZW4gPSBpc1JlYWN0Q2hpbGRyZW47XG5leHBvcnRzLmNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudCA9IGNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudDtcbmV4cG9ydHMuY3JlYXRlUm91dGVzRnJvbVJlYWN0Q2hpbGRyZW4gPSBjcmVhdGVSb3V0ZXNGcm9tUmVhY3RDaGlsZHJlbjtcbmV4cG9ydHMuY3JlYXRlUm91dGVzID0gY3JlYXRlUm91dGVzO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGlzVmFsaWRDaGlsZChvYmplY3QpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsIHx8IF9yZWFjdDIuZGVmYXVsdC5pc1ZhbGlkRWxlbWVudChvYmplY3QpO1xufVxuXG5mdW5jdGlvbiBpc1JlYWN0Q2hpbGRyZW4ob2JqZWN0KSB7XG4gIHJldHVybiBpc1ZhbGlkQ2hpbGQob2JqZWN0KSB8fCBBcnJheS5pc0FycmF5KG9iamVjdCkgJiYgb2JqZWN0LmV2ZXJ5KGlzVmFsaWRDaGlsZCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVJvdXRlKGRlZmF1bHRQcm9wcywgcHJvcHMpIHtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBkZWZhdWx0UHJvcHMsIHByb3BzKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50KGVsZW1lbnQpIHtcbiAgdmFyIHR5cGUgPSBlbGVtZW50LnR5cGU7XG4gIHZhciByb3V0ZSA9IGNyZWF0ZVJvdXRlKHR5cGUuZGVmYXVsdFByb3BzLCBlbGVtZW50LnByb3BzKTtcblxuICBpZiAocm91dGUuY2hpbGRyZW4pIHtcbiAgICB2YXIgY2hpbGRSb3V0ZXMgPSBjcmVhdGVSb3V0ZXNGcm9tUmVhY3RDaGlsZHJlbihyb3V0ZS5jaGlsZHJlbiwgcm91dGUpO1xuXG4gICAgaWYgKGNoaWxkUm91dGVzLmxlbmd0aCkgcm91dGUuY2hpbGRSb3V0ZXMgPSBjaGlsZFJvdXRlcztcblxuICAgIGRlbGV0ZSByb3V0ZS5jaGlsZHJlbjtcbiAgfVxuXG4gIHJldHVybiByb3V0ZTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgcm91dGVzIG9iamVjdCBmcm9tIHRoZSBnaXZlbiBSZWFjdENoaWxkcmVuLiBKU1hcbiAqIHByb3ZpZGVzIGEgY29udmVuaWVudCB3YXkgdG8gdmlzdWFsaXplIGhvdyByb3V0ZXMgaW4gdGhlIGhpZXJhcmNoeSBhcmVcbiAqIG5lc3RlZC5cbiAqXG4gKiAgIGltcG9ydCB7IFJvdXRlLCBjcmVhdGVSb3V0ZXNGcm9tUmVhY3RDaGlsZHJlbiB9IGZyb20gJ3JlYWN0LXJvdXRlcidcbiAqXG4gKiAgIGNvbnN0IHJvdXRlcyA9IGNyZWF0ZVJvdXRlc0Zyb21SZWFjdENoaWxkcmVuKFxuICogICAgIDxSb3V0ZSBjb21wb25lbnQ9e0FwcH0+XG4gKiAgICAgICA8Um91dGUgcGF0aD1cImhvbWVcIiBjb21wb25lbnQ9e0Rhc2hib2FyZH0vPlxuICogICAgICAgPFJvdXRlIHBhdGg9XCJuZXdzXCIgY29tcG9uZW50PXtOZXdzRmVlZH0vPlxuICogICAgIDwvUm91dGU+XG4gKiAgIClcbiAqXG4gKiBOb3RlOiBUaGlzIG1ldGhvZCBpcyBhdXRvbWF0aWNhbGx5IHVzZWQgd2hlbiB5b3UgcHJvdmlkZSA8Um91dGU+IGNoaWxkcmVuXG4gKiB0byBhIDxSb3V0ZXI+IGNvbXBvbmVudC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUm91dGVzRnJvbVJlYWN0Q2hpbGRyZW4oY2hpbGRyZW4sIHBhcmVudFJvdXRlKSB7XG4gIHZhciByb3V0ZXMgPSBbXTtcblxuICBfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICBpZiAoX3JlYWN0Mi5kZWZhdWx0LmlzVmFsaWRFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICAvLyBDb21wb25lbnQgY2xhc3NlcyBtYXkgaGF2ZSBhIHN0YXRpYyBjcmVhdGUqIG1ldGhvZC5cbiAgICAgIGlmIChlbGVtZW50LnR5cGUuY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50KSB7XG4gICAgICAgIHZhciByb3V0ZSA9IGVsZW1lbnQudHlwZS5jcmVhdGVSb3V0ZUZyb21SZWFjdEVsZW1lbnQoZWxlbWVudCwgcGFyZW50Um91dGUpO1xuXG4gICAgICAgIGlmIChyb3V0ZSkgcm91dGVzLnB1c2gocm91dGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm91dGVzLnB1c2goY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50KGVsZW1lbnQpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByb3V0ZXM7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiByb3V0ZXMgZnJvbSB0aGUgZ2l2ZW4gb2JqZWN0IHdoaWNoXG4gKiBtYXkgYmUgYSBKU1ggcm91dGUsIGEgcGxhaW4gb2JqZWN0IHJvdXRlLCBvciBhbiBhcnJheSBvZiBlaXRoZXIuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJvdXRlcyhyb3V0ZXMpIHtcbiAgaWYgKGlzUmVhY3RDaGlsZHJlbihyb3V0ZXMpKSB7XG4gICAgcm91dGVzID0gY3JlYXRlUm91dGVzRnJvbVJlYWN0Q2hpbGRyZW4ocm91dGVzKTtcbiAgfSBlbHNlIGlmIChyb3V0ZXMgJiYgIUFycmF5LmlzQXJyYXkocm91dGVzKSkge1xuICAgIHJvdXRlcyA9IFtyb3V0ZXNdO1xuICB9XG5cbiAgcmV0dXJuIHJvdXRlcztcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtcm91dGVyL2xpYi9Sb3V0ZVV0aWxzLmpzXG4vLyBtb2R1bGUgaWQgPSA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuY3JlYXRlTWVtb3J5SGlzdG9yeSA9IGV4cG9ydHMuaGFzaEhpc3RvcnkgPSBleHBvcnRzLmJyb3dzZXJIaXN0b3J5ID0gZXhwb3J0cy5hcHBseVJvdXRlck1pZGRsZXdhcmUgPSBleHBvcnRzLmZvcm1hdFBhdHRlcm4gPSBleHBvcnRzLnVzZVJvdXRlckhpc3RvcnkgPSBleHBvcnRzLm1hdGNoID0gZXhwb3J0cy5yb3V0ZXJTaGFwZSA9IGV4cG9ydHMubG9jYXRpb25TaGFwZSA9IGV4cG9ydHMuUHJvcFR5cGVzID0gZXhwb3J0cy5Sb3V0aW5nQ29udGV4dCA9IGV4cG9ydHMuUm91dGVyQ29udGV4dCA9IGV4cG9ydHMuY3JlYXRlUm91dGVzID0gZXhwb3J0cy51c2VSb3V0ZXMgPSBleHBvcnRzLlJvdXRlQ29udGV4dCA9IGV4cG9ydHMuTGlmZWN5Y2xlID0gZXhwb3J0cy5IaXN0b3J5ID0gZXhwb3J0cy5Sb3V0ZSA9IGV4cG9ydHMuUmVkaXJlY3QgPSBleHBvcnRzLkluZGV4Um91dGUgPSBleHBvcnRzLkluZGV4UmVkaXJlY3QgPSBleHBvcnRzLndpdGhSb3V0ZXIgPSBleHBvcnRzLkluZGV4TGluayA9IGV4cG9ydHMuTGluayA9IGV4cG9ydHMuUm91dGVyID0gdW5kZWZpbmVkO1xuXG52YXIgX1JvdXRlVXRpbHMgPSByZXF1aXJlKCcuL1JvdXRlVXRpbHMnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdjcmVhdGVSb3V0ZXMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfUm91dGVVdGlscy5jcmVhdGVSb3V0ZXM7XG4gIH1cbn0pO1xuXG52YXIgX1Byb3BUeXBlczIgPSByZXF1aXJlKCcuL1Byb3BUeXBlcycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2xvY2F0aW9uU2hhcGUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfUHJvcFR5cGVzMi5sb2NhdGlvblNoYXBlO1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAncm91dGVyU2hhcGUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfUHJvcFR5cGVzMi5yb3V0ZXJTaGFwZTtcbiAgfVxufSk7XG5cbnZhciBfUGF0dGVyblV0aWxzID0gcmVxdWlyZSgnLi9QYXR0ZXJuVXRpbHMnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdmb3JtYXRQYXR0ZXJuJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX1BhdHRlcm5VdGlscy5mb3JtYXRQYXR0ZXJuO1xuICB9XG59KTtcblxudmFyIF9Sb3V0ZXIyID0gcmVxdWlyZSgnLi9Sb3V0ZXInKTtcblxudmFyIF9Sb3V0ZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUm91dGVyMik7XG5cbnZhciBfTGluazIgPSByZXF1aXJlKCcuL0xpbmsnKTtcblxudmFyIF9MaW5rMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xpbmsyKTtcblxudmFyIF9JbmRleExpbmsyID0gcmVxdWlyZSgnLi9JbmRleExpbmsnKTtcblxudmFyIF9JbmRleExpbmszID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW5kZXhMaW5rMik7XG5cbnZhciBfd2l0aFJvdXRlcjIgPSByZXF1aXJlKCcuL3dpdGhSb3V0ZXInKTtcblxudmFyIF93aXRoUm91dGVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dpdGhSb3V0ZXIyKTtcblxudmFyIF9JbmRleFJlZGlyZWN0MiA9IHJlcXVpcmUoJy4vSW5kZXhSZWRpcmVjdCcpO1xuXG52YXIgX0luZGV4UmVkaXJlY3QzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW5kZXhSZWRpcmVjdDIpO1xuXG52YXIgX0luZGV4Um91dGUyID0gcmVxdWlyZSgnLi9JbmRleFJvdXRlJyk7XG5cbnZhciBfSW5kZXhSb3V0ZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbmRleFJvdXRlMik7XG5cbnZhciBfUmVkaXJlY3QyID0gcmVxdWlyZSgnLi9SZWRpcmVjdCcpO1xuXG52YXIgX1JlZGlyZWN0MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlZGlyZWN0Mik7XG5cbnZhciBfUm91dGUyID0gcmVxdWlyZSgnLi9Sb3V0ZScpO1xuXG52YXIgX1JvdXRlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JvdXRlMik7XG5cbnZhciBfSGlzdG9yeTIgPSByZXF1aXJlKCcuL0hpc3RvcnknKTtcblxudmFyIF9IaXN0b3J5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0hpc3RvcnkyKTtcblxudmFyIF9MaWZlY3ljbGUyID0gcmVxdWlyZSgnLi9MaWZlY3ljbGUnKTtcblxudmFyIF9MaWZlY3ljbGUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTGlmZWN5Y2xlMik7XG5cbnZhciBfUm91dGVDb250ZXh0MiA9IHJlcXVpcmUoJy4vUm91dGVDb250ZXh0Jyk7XG5cbnZhciBfUm91dGVDb250ZXh0MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JvdXRlQ29udGV4dDIpO1xuXG52YXIgX3VzZVJvdXRlczIgPSByZXF1aXJlKCcuL3VzZVJvdXRlcycpO1xuXG52YXIgX3VzZVJvdXRlczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91c2VSb3V0ZXMyKTtcblxudmFyIF9Sb3V0ZXJDb250ZXh0MiA9IHJlcXVpcmUoJy4vUm91dGVyQ29udGV4dCcpO1xuXG52YXIgX1JvdXRlckNvbnRleHQzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUm91dGVyQ29udGV4dDIpO1xuXG52YXIgX1JvdXRpbmdDb250ZXh0MiA9IHJlcXVpcmUoJy4vUm91dGluZ0NvbnRleHQnKTtcblxudmFyIF9Sb3V0aW5nQ29udGV4dDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Sb3V0aW5nQ29udGV4dDIpO1xuXG52YXIgX1Byb3BUeXBlczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Qcm9wVHlwZXMyKTtcblxudmFyIF9tYXRjaDIgPSByZXF1aXJlKCcuL21hdGNoJyk7XG5cbnZhciBfbWF0Y2gzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWF0Y2gyKTtcblxudmFyIF91c2VSb3V0ZXJIaXN0b3J5MiA9IHJlcXVpcmUoJy4vdXNlUm91dGVySGlzdG9yeScpO1xuXG52YXIgX3VzZVJvdXRlckhpc3RvcnkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXNlUm91dGVySGlzdG9yeTIpO1xuXG52YXIgX2FwcGx5Um91dGVyTWlkZGxld2FyZTIgPSByZXF1aXJlKCcuL2FwcGx5Um91dGVyTWlkZGxld2FyZScpO1xuXG52YXIgX2FwcGx5Um91dGVyTWlkZGxld2FyZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcHBseVJvdXRlck1pZGRsZXdhcmUyKTtcblxudmFyIF9icm93c2VySGlzdG9yeTIgPSByZXF1aXJlKCcuL2Jyb3dzZXJIaXN0b3J5Jyk7XG5cbnZhciBfYnJvd3Nlckhpc3RvcnkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnJvd3Nlckhpc3RvcnkyKTtcblxudmFyIF9oYXNoSGlzdG9yeTIgPSByZXF1aXJlKCcuL2hhc2hIaXN0b3J5Jyk7XG5cbnZhciBfaGFzaEhpc3RvcnkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGFzaEhpc3RvcnkyKTtcblxudmFyIF9jcmVhdGVNZW1vcnlIaXN0b3J5MiA9IHJlcXVpcmUoJy4vY3JlYXRlTWVtb3J5SGlzdG9yeScpO1xuXG52YXIgX2NyZWF0ZU1lbW9yeUhpc3RvcnkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlTWVtb3J5SGlzdG9yeTIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLlJvdXRlciA9IF9Sb3V0ZXIzLmRlZmF1bHQ7IC8qIGNvbXBvbmVudHMgKi9cblxuZXhwb3J0cy5MaW5rID0gX0xpbmszLmRlZmF1bHQ7XG5leHBvcnRzLkluZGV4TGluayA9IF9JbmRleExpbmszLmRlZmF1bHQ7XG5leHBvcnRzLndpdGhSb3V0ZXIgPSBfd2l0aFJvdXRlcjMuZGVmYXVsdDtcblxuLyogY29tcG9uZW50cyAoY29uZmlndXJhdGlvbikgKi9cblxuZXhwb3J0cy5JbmRleFJlZGlyZWN0ID0gX0luZGV4UmVkaXJlY3QzLmRlZmF1bHQ7XG5leHBvcnRzLkluZGV4Um91dGUgPSBfSW5kZXhSb3V0ZTMuZGVmYXVsdDtcbmV4cG9ydHMuUmVkaXJlY3QgPSBfUmVkaXJlY3QzLmRlZmF1bHQ7XG5leHBvcnRzLlJvdXRlID0gX1JvdXRlMy5kZWZhdWx0O1xuXG4vKiBtaXhpbnMgKi9cblxuZXhwb3J0cy5IaXN0b3J5ID0gX0hpc3RvcnkzLmRlZmF1bHQ7XG5leHBvcnRzLkxpZmVjeWNsZSA9IF9MaWZlY3ljbGUzLmRlZmF1bHQ7XG5leHBvcnRzLlJvdXRlQ29udGV4dCA9IF9Sb3V0ZUNvbnRleHQzLmRlZmF1bHQ7XG5cbi8qIHV0aWxzICovXG5cbmV4cG9ydHMudXNlUm91dGVzID0gX3VzZVJvdXRlczMuZGVmYXVsdDtcbmV4cG9ydHMuUm91dGVyQ29udGV4dCA9IF9Sb3V0ZXJDb250ZXh0My5kZWZhdWx0O1xuZXhwb3J0cy5Sb3V0aW5nQ29udGV4dCA9IF9Sb3V0aW5nQ29udGV4dDMuZGVmYXVsdDtcbmV4cG9ydHMuUHJvcFR5cGVzID0gX1Byb3BUeXBlczMuZGVmYXVsdDtcbmV4cG9ydHMubWF0Y2ggPSBfbWF0Y2gzLmRlZmF1bHQ7XG5leHBvcnRzLnVzZVJvdXRlckhpc3RvcnkgPSBfdXNlUm91dGVySGlzdG9yeTMuZGVmYXVsdDtcbmV4cG9ydHMuYXBwbHlSb3V0ZXJNaWRkbGV3YXJlID0gX2FwcGx5Um91dGVyTWlkZGxld2FyZTMuZGVmYXVsdDtcblxuLyogaGlzdG9yaWVzICovXG5cbmV4cG9ydHMuYnJvd3Nlckhpc3RvcnkgPSBfYnJvd3Nlckhpc3RvcnkzLmRlZmF1bHQ7XG5leHBvcnRzLmhhc2hIaXN0b3J5ID0gX2hhc2hIaXN0b3J5My5kZWZhdWx0O1xuZXhwb3J0cy5jcmVhdGVNZW1vcnlIaXN0b3J5ID0gX2NyZWF0ZU1lbW9yeUhpc3RvcnkzLmRlZmF1bHQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLypcclxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuKi9cclxudmFyIHN0eWxlc0luRG9tID0ge30sXHJcblx0bWVtb2l6ZSA9IGZ1bmN0aW9uKGZuKSB7XHJcblx0XHR2YXIgbWVtbztcclxuXHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcdHJldHVybiBtZW1vO1xyXG5cdFx0fTtcclxuXHR9LFxyXG5cdGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIC9tc2llIFs2LTldXFxiLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xyXG5cdH0pLFxyXG5cdGdldEhlYWRFbGVtZW50ID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcblx0fSksXHJcblx0c2luZ2xldG9uRWxlbWVudCA9IG51bGwsXHJcblx0c2luZ2xldG9uQ291bnRlciA9IDAsXHJcblx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AgPSBbXTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xyXG5cdGlmKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xyXG5cdFx0aWYodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XHJcblx0fVxyXG5cclxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cclxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXHJcblx0aWYgKHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XHJcblxyXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiA8aGVhZD4uXHJcblx0aWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcclxuXHJcblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0KTtcclxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcclxuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XHJcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcclxuXHRcdH1cclxuXHRcdGlmKG5ld0xpc3QpIHtcclxuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0KTtcclxuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcclxuXHRcdH1cclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xyXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XHJcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKVxyXG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oKTtcclxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKSB7XHJcblx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdGlmKGRvbVN0eWxlKSB7XHJcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcclxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIHBhcnRzID0gW107XHJcblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCkge1xyXG5cdHZhciBzdHlsZXMgPSBbXTtcclxuXHR2YXIgbmV3U3R5bGVzID0ge307XHJcblx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcclxuXHRcdHZhciBpZCA9IGl0ZW1bMF07XHJcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcclxuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XHJcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcclxuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcclxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKVxyXG5cdFx0XHRzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XHJcblx0fVxyXG5cdHJldHVybiBzdHlsZXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpIHtcclxuXHR2YXIgaGVhZCA9IGdldEhlYWRFbGVtZW50KCk7XHJcblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Bbc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XHJcblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcclxuXHRcdGlmKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xyXG5cdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGhlYWQuZmlyc3RDaGlsZCk7XHJcblx0XHR9IGVsc2UgaWYobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcclxuXHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0XHR9XHJcblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlRWxlbWVudCk7XHJcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XHJcblx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcclxuXHRzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdHZhciBpZHggPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlRWxlbWVudCk7XHJcblx0aWYoaWR4ID49IDApIHtcclxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcclxuXHR2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG5cdHN0eWxlRWxlbWVudC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xyXG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpO1xyXG5cdHJldHVybiBzdHlsZUVsZW1lbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpIHtcclxuXHR2YXIgbGlua0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcclxuXHRsaW5rRWxlbWVudC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcclxuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGlua0VsZW1lbnQpO1xyXG5cdHJldHVybiBsaW5rRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XHJcblx0dmFyIHN0eWxlRWxlbWVudCwgdXBkYXRlLCByZW1vdmU7XHJcblxyXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xyXG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XHJcblx0XHRzdHlsZUVsZW1lbnQgPSBzaW5nbGV0b25FbGVtZW50IHx8IChzaW5nbGV0b25FbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcclxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIGZhbHNlKTtcclxuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIHRydWUpO1xyXG5cdH0gZWxzZSBpZihvYmouc291cmNlTWFwICYmXHJcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcclxuXHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdGlmKHN0eWxlRWxlbWVudC5ocmVmKVxyXG5cdFx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGVFbGVtZW50LmhyZWYpO1xyXG5cdFx0fTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0dXBkYXRlKG9iaik7XHJcblxyXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcclxuXHRcdGlmKG5ld09iaikge1xyXG5cdFx0XHRpZihuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cdH07XHJcbn1cclxuXHJcbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XHJcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xyXG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xyXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XHJcblx0fTtcclxufSkoKTtcclxuXHJcbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGVFbGVtZW50LCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcclxuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XHJcblxyXG5cdGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XHJcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzO1xyXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGNzc05vZGUpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZUVsZW1lbnQsIG9iaikge1xyXG5cdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcclxuXHJcblx0aWYobWVkaWEpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcclxuXHR9XHJcblxyXG5cdGlmKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR3aGlsZShzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xyXG5cdFx0fVxyXG5cdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlTGluayhsaW5rRWxlbWVudCwgb2JqKSB7XHJcblx0dmFyIGNzcyA9IG9iai5jc3M7XHJcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XHJcblxyXG5cdGlmKHNvdXJjZU1hcCkge1xyXG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcclxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcclxuXHR9XHJcblxyXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xyXG5cclxuXHR2YXIgb2xkU3JjID0gbGlua0VsZW1lbnQuaHJlZjtcclxuXHJcblx0bGlua0VsZW1lbnQuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcblxyXG5cdGlmKG9sZFNyYylcclxuXHRcdFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcclxufVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1xuLy8gbW9kdWxlIGlkID0gMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5leHRyYWN0UGF0aCA9IGV4dHJhY3RQYXRoO1xuZXhwb3J0cy5wYXJzZVBhdGggPSBwYXJzZVBhdGg7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbmZ1bmN0aW9uIGV4dHJhY3RQYXRoKHN0cmluZykge1xuICB2YXIgbWF0Y2ggPSBzdHJpbmcubWF0Y2goL15odHRwcz86XFwvXFwvW15cXC9dKi8pO1xuXG4gIGlmIChtYXRjaCA9PSBudWxsKSByZXR1cm4gc3RyaW5nO1xuXG4gIHJldHVybiBzdHJpbmcuc3Vic3RyaW5nKG1hdGNoWzBdLmxlbmd0aCk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlUGF0aChwYXRoKSB7XG4gIHZhciBwYXRobmFtZSA9IGV4dHJhY3RQYXRoKHBhdGgpO1xuICB2YXIgc2VhcmNoID0gJyc7XG4gIHZhciBoYXNoID0gJyc7XG5cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKHBhdGggPT09IHBhdGhuYW1lLCAnQSBwYXRoIG11c3QgYmUgcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoIG9ubHksIG5vdCBhIGZ1bGx5IHF1YWxpZmllZCBVUkwgbGlrZSBcIiVzXCInLCBwYXRoKSA6IHVuZGVmaW5lZDtcblxuICB2YXIgaGFzaEluZGV4ID0gcGF0aG5hbWUuaW5kZXhPZignIycpO1xuICBpZiAoaGFzaEluZGV4ICE9PSAtMSkge1xuICAgIGhhc2ggPSBwYXRobmFtZS5zdWJzdHJpbmcoaGFzaEluZGV4KTtcbiAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cmluZygwLCBoYXNoSW5kZXgpO1xuICB9XG5cbiAgdmFyIHNlYXJjaEluZGV4ID0gcGF0aG5hbWUuaW5kZXhPZignPycpO1xuICBpZiAoc2VhcmNoSW5kZXggIT09IC0xKSB7XG4gICAgc2VhcmNoID0gcGF0aG5hbWUuc3Vic3RyaW5nKHNlYXJjaEluZGV4KTtcbiAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cmluZygwLCBzZWFyY2hJbmRleCk7XG4gIH1cblxuICBpZiAocGF0aG5hbWUgPT09ICcnKSBwYXRobmFtZSA9ICcvJztcblxuICByZXR1cm4ge1xuICAgIHBhdGhuYW1lOiBwYXRobmFtZSxcbiAgICBzZWFyY2g6IHNlYXJjaCxcbiAgICBoYXNoOiBoYXNoXG4gIH07XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2hpc3RvcnkvbGliL1BhdGhVdGlscy5qc1xuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5yb3V0ZXMgPSBleHBvcnRzLnJvdXRlID0gZXhwb3J0cy5jb21wb25lbnRzID0gZXhwb3J0cy5jb21wb25lbnQgPSBleHBvcnRzLmhpc3RvcnkgPSB1bmRlZmluZWQ7XG5leHBvcnRzLmZhbHN5ID0gZmFsc3k7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgZnVuYyA9IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYztcbnZhciBvYmplY3QgPSBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdDtcbnZhciBhcnJheU9mID0gX3JlYWN0LlByb3BUeXBlcy5hcnJheU9mO1xudmFyIG9uZU9mVHlwZSA9IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlO1xudmFyIGVsZW1lbnQgPSBfcmVhY3QuUHJvcFR5cGVzLmVsZW1lbnQ7XG52YXIgc2hhcGUgPSBfcmVhY3QuUHJvcFR5cGVzLnNoYXBlO1xudmFyIHN0cmluZyA9IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nO1xuZnVuY3Rpb24gZmFsc3kocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gIGlmIChwcm9wc1twcm9wTmFtZV0pIHJldHVybiBuZXcgRXJyb3IoJzwnICsgY29tcG9uZW50TmFtZSArICc+IHNob3VsZCBub3QgaGF2ZSBhIFwiJyArIHByb3BOYW1lICsgJ1wiIHByb3AnKTtcbn1cblxudmFyIGhpc3RvcnkgPSBleHBvcnRzLmhpc3RvcnkgPSBzaGFwZSh7XG4gIGxpc3RlbjogZnVuYy5pc1JlcXVpcmVkLFxuICBwdXNoOiBmdW5jLmlzUmVxdWlyZWQsXG4gIHJlcGxhY2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgZ286IGZ1bmMuaXNSZXF1aXJlZCxcbiAgZ29CYWNrOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGdvRm9yd2FyZDogZnVuYy5pc1JlcXVpcmVkXG59KTtcblxudmFyIGNvbXBvbmVudCA9IGV4cG9ydHMuY29tcG9uZW50ID0gb25lT2ZUeXBlKFtmdW5jLCBzdHJpbmddKTtcbnZhciBjb21wb25lbnRzID0gZXhwb3J0cy5jb21wb25lbnRzID0gb25lT2ZUeXBlKFtjb21wb25lbnQsIG9iamVjdF0pO1xudmFyIHJvdXRlID0gZXhwb3J0cy5yb3V0ZSA9IG9uZU9mVHlwZShbb2JqZWN0LCBlbGVtZW50XSk7XG52YXIgcm91dGVzID0gZXhwb3J0cy5yb3V0ZXMgPSBvbmVPZlR5cGUoW3JvdXRlLCBhcnJheU9mKHJvdXRlKV0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yb3V0ZXIvbGliL0ludGVybmFsUHJvcFR5cGVzLmpzXG4vLyBtb2R1bGUgaWQgPSAxMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIEluZGljYXRlcyB0aGF0IG5hdmlnYXRpb24gd2FzIGNhdXNlZCBieSBhIGNhbGwgdG8gaGlzdG9yeS5wdXNoLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG52YXIgUFVTSCA9ICdQVVNIJztcblxuZXhwb3J0cy5QVVNIID0gUFVTSDtcbi8qKlxuICogSW5kaWNhdGVzIHRoYXQgbmF2aWdhdGlvbiB3YXMgY2F1c2VkIGJ5IGEgY2FsbCB0byBoaXN0b3J5LnJlcGxhY2UuXG4gKi9cbnZhciBSRVBMQUNFID0gJ1JFUExBQ0UnO1xuXG5leHBvcnRzLlJFUExBQ0UgPSBSRVBMQUNFO1xuLyoqXG4gKiBJbmRpY2F0ZXMgdGhhdCBuYXZpZ2F0aW9uIHdhcyBjYXVzZWQgYnkgc29tZSBvdGhlciBhY3Rpb24gc3VjaFxuICogYXMgdXNpbmcgYSBicm93c2VyJ3MgYmFjay9mb3J3YXJkIGJ1dHRvbnMgYW5kL29yIG1hbnVhbGx5IG1hbmlwdWxhdGluZ1xuICogdGhlIFVSTCBpbiBhIGJyb3dzZXIncyBsb2NhdGlvbiBiYXIuIFRoaXMgaXMgdGhlIGRlZmF1bHQuXG4gKlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XaW5kb3dFdmVudEhhbmRsZXJzL29ucG9wc3RhdGVcbiAqIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICovXG52YXIgUE9QID0gJ1BPUCc7XG5cbmV4cG9ydHMuUE9QID0gUE9QO1xuZXhwb3J0c1snZGVmYXVsdCddID0ge1xuICBQVVNIOiBQVVNILFxuICBSRVBMQUNFOiBSRVBMQUNFLFxuICBQT1A6IFBPUFxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaGlzdG9yeS9saWIvQWN0aW9ucy5qc1xuLy8gbW9kdWxlIGlkID0gMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5jb21waWxlUGF0dGVybiA9IGNvbXBpbGVQYXR0ZXJuO1xuZXhwb3J0cy5tYXRjaFBhdHRlcm4gPSBtYXRjaFBhdHRlcm47XG5leHBvcnRzLmdldFBhcmFtTmFtZXMgPSBnZXRQYXJhbU5hbWVzO1xuZXhwb3J0cy5nZXRQYXJhbXMgPSBnZXRQYXJhbXM7XG5leHBvcnRzLmZvcm1hdFBhdHRlcm4gPSBmb3JtYXRQYXR0ZXJuO1xuXG52YXIgX2ludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuXG52YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csICdcXFxcJCYnKTtcbn1cblxuZnVuY3Rpb24gX2NvbXBpbGVQYXR0ZXJuKHBhdHRlcm4pIHtcbiAgdmFyIHJlZ2V4cFNvdXJjZSA9ICcnO1xuICB2YXIgcGFyYW1OYW1lcyA9IFtdO1xuICB2YXIgdG9rZW5zID0gW107XG5cbiAgdmFyIG1hdGNoID0gdm9pZCAwLFxuICAgICAgbGFzdEluZGV4ID0gMCxcbiAgICAgIG1hdGNoZXIgPSAvOihbYS16QS1aXyRdW2EtekEtWjAtOV8kXSopfFxcKlxcKnxcXCp8XFwofFxcKS9nO1xuICB3aGlsZSAobWF0Y2ggPSBtYXRjaGVyLmV4ZWMocGF0dGVybikpIHtcbiAgICBpZiAobWF0Y2guaW5kZXggIT09IGxhc3RJbmRleCkge1xuICAgICAgdG9rZW5zLnB1c2gocGF0dGVybi5zbGljZShsYXN0SW5kZXgsIG1hdGNoLmluZGV4KSk7XG4gICAgICByZWdleHBTb3VyY2UgKz0gZXNjYXBlUmVnRXhwKHBhdHRlcm4uc2xpY2UobGFzdEluZGV4LCBtYXRjaC5pbmRleCkpO1xuICAgIH1cblxuICAgIGlmIChtYXRjaFsxXSkge1xuICAgICAgcmVnZXhwU291cmNlICs9ICcoW14vXSspJztcbiAgICAgIHBhcmFtTmFtZXMucHVzaChtYXRjaFsxXSk7XG4gICAgfSBlbHNlIGlmIChtYXRjaFswXSA9PT0gJyoqJykge1xuICAgICAgcmVnZXhwU291cmNlICs9ICcoLiopJztcbiAgICAgIHBhcmFtTmFtZXMucHVzaCgnc3BsYXQnKTtcbiAgICB9IGVsc2UgaWYgKG1hdGNoWzBdID09PSAnKicpIHtcbiAgICAgIHJlZ2V4cFNvdXJjZSArPSAnKC4qPyknO1xuICAgICAgcGFyYW1OYW1lcy5wdXNoKCdzcGxhdCcpO1xuICAgIH0gZWxzZSBpZiAobWF0Y2hbMF0gPT09ICcoJykge1xuICAgICAgcmVnZXhwU291cmNlICs9ICcoPzonO1xuICAgIH0gZWxzZSBpZiAobWF0Y2hbMF0gPT09ICcpJykge1xuICAgICAgcmVnZXhwU291cmNlICs9ICcpPyc7XG4gICAgfVxuXG4gICAgdG9rZW5zLnB1c2gobWF0Y2hbMF0pO1xuXG4gICAgbGFzdEluZGV4ID0gbWF0Y2hlci5sYXN0SW5kZXg7XG4gIH1cblxuICBpZiAobGFzdEluZGV4ICE9PSBwYXR0ZXJuLmxlbmd0aCkge1xuICAgIHRva2Vucy5wdXNoKHBhdHRlcm4uc2xpY2UobGFzdEluZGV4LCBwYXR0ZXJuLmxlbmd0aCkpO1xuICAgIHJlZ2V4cFNvdXJjZSArPSBlc2NhcGVSZWdFeHAocGF0dGVybi5zbGljZShsYXN0SW5kZXgsIHBhdHRlcm4ubGVuZ3RoKSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBhdHRlcm46IHBhdHRlcm4sXG4gICAgcmVnZXhwU291cmNlOiByZWdleHBTb3VyY2UsXG4gICAgcGFyYW1OYW1lczogcGFyYW1OYW1lcyxcbiAgICB0b2tlbnM6IHRva2Vuc1xuICB9O1xufVxuXG52YXIgQ29tcGlsZWRQYXR0ZXJuc0NhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuZnVuY3Rpb24gY29tcGlsZVBhdHRlcm4ocGF0dGVybikge1xuICBpZiAoIUNvbXBpbGVkUGF0dGVybnNDYWNoZVtwYXR0ZXJuXSkgQ29tcGlsZWRQYXR0ZXJuc0NhY2hlW3BhdHRlcm5dID0gX2NvbXBpbGVQYXR0ZXJuKHBhdHRlcm4pO1xuXG4gIHJldHVybiBDb21waWxlZFBhdHRlcm5zQ2FjaGVbcGF0dGVybl07XG59XG5cbi8qKlxuICogQXR0ZW1wdHMgdG8gbWF0Y2ggYSBwYXR0ZXJuIG9uIHRoZSBnaXZlbiBwYXRobmFtZS4gUGF0dGVybnMgbWF5IHVzZVxuICogdGhlIGZvbGxvd2luZyBzcGVjaWFsIGNoYXJhY3RlcnM6XG4gKlxuICogLSA6cGFyYW1OYW1lICAgICBNYXRjaGVzIGEgVVJMIHNlZ21lbnQgdXAgdG8gdGhlIG5leHQgLywgPywgb3IgIy4gVGhlXG4gKiAgICAgICAgICAgICAgICAgIGNhcHR1cmVkIHN0cmluZyBpcyBjb25zaWRlcmVkIGEgXCJwYXJhbVwiXG4gKiAtICgpICAgICAgICAgICAgIFdyYXBzIGEgc2VnbWVudCBvZiB0aGUgVVJMIHRoYXQgaXMgb3B0aW9uYWxcbiAqIC0gKiAgICAgICAgICAgICAgQ29uc3VtZXMgKG5vbi1ncmVlZHkpIGFsbCBjaGFyYWN0ZXJzIHVwIHRvIHRoZSBuZXh0XG4gKiAgICAgICAgICAgICAgICAgIGNoYXJhY3RlciBpbiB0aGUgcGF0dGVybiwgb3IgdG8gdGhlIGVuZCBvZiB0aGUgVVJMIGlmXG4gKiAgICAgICAgICAgICAgICAgIHRoZXJlIGlzIG5vbmVcbiAqIC0gKiogICAgICAgICAgICAgQ29uc3VtZXMgKGdyZWVkeSkgYWxsIGNoYXJhY3RlcnMgdXAgdG8gdGhlIG5leHQgY2hhcmFjdGVyXG4gKiAgICAgICAgICAgICAgICAgIGluIHRoZSBwYXR0ZXJuLCBvciB0byB0aGUgZW5kIG9mIHRoZSBVUkwgaWYgdGhlcmUgaXMgbm9uZVxuICpcbiAqICBUaGUgZnVuY3Rpb24gY2FsbHMgY2FsbGJhY2soZXJyb3IsIG1hdGNoZWQpIHdoZW4gZmluaXNoZWQuXG4gKiBUaGUgcmV0dXJuIHZhbHVlIGlzIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiAtIHJlbWFpbmluZ1BhdGhuYW1lXG4gKiAtIHBhcmFtTmFtZXNcbiAqIC0gcGFyYW1WYWx1ZXNcbiAqL1xuZnVuY3Rpb24gbWF0Y2hQYXR0ZXJuKHBhdHRlcm4sIHBhdGhuYW1lKSB7XG4gIC8vIEVuc3VyZSBwYXR0ZXJuIHN0YXJ0cyB3aXRoIGxlYWRpbmcgc2xhc2ggZm9yIGNvbnNpc3RlbmN5IHdpdGggcGF0aG5hbWUuXG4gIGlmIChwYXR0ZXJuLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgcGF0dGVybiA9ICcvJyArIHBhdHRlcm47XG4gIH1cblxuICB2YXIgX2NvbXBpbGVQYXR0ZXJuMiA9IGNvbXBpbGVQYXR0ZXJuKHBhdHRlcm4pO1xuXG4gIHZhciByZWdleHBTb3VyY2UgPSBfY29tcGlsZVBhdHRlcm4yLnJlZ2V4cFNvdXJjZTtcbiAgdmFyIHBhcmFtTmFtZXMgPSBfY29tcGlsZVBhdHRlcm4yLnBhcmFtTmFtZXM7XG4gIHZhciB0b2tlbnMgPSBfY29tcGlsZVBhdHRlcm4yLnRva2VucztcblxuXG4gIGlmIChwYXR0ZXJuLmNoYXJBdChwYXR0ZXJuLmxlbmd0aCAtIDEpICE9PSAnLycpIHtcbiAgICByZWdleHBTb3VyY2UgKz0gJy8/JzsgLy8gQWxsb3cgb3B0aW9uYWwgcGF0aCBzZXBhcmF0b3IgYXQgZW5kLlxuICB9XG5cbiAgLy8gU3BlY2lhbC1jYXNlIHBhdHRlcm5zIGxpa2UgJyonIGZvciBjYXRjaC1hbGwgcm91dGVzLlxuICBpZiAodG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXSA9PT0gJyonKSB7XG4gICAgcmVnZXhwU291cmNlICs9ICckJztcbiAgfVxuXG4gIHZhciBtYXRjaCA9IHBhdGhuYW1lLm1hdGNoKG5ldyBSZWdFeHAoJ14nICsgcmVnZXhwU291cmNlLCAnaScpKTtcbiAgaWYgKG1hdGNoID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBtYXRjaGVkUGF0aCA9IG1hdGNoWzBdO1xuICB2YXIgcmVtYWluaW5nUGF0aG5hbWUgPSBwYXRobmFtZS5zdWJzdHIobWF0Y2hlZFBhdGgubGVuZ3RoKTtcblxuICBpZiAocmVtYWluaW5nUGF0aG5hbWUpIHtcbiAgICAvLyBSZXF1aXJlIHRoYXQgdGhlIG1hdGNoIGVuZHMgYXQgYSBwYXRoIHNlcGFyYXRvciwgaWYgd2UgZGlkbid0IG1hdGNoXG4gICAgLy8gdGhlIGZ1bGwgcGF0aCwgc28gYW55IHJlbWFpbmluZyBwYXRobmFtZSBpcyBhIG5ldyBwYXRoIHNlZ21lbnQuXG4gICAgaWYgKG1hdGNoZWRQYXRoLmNoYXJBdChtYXRjaGVkUGF0aC5sZW5ndGggLSAxKSAhPT0gJy8nKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGVyZSBpcyBhIHJlbWFpbmluZyBwYXRobmFtZSwgdHJlYXQgdGhlIHBhdGggc2VwYXJhdG9yIGFzIHBhcnQgb2ZcbiAgICAvLyB0aGUgcmVtYWluaW5nIHBhdGhuYW1lIGZvciBwcm9wZXJseSBjb250aW51aW5nIHRoZSBtYXRjaC5cbiAgICByZW1haW5pbmdQYXRobmFtZSA9ICcvJyArIHJlbWFpbmluZ1BhdGhuYW1lO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByZW1haW5pbmdQYXRobmFtZTogcmVtYWluaW5nUGF0aG5hbWUsXG4gICAgcGFyYW1OYW1lczogcGFyYW1OYW1lcyxcbiAgICBwYXJhbVZhbHVlczogbWF0Y2guc2xpY2UoMSkubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICByZXR1cm4gdiAmJiBkZWNvZGVVUklDb21wb25lbnQodik7XG4gICAgfSlcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyYW1OYW1lcyhwYXR0ZXJuKSB7XG4gIHJldHVybiBjb21waWxlUGF0dGVybihwYXR0ZXJuKS5wYXJhbU5hbWVzO1xufVxuXG5mdW5jdGlvbiBnZXRQYXJhbXMocGF0dGVybiwgcGF0aG5hbWUpIHtcbiAgdmFyIG1hdGNoID0gbWF0Y2hQYXR0ZXJuKHBhdHRlcm4sIHBhdGhuYW1lKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHBhcmFtTmFtZXMgPSBtYXRjaC5wYXJhbU5hbWVzO1xuICB2YXIgcGFyYW1WYWx1ZXMgPSBtYXRjaC5wYXJhbVZhbHVlcztcblxuICB2YXIgcGFyYW1zID0ge307XG5cbiAgcGFyYW1OYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbU5hbWUsIGluZGV4KSB7XG4gICAgcGFyYW1zW3BhcmFtTmFtZV0gPSBwYXJhbVZhbHVlc1tpbmRleF07XG4gIH0pO1xuXG4gIHJldHVybiBwYXJhbXM7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHZlcnNpb24gb2YgdGhlIGdpdmVuIHBhdHRlcm4gd2l0aCBwYXJhbXMgaW50ZXJwb2xhdGVkLiBUaHJvd3NcbiAqIGlmIHRoZXJlIGlzIGEgZHluYW1pYyBzZWdtZW50IG9mIHRoZSBwYXR0ZXJuIGZvciB3aGljaCB0aGVyZSBpcyBubyBwYXJhbS5cbiAqL1xuZnVuY3Rpb24gZm9ybWF0UGF0dGVybihwYXR0ZXJuLCBwYXJhbXMpIHtcbiAgcGFyYW1zID0gcGFyYW1zIHx8IHt9O1xuXG4gIHZhciBfY29tcGlsZVBhdHRlcm4zID0gY29tcGlsZVBhdHRlcm4ocGF0dGVybik7XG5cbiAgdmFyIHRva2VucyA9IF9jb21waWxlUGF0dGVybjMudG9rZW5zO1xuXG4gIHZhciBwYXJlbkNvdW50ID0gMCxcbiAgICAgIHBhdGhuYW1lID0gJycsXG4gICAgICBzcGxhdEluZGV4ID0gMDtcblxuICB2YXIgdG9rZW4gPSB2b2lkIDAsXG4gICAgICBwYXJhbU5hbWUgPSB2b2lkIDAsXG4gICAgICBwYXJhbVZhbHVlID0gdm9pZCAwO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gdG9rZW5zLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgdG9rZW4gPSB0b2tlbnNbaV07XG5cbiAgICBpZiAodG9rZW4gPT09ICcqJyB8fCB0b2tlbiA9PT0gJyoqJykge1xuICAgICAgcGFyYW1WYWx1ZSA9IEFycmF5LmlzQXJyYXkocGFyYW1zLnNwbGF0KSA/IHBhcmFtcy5zcGxhdFtzcGxhdEluZGV4KytdIDogcGFyYW1zLnNwbGF0O1xuXG4gICAgICAhKHBhcmFtVmFsdWUgIT0gbnVsbCB8fCBwYXJlbkNvdW50ID4gMCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlLCAnTWlzc2luZyBzcGxhdCAjJXMgZm9yIHBhdGggXCIlc1wiJywgc3BsYXRJbmRleCwgcGF0dGVybikgOiAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UpIDogdm9pZCAwO1xuXG4gICAgICBpZiAocGFyYW1WYWx1ZSAhPSBudWxsKSBwYXRobmFtZSArPSBlbmNvZGVVUkkocGFyYW1WYWx1ZSk7XG4gICAgfSBlbHNlIGlmICh0b2tlbiA9PT0gJygnKSB7XG4gICAgICBwYXJlbkNvdW50ICs9IDE7XG4gICAgfSBlbHNlIGlmICh0b2tlbiA9PT0gJyknKSB7XG4gICAgICBwYXJlbkNvdW50IC09IDE7XG4gICAgfSBlbHNlIGlmICh0b2tlbi5jaGFyQXQoMCkgPT09ICc6Jykge1xuICAgICAgcGFyYW1OYW1lID0gdG9rZW4uc3Vic3RyaW5nKDEpO1xuICAgICAgcGFyYW1WYWx1ZSA9IHBhcmFtc1twYXJhbU5hbWVdO1xuXG4gICAgICAhKHBhcmFtVmFsdWUgIT0gbnVsbCB8fCBwYXJlbkNvdW50ID4gMCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlLCAnTWlzc2luZyBcIiVzXCIgcGFyYW1ldGVyIGZvciBwYXRoIFwiJXNcIicsIHBhcmFtTmFtZSwgcGF0dGVybikgOiAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UpIDogdm9pZCAwO1xuXG4gICAgICBpZiAocGFyYW1WYWx1ZSAhPSBudWxsKSBwYXRobmFtZSArPSBlbmNvZGVVUklDb21wb25lbnQocGFyYW1WYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhdGhuYW1lICs9IHRva2VuO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXRobmFtZS5yZXBsYWNlKC9cXC8rL2csICcvJyk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvUGF0dGVyblV0aWxzLmpzXG4vLyBtb2R1bGUgaWQgPSAxNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG52YXIgY2FuVXNlRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbmV4cG9ydHMuY2FuVXNlRE9NID0gY2FuVXNlRE9NO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9oaXN0b3J5L2xpYi9FeGVjdXRpb25FbnZpcm9ubWVudC5qc1xuLy8gbW9kdWxlIGlkID0gMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG52YXIgX3F1ZXJ5U3RyaW5nID0gcmVxdWlyZSgncXVlcnktc3RyaW5nJyk7XG5cbnZhciBfcnVuVHJhbnNpdGlvbkhvb2sgPSByZXF1aXJlKCcuL3J1blRyYW5zaXRpb25Ib29rJyk7XG5cbnZhciBfcnVuVHJhbnNpdGlvbkhvb2syID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcnVuVHJhbnNpdGlvbkhvb2spO1xuXG52YXIgX1BhdGhVdGlscyA9IHJlcXVpcmUoJy4vUGF0aFV0aWxzJyk7XG5cbnZhciBfZGVwcmVjYXRlID0gcmVxdWlyZSgnLi9kZXByZWNhdGUnKTtcblxudmFyIF9kZXByZWNhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVwcmVjYXRlKTtcblxudmFyIFNFQVJDSF9CQVNFX0tFWSA9ICckc2VhcmNoQmFzZSc7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTdHJpbmdpZnlRdWVyeShxdWVyeSkge1xuICByZXR1cm4gX3F1ZXJ5U3RyaW5nLnN0cmluZ2lmeShxdWVyeSkucmVwbGFjZSgvJTIwL2csICcrJyk7XG59XG5cbnZhciBkZWZhdWx0UGFyc2VRdWVyeVN0cmluZyA9IF9xdWVyeVN0cmluZy5wYXJzZTtcblxuZnVuY3Rpb24gaXNOZXN0ZWRPYmplY3Qob2JqZWN0KSB7XG4gIGZvciAodmFyIHAgaW4gb2JqZWN0KSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHApICYmIHR5cGVvZiBvYmplY3RbcF0gPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KG9iamVjdFtwXSkgJiYgb2JqZWN0W3BdICE9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgfXJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgbmV3IGNyZWF0ZUhpc3RvcnkgZnVuY3Rpb24gdGhhdCBtYXkgYmUgdXNlZCB0byBjcmVhdGVcbiAqIGhpc3Rvcnkgb2JqZWN0cyB0aGF0IGtub3cgaG93IHRvIGhhbmRsZSBVUkwgcXVlcmllcy5cbiAqL1xuZnVuY3Rpb24gdXNlUXVlcmllcyhjcmVhdGVIaXN0b3J5KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblxuICAgIHZhciBoaXN0b3J5ID0gY3JlYXRlSGlzdG9yeShvcHRpb25zKTtcblxuICAgIHZhciBzdHJpbmdpZnlRdWVyeSA9IG9wdGlvbnMuc3RyaW5naWZ5UXVlcnk7XG4gICAgdmFyIHBhcnNlUXVlcnlTdHJpbmcgPSBvcHRpb25zLnBhcnNlUXVlcnlTdHJpbmc7XG5cbiAgICBpZiAodHlwZW9mIHN0cmluZ2lmeVF1ZXJ5ICE9PSAnZnVuY3Rpb24nKSBzdHJpbmdpZnlRdWVyeSA9IGRlZmF1bHRTdHJpbmdpZnlRdWVyeTtcblxuICAgIGlmICh0eXBlb2YgcGFyc2VRdWVyeVN0cmluZyAhPT0gJ2Z1bmN0aW9uJykgcGFyc2VRdWVyeVN0cmluZyA9IGRlZmF1bHRQYXJzZVF1ZXJ5U3RyaW5nO1xuXG4gICAgZnVuY3Rpb24gYWRkUXVlcnkobG9jYXRpb24pIHtcbiAgICAgIGlmIChsb2NhdGlvbi5xdWVyeSA9PSBudWxsKSB7XG4gICAgICAgIHZhciBzZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2g7XG5cbiAgICAgICAgbG9jYXRpb24ucXVlcnkgPSBwYXJzZVF1ZXJ5U3RyaW5nKHNlYXJjaC5zdWJzdHJpbmcoMSkpO1xuICAgICAgICBsb2NhdGlvbltTRUFSQ0hfQkFTRV9LRVldID0geyBzZWFyY2g6IHNlYXJjaCwgc2VhcmNoQmFzZTogJycgfTtcbiAgICAgIH1cblxuICAgICAgLy8gVE9ETzogSW5zdGVhZCBvZiBhbGwgdGhlIGJvb2sta2VlcGluZyBoZXJlLCB0aGlzIHNob3VsZCBqdXN0IHN0cmlwIHRoZVxuICAgICAgLy8gc3RyaW5naWZpZWQgcXVlcnkgZnJvbSB0aGUgc2VhcmNoLlxuXG4gICAgICByZXR1cm4gbG9jYXRpb247XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXBwZW5kUXVlcnkobG9jYXRpb24sIHF1ZXJ5KSB7XG4gICAgICB2YXIgX2V4dGVuZHMyO1xuXG4gICAgICB2YXIgc2VhcmNoQmFzZVNwZWMgPSBsb2NhdGlvbltTRUFSQ0hfQkFTRV9LRVldO1xuICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gcXVlcnkgPyBzdHJpbmdpZnlRdWVyeShxdWVyeSkgOiAnJztcbiAgICAgIGlmICghc2VhcmNoQmFzZVNwZWMgJiYgIXF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBsb2NhdGlvbjtcbiAgICAgIH1cblxuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKHN0cmluZ2lmeVF1ZXJ5ICE9PSBkZWZhdWx0U3RyaW5naWZ5UXVlcnkgfHwgIWlzTmVzdGVkT2JqZWN0KHF1ZXJ5KSwgJ3VzZVF1ZXJpZXMgZG9lcyBub3Qgc3RyaW5naWZ5IG5lc3RlZCBxdWVyeSBvYmplY3RzIGJ5IGRlZmF1bHQ7ICcgKyAndXNlIGEgY3VzdG9tIHN0cmluZ2lmeVF1ZXJ5IGZ1bmN0aW9uJykgOiB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh0eXBlb2YgbG9jYXRpb24gPT09ICdzdHJpbmcnKSBsb2NhdGlvbiA9IF9QYXRoVXRpbHMucGFyc2VQYXRoKGxvY2F0aW9uKTtcblxuICAgICAgdmFyIHNlYXJjaEJhc2UgPSB1bmRlZmluZWQ7XG4gICAgICBpZiAoc2VhcmNoQmFzZVNwZWMgJiYgbG9jYXRpb24uc2VhcmNoID09PSBzZWFyY2hCYXNlU3BlYy5zZWFyY2gpIHtcbiAgICAgICAgc2VhcmNoQmFzZSA9IHNlYXJjaEJhc2VTcGVjLnNlYXJjaEJhc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWFyY2hCYXNlID0gbG9jYXRpb24uc2VhcmNoIHx8ICcnO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2VhcmNoID0gc2VhcmNoQmFzZTtcbiAgICAgIGlmIChxdWVyeVN0cmluZykge1xuICAgICAgICBzZWFyY2ggKz0gKHNlYXJjaCA/ICcmJyA6ICc/JykgKyBxdWVyeVN0cmluZztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBsb2NhdGlvbiwgKF9leHRlbmRzMiA9IHtcbiAgICAgICAgc2VhcmNoOiBzZWFyY2hcbiAgICAgIH0sIF9leHRlbmRzMltTRUFSQ0hfQkFTRV9LRVldID0geyBzZWFyY2g6IHNlYXJjaCwgc2VhcmNoQmFzZTogc2VhcmNoQmFzZSB9LCBfZXh0ZW5kczIpKTtcbiAgICB9XG5cbiAgICAvLyBPdmVycmlkZSBhbGwgcmVhZCBtZXRob2RzIHdpdGggcXVlcnktYXdhcmUgdmVyc2lvbnMuXG4gICAgZnVuY3Rpb24gbGlzdGVuQmVmb3JlKGhvb2spIHtcbiAgICAgIHJldHVybiBoaXN0b3J5Lmxpc3RlbkJlZm9yZShmdW5jdGlvbiAobG9jYXRpb24sIGNhbGxiYWNrKSB7XG4gICAgICAgIF9ydW5UcmFuc2l0aW9uSG9vazJbJ2RlZmF1bHQnXShob29rLCBhZGRRdWVyeShsb2NhdGlvbiksIGNhbGxiYWNrKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIGhpc3RvcnkubGlzdGVuKGZ1bmN0aW9uIChsb2NhdGlvbikge1xuICAgICAgICBsaXN0ZW5lcihhZGRRdWVyeShsb2NhdGlvbikpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gT3ZlcnJpZGUgYWxsIHdyaXRlIG1ldGhvZHMgd2l0aCBxdWVyeS1hd2FyZSB2ZXJzaW9ucy5cbiAgICBmdW5jdGlvbiBwdXNoKGxvY2F0aW9uKSB7XG4gICAgICBoaXN0b3J5LnB1c2goYXBwZW5kUXVlcnkobG9jYXRpb24sIGxvY2F0aW9uLnF1ZXJ5KSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVwbGFjZShsb2NhdGlvbikge1xuICAgICAgaGlzdG9yeS5yZXBsYWNlKGFwcGVuZFF1ZXJ5KGxvY2F0aW9uLCBsb2NhdGlvbi5xdWVyeSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVBhdGgobG9jYXRpb24sIHF1ZXJ5KSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10oIXF1ZXJ5LCAndGhlIHF1ZXJ5IGFyZ3VtZW50IHRvIGNyZWF0ZVBhdGggaXMgZGVwcmVjYXRlZDsgdXNlIGEgbG9jYXRpb24gZGVzY3JpcHRvciBpbnN0ZWFkJykgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHJldHVybiBoaXN0b3J5LmNyZWF0ZVBhdGgoYXBwZW5kUXVlcnkobG9jYXRpb24sIHF1ZXJ5IHx8IGxvY2F0aW9uLnF1ZXJ5KSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlSHJlZihsb2NhdGlvbiwgcXVlcnkpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXSghcXVlcnksICd0aGUgcXVlcnkgYXJndW1lbnQgdG8gY3JlYXRlSHJlZiBpcyBkZXByZWNhdGVkOyB1c2UgYSBsb2NhdGlvbiBkZXNjcmlwdG9yIGluc3RlYWQnKSA6IHVuZGVmaW5lZDtcblxuICAgICAgcmV0dXJuIGhpc3RvcnkuY3JlYXRlSHJlZihhcHBlbmRRdWVyeShsb2NhdGlvbiwgcXVlcnkgfHwgbG9jYXRpb24ucXVlcnkpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVMb2NhdGlvbihsb2NhdGlvbikge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICB2YXIgZnVsbExvY2F0aW9uID0gaGlzdG9yeS5jcmVhdGVMb2NhdGlvbi5hcHBseShoaXN0b3J5LCBbYXBwZW5kUXVlcnkobG9jYXRpb24sIGxvY2F0aW9uLnF1ZXJ5KV0uY29uY2F0KGFyZ3MpKTtcbiAgICAgIGlmIChsb2NhdGlvbi5xdWVyeSkge1xuICAgICAgICBmdWxsTG9jYXRpb24ucXVlcnkgPSBsb2NhdGlvbi5xdWVyeTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhZGRRdWVyeShmdWxsTG9jYXRpb24pO1xuICAgIH1cblxuICAgIC8vIGRlcHJlY2F0ZWRcbiAgICBmdW5jdGlvbiBwdXNoU3RhdGUoc3RhdGUsIHBhdGgsIHF1ZXJ5KSB7XG4gICAgICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSBwYXRoID0gX1BhdGhVdGlscy5wYXJzZVBhdGgocGF0aCk7XG5cbiAgICAgIHB1c2goX2V4dGVuZHMoeyBzdGF0ZTogc3RhdGUgfSwgcGF0aCwgeyBxdWVyeTogcXVlcnkgfSkpO1xuICAgIH1cblxuICAgIC8vIGRlcHJlY2F0ZWRcbiAgICBmdW5jdGlvbiByZXBsYWNlU3RhdGUoc3RhdGUsIHBhdGgsIHF1ZXJ5KSB7XG4gICAgICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSBwYXRoID0gX1BhdGhVdGlscy5wYXJzZVBhdGgocGF0aCk7XG5cbiAgICAgIHJlcGxhY2UoX2V4dGVuZHMoeyBzdGF0ZTogc3RhdGUgfSwgcGF0aCwgeyBxdWVyeTogcXVlcnkgfSkpO1xuICAgIH1cblxuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgaGlzdG9yeSwge1xuICAgICAgbGlzdGVuQmVmb3JlOiBsaXN0ZW5CZWZvcmUsXG4gICAgICBsaXN0ZW46IGxpc3RlbixcbiAgICAgIHB1c2g6IHB1c2gsXG4gICAgICByZXBsYWNlOiByZXBsYWNlLFxuICAgICAgY3JlYXRlUGF0aDogY3JlYXRlUGF0aCxcbiAgICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYsXG4gICAgICBjcmVhdGVMb2NhdGlvbjogY3JlYXRlTG9jYXRpb24sXG5cbiAgICAgIHB1c2hTdGF0ZTogX2RlcHJlY2F0ZTJbJ2RlZmF1bHQnXShwdXNoU3RhdGUsICdwdXNoU3RhdGUgaXMgZGVwcmVjYXRlZDsgdXNlIHB1c2ggaW5zdGVhZCcpLFxuICAgICAgcmVwbGFjZVN0YXRlOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHJlcGxhY2VTdGF0ZSwgJ3JlcGxhY2VTdGF0ZSBpcyBkZXByZWNhdGVkOyB1c2UgcmVwbGFjZSBpbnN0ZWFkJylcbiAgICB9KTtcbiAgfTtcbn1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gdXNlUXVlcmllcztcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9oaXN0b3J5L2xpYi91c2VRdWVyaWVzLmpzXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKHJlcXVpcmUoXCJyZWFjdFwiKSxyZXF1aXJlKFwicmVkdXhcIikpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wicmVhY3RcIixcInJlZHV4XCJdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuUmVhY3RSZWR1eD1lKHJlcXVpcmUoXCJyZWFjdFwiKSxyZXF1aXJlKFwicmVkdXhcIikpOnQuUmVhY3RSZWR1eD1lKHQuUmVhY3QsdC5SZWR1eCl9KHRoaXMsZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyKXtpZihuW3JdKXJldHVybiBuW3JdLmV4cG9ydHM7dmFyIG89bltyXT17ZXhwb3J0czp7fSxpZDpyLGxvYWRlZDohMX07cmV0dXJuIHRbcl0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsZSksby5sb2FkZWQ9ITAsby5leHBvcnRzfXZhciBuPXt9O3JldHVybiBlLm09dCxlLmM9bixlLnA9XCJcIixlKDApfShbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWUuX19lc01vZHVsZT0hMCxlLmNvbm5lY3Q9ZS5jb25uZWN0QWR2YW5jZWQ9ZS5Qcm92aWRlcj12b2lkIDA7dmFyIG89big5KSxpPXIobykscz1uKDMpLHU9cihzKSxhPW4oMTApLHA9cihhKTtlLlByb3ZpZGVyPWkuZGVmYXVsdCxlLmNvbm5lY3RBZHZhbmNlZD11LmRlZmF1bHQsZS5jb25uZWN0PXAuZGVmYXVsdH0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBjb25zb2xlLmVycm9yJiZjb25zb2xlLmVycm9yKHQpO3RyeXt0aHJvdyBFcnJvcih0KX1jYXRjaCh0KXt9fWUuX19lc01vZHVsZT0hMCxlLmRlZmF1bHQ9bn0sZnVuY3Rpb24oZSxuKXtlLmV4cG9ydHM9dH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIG8odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGkodCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ZnVuY3Rpb24gdSh0LGUpe3ZhciBuPXt9O2Zvcih2YXIgciBpbiB0KWUuaW5kZXhPZihyKTwwJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKG5bcl09dFtyXSk7cmV0dXJuIG59ZnVuY3Rpb24gYSh0KXt2YXIgZSxuLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LGE9ci5nZXREaXNwbGF5TmFtZSxjPXZvaWQgMD09PWE/ZnVuY3Rpb24odCl7cmV0dXJuXCJDb25uZWN0QWR2YW5jZWQoXCIrdCtcIilcIn06YSxkPXIubWV0aG9kTmFtZSx2PXZvaWQgMD09PWQ/XCJjb25uZWN0QWR2YW5jZWRcIjpkLGI9ci5yZW5kZXJDb3VudFByb3AsTz12b2lkIDA9PT1iP3ZvaWQgMDpiLHc9ci5zaG91bGRIYW5kbGVTdGF0ZUNoYW5nZXMsZz12b2lkIDA9PT13fHx3LFM9ci5zdG9yZUtleSxUPXZvaWQgMD09PVM/XCJzdG9yZVwiOlMsTT1yLndpdGhSZWYsXz12b2lkIDAhPT1NJiZNLHg9dShyLFtcImdldERpc3BsYXlOYW1lXCIsXCJtZXRob2ROYW1lXCIsXCJyZW5kZXJDb3VudFByb3BcIixcInNob3VsZEhhbmRsZVN0YXRlQ2hhbmdlc1wiLFwic3RvcmVLZXlcIixcIndpdGhSZWZcIl0pLEM9VCtcIlN1YnNjcmlwdGlvblwiLGo9bSsrLEU9KGU9e30sZVtUXT1QLmRlZmF1bHQsZVtDXT1oLlByb3BUeXBlcy5pbnN0YW5jZU9mKHkuZGVmYXVsdCksZSkscT0obj17fSxuW0NdPWguUHJvcFR5cGVzLmluc3RhbmNlT2YoeS5kZWZhdWx0KSxuKTtyZXR1cm4gZnVuY3Rpb24oZSl7KDAsbC5kZWZhdWx0KShcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLFwiWW91IG11c3QgcGFzcyBhIGNvbXBvbmVudCB0byB0aGUgZnVuY3Rpb24gcmV0dXJuZWQgYnkgY29ubmVjdC4gSW5zdGVhZCByZWNlaXZlZCBcIitlKTt2YXIgbj1lLmRpc3BsYXlOYW1lfHxlLm5hbWV8fFwiQ29tcG9uZW50XCIscj1jKG4pLHU9cCh7fSx4LHtnZXREaXNwbGF5TmFtZTpjLG1ldGhvZE5hbWU6dixyZW5kZXJDb3VudFByb3A6TyxzaG91bGRIYW5kbGVTdGF0ZUNoYW5nZXM6ZyxzdG9yZUtleTpULHdpdGhSZWY6XyxkaXNwbGF5TmFtZTpyLHdyYXBwZWRDb21wb25lbnROYW1lOm4sV3JhcHBlZENvbXBvbmVudDplfSksYT1mdW5jdGlvbihuKXtmdW5jdGlvbiBhKHQsZSl7byh0aGlzLGEpO3ZhciBzPWkodGhpcyxuLmNhbGwodGhpcyx0LGUpKTtyZXR1cm4gcy52ZXJzaW9uPWoscy5zdGF0ZT17fSxzLnJlbmRlckNvdW50PTAscy5zdG9yZT1zLnByb3BzW1RdfHxzLmNvbnRleHRbVF0scy5wYXJlbnRTdWI9dFtDXXx8ZVtDXSxzLnNldFdyYXBwZWRJbnN0YW5jZT1zLnNldFdyYXBwZWRJbnN0YW5jZS5iaW5kKHMpLCgwLGwuZGVmYXVsdCkocy5zdG9yZSwnQ291bGQgbm90IGZpbmQgXCInK1QrJ1wiIGluIGVpdGhlciB0aGUgY29udGV4dCBvciAnKygncHJvcHMgb2YgXCInK3IrJ1wiLiAnKStcIkVpdGhlciB3cmFwIHRoZSByb290IGNvbXBvbmVudCBpbiBhIDxQcm92aWRlcj4sIFwiKygnb3IgZXhwbGljaXRseSBwYXNzIFwiJytUKydcIiBhcyBhIHByb3AgdG8gXCInK3IrJ1wiLicpKSxzLmdldFN0YXRlPXMuc3RvcmUuZ2V0U3RhdGUuYmluZChzLnN0b3JlKSxzLmluaXRTZWxlY3RvcigpLHMuaW5pdFN1YnNjcmlwdGlvbigpLHN9cmV0dXJuIHMoYSxuKSxhLnByb3RvdHlwZS5nZXRDaGlsZENvbnRleHQ9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gdD17fSx0W0NdPXRoaXMuc3Vic2NyaXB0aW9ufHx0aGlzLnBhcmVudFN1Yix0fSxhLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudD1mdW5jdGlvbigpe2cmJih0aGlzLnN1YnNjcmlwdGlvbi50cnlTdWJzY3JpYmUoKSx0aGlzLnNlbGVjdG9yLnJ1bih0aGlzLnByb3BzKSx0aGlzLnNlbGVjdG9yLnNob3VsZENvbXBvbmVudFVwZGF0ZSYmdGhpcy5mb3JjZVVwZGF0ZSgpKX0sYS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcz1mdW5jdGlvbih0KXt0aGlzLnNlbGVjdG9yLnJ1bih0KX0sYS5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0b3Iuc2hvdWxkQ29tcG9uZW50VXBkYXRlfSxhLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudD1mdW5jdGlvbigpe3RoaXMuc3Vic2NyaXB0aW9uJiZ0aGlzLnN1YnNjcmlwdGlvbi50cnlVbnN1YnNjcmliZSgpLHRoaXMuc3Vic2NyaXB0aW9uPW51bGwsdGhpcy5zdG9yZT1udWxsLHRoaXMucGFyZW50U3ViPW51bGwsdGhpcy5zZWxlY3Rvci5ydW49ZnVuY3Rpb24oKXt9fSxhLnByb3RvdHlwZS5nZXRXcmFwcGVkSW5zdGFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4oMCxsLmRlZmF1bHQpKF8sXCJUbyBhY2Nlc3MgdGhlIHdyYXBwZWQgaW5zdGFuY2UsIHlvdSBuZWVkIHRvIHNwZWNpZnkgXCIrKFwieyB3aXRoUmVmOiB0cnVlIH0gaW4gdGhlIG9wdGlvbnMgYXJndW1lbnQgb2YgdGhlIFwiK3YrXCIoKSBjYWxsLlwiKSksdGhpcy53cmFwcGVkSW5zdGFuY2V9LGEucHJvdG90eXBlLnNldFdyYXBwZWRJbnN0YW5jZT1mdW5jdGlvbih0KXt0aGlzLndyYXBwZWRJbnN0YW5jZT10fSxhLnByb3RvdHlwZS5pbml0U2VsZWN0b3I9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN0b3JlLmRpc3BhdGNoLG49dGhpcy5nZXRTdGF0ZSxyPXQoZSx1KSxvPXRoaXMuc2VsZWN0b3I9e3Nob3VsZENvbXBvbmVudFVwZGF0ZTohMCxwcm9wczpyKG4oKSx0aGlzLnByb3BzKSxydW46ZnVuY3Rpb24odCl7dHJ5e3ZhciBlPXIobigpLHQpOyhvLmVycm9yfHxlIT09by5wcm9wcykmJihvLnNob3VsZENvbXBvbmVudFVwZGF0ZT0hMCxvLnByb3BzPWUsby5lcnJvcj1udWxsKX1jYXRjaCh0KXtvLnNob3VsZENvbXBvbmVudFVwZGF0ZT0hMCxvLmVycm9yPXR9fX19LGEucHJvdG90eXBlLmluaXRTdWJzY3JpcHRpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2cmJiFmdW5jdGlvbigpe3ZhciBlPXQuc3Vic2NyaXB0aW9uPW5ldyB5LmRlZmF1bHQodC5zdG9yZSx0LnBhcmVudFN1Yiksbj17fTtlLm9uU3RhdGVDaGFuZ2U9ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdG9yLnJ1bih0aGlzLnByb3BzKSx0aGlzLnNlbGVjdG9yLnNob3VsZENvbXBvbmVudFVwZGF0ZT8odGhpcy5jb21wb25lbnREaWRVcGRhdGU9ZnVuY3Rpb24oKXt0aGlzLmNvbXBvbmVudERpZFVwZGF0ZT12b2lkIDAsZS5ub3RpZnlOZXN0ZWRTdWJzKCl9LHRoaXMuc2V0U3RhdGUobikpOmUubm90aWZ5TmVzdGVkU3VicygpfS5iaW5kKHQpfSgpfSxhLnByb3RvdHlwZS5pc1N1YnNjcmliZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuc3Vic2NyaXB0aW9uJiZ0aGlzLnN1YnNjcmlwdGlvbi5pc1N1YnNjcmliZWQoKX0sYS5wcm90b3R5cGUuYWRkRXh0cmFQcm9wcz1mdW5jdGlvbih0KXtpZighXyYmIU8pcmV0dXJuIHQ7dmFyIGU9cCh7fSx0KTtyZXR1cm4gXyYmKGUucmVmPXRoaXMuc2V0V3JhcHBlZEluc3RhbmNlKSxPJiYoZVtPXT10aGlzLnJlbmRlckNvdW50KyspLGV9LGEucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuc2VsZWN0b3I7aWYodC5zaG91bGRDb21wb25lbnRVcGRhdGU9ITEsdC5lcnJvcil0aHJvdyB0LmVycm9yO3JldHVybigwLGguY3JlYXRlRWxlbWVudCkoZSx0aGlzLmFkZEV4dHJhUHJvcHModC5wcm9wcykpfSxhfShoLkNvbXBvbmVudCk7cmV0dXJuIGEuV3JhcHBlZENvbXBvbmVudD1lLGEuZGlzcGxheU5hbWU9cixhLmNoaWxkQ29udGV4dFR5cGVzPXEsYS5jb250ZXh0VHlwZXM9RSxhLnByb3BUeXBlcz1FLCgwLGYuZGVmYXVsdCkoYSxlKX19ZS5fX2VzTW9kdWxlPSEwO3ZhciBwPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2FyZ3VtZW50cy5sZW5ndGg+ZTtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKHRbcl09bltyXSl9cmV0dXJuIHR9O2UuZGVmYXVsdD1hO3ZhciBjPW4oMTcpLGY9cihjKSxkPW4oMTgpLGw9cihkKSxoPW4oMiksdj1uKDUpLHk9cih2KSxiPW4oNiksUD1yKGIpLG09MH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIG8odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gcigpe3JldHVybiBvfXZhciBvPXQoZSxuKTtyZXR1cm4gci5kZXBlbmRzT25Pd25Qcm9wcz0hMSxyfX1mdW5jdGlvbiBpKHQpe3JldHVybiBudWxsIT09dC5kZXBlbmRzT25Pd25Qcm9wcyYmdm9pZCAwIT09dC5kZXBlbmRzT25Pd25Qcm9wcz8hIXQuZGVwZW5kc09uT3duUHJvcHM6MSE9PXQubGVuZ3RofWZ1bmN0aW9uIHModCxlKXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgcj1mdW5jdGlvbih0LGUpe3JldHVybiByLmRlcGVuZHNPbk93blByb3BzP3IubWFwVG9Qcm9wcyh0LGUpOnIubWFwVG9Qcm9wcyh0KX07cmV0dXJuIHIuZGVwZW5kc09uT3duUHJvcHM9aSh0KSxyLm1hcFRvUHJvcHM9ZnVuY3Rpb24oZSxuKXtyLm1hcFRvUHJvcHM9dDt2YXIgbz1yKGUsbik7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgbyYmKHIubWFwVG9Qcm9wcz1vLHIuZGVwZW5kc09uT3duUHJvcHM9aShvKSxvPXIoZSxuKSksb30scn19ZS5fX2VzTW9kdWxlPSEwLGUud3JhcE1hcFRvUHJvcHNDb25zdGFudD1vLGUuZ2V0RGVwZW5kc09uT3duUHJvcHM9aSxlLndyYXBNYXBUb1Byb3BzRnVuYz1zO3ZhciB1PW4oNyk7cih1KX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiByKCl7dmFyIHQ9W10sZT1bXTtyZXR1cm57Y2xlYXI6ZnVuY3Rpb24oKXtlPW8sdD1vfSxub3RpZnk6ZnVuY3Rpb24oKXtmb3IodmFyIG49dD1lLHI9MDtuLmxlbmd0aD5yO3IrKyluW3JdKCl9LHN1YnNjcmliZTpmdW5jdGlvbihuKXt2YXIgcj0hMDtyZXR1cm4gZT09PXQmJihlPXQuc2xpY2UoKSksZS5wdXNoKG4pLGZ1bmN0aW9uKCl7ciYmdCE9PW8mJihyPSExLGU9PT10JiYoZT10LnNsaWNlKCkpLGUuc3BsaWNlKGUuaW5kZXhPZihuKSwxKSl9fX19ZS5fX2VzTW9kdWxlPSEwO3ZhciBvPW51bGwsaT17bm90aWZ5OmZ1bmN0aW9uKCl7fX0scz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxyKXtuKHRoaXMsdCksdGhpcy5zdG9yZT1lLHRoaXMucGFyZW50U3ViPXIsdGhpcy51bnN1YnNjcmliZT1udWxsLHRoaXMubGlzdGVuZXJzPWl9cmV0dXJuIHQucHJvdG90eXBlLmFkZE5lc3RlZFN1Yj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50cnlTdWJzY3JpYmUoKSx0aGlzLmxpc3RlbmVycy5zdWJzY3JpYmUodCl9LHQucHJvdG90eXBlLm5vdGlmeU5lc3RlZFN1YnM9ZnVuY3Rpb24oKXt0aGlzLmxpc3RlbmVycy5ub3RpZnkoKX0sdC5wcm90b3R5cGUuaXNTdWJzY3JpYmVkPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLnVuc3Vic2NyaWJlfSx0LnByb3RvdHlwZS50cnlTdWJzY3JpYmU9ZnVuY3Rpb24oKXt0aGlzLnVuc3Vic2NyaWJlfHwodGhpcy51bnN1YnNjcmliZT10aGlzLnBhcmVudFN1Yj90aGlzLnBhcmVudFN1Yi5hZGROZXN0ZWRTdWIodGhpcy5vblN0YXRlQ2hhbmdlKTp0aGlzLnN0b3JlLnN1YnNjcmliZSh0aGlzLm9uU3RhdGVDaGFuZ2UpLHRoaXMubGlzdGVuZXJzPXIoKSl9LHQucHJvdG90eXBlLnRyeVVuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7dGhpcy51bnN1YnNjcmliZSYmKHRoaXMudW5zdWJzY3JpYmUoKSx0aGlzLnVuc3Vic2NyaWJlPW51bGwsdGhpcy5saXN0ZW5lcnMuY2xlYXIoKSx0aGlzLmxpc3RlbmVycz1pKX0sdH0oKTtlLmRlZmF1bHQ9c30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuX19lc01vZHVsZT0hMDt2YXIgcj1uKDIpO2UuZGVmYXVsdD1yLlByb3BUeXBlcy5zaGFwZSh7c3Vic2NyaWJlOnIuUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxkaXNwYXRjaDpyLlByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsZ2V0U3RhdGU6ci5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBvKHQsZSxuKXsoMCxzLmRlZmF1bHQpKHQpfHwoMCxhLmRlZmF1bHQpKG4rXCIoKSBpbiBcIitlK1wiIG11c3QgcmV0dXJuIGEgcGxhaW4gb2JqZWN0LiBJbnN0ZWFkIHJlY2VpdmVkIFwiK3QrXCIuXCIpfWUuX19lc01vZHVsZT0hMCxlLmRlZmF1bHQ9bzt2YXIgaT1uKDI3KSxzPXIoaSksdT1uKDEpLGE9cih1KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjUpLG89ci5TeW1ib2w7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBvKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBpKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gcyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfWUuX19lc01vZHVsZT0hMCxlLmRlZmF1bHQ9dm9pZCAwO3ZhciB1PW4oMiksYT1uKDUpLHA9cihhKSxjPW4oNiksZj1yKGMpLGQ9bigxKSxsPShyKGQpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUobixyKXtvKHRoaXMsZSk7dmFyIHM9aSh0aGlzLHQuY2FsbCh0aGlzLG4scikpO3JldHVybiBzLnN0b3JlPW4uc3RvcmUsc31yZXR1cm4gcyhlLHQpLGUucHJvdG90eXBlLmdldENoaWxkQ29udGV4dD1mdW5jdGlvbigpe3JldHVybntzdG9yZTp0aGlzLnN0b3JlLHN0b3JlU3Vic2NyaXB0aW9uOm51bGx9fSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdS5DaGlsZHJlbi5vbmx5KHRoaXMucHJvcHMuY2hpbGRyZW4pfSxlfSh1LkNvbXBvbmVudCkpO2UuZGVmYXVsdD1sLGwucHJvcFR5cGVzPXtzdG9yZTpmLmRlZmF1bHQuaXNSZXF1aXJlZCxjaGlsZHJlbjp1LlByb3BUeXBlcy5lbGVtZW50LmlzUmVxdWlyZWR9LGwuY2hpbGRDb250ZXh0VHlwZXM9e3N0b3JlOmYuZGVmYXVsdC5pc1JlcXVpcmVkLHN0b3JlU3Vic2NyaXB0aW9uOnUuUHJvcFR5cGVzLmluc3RhbmNlT2YocC5kZWZhdWx0KX0sbC5kaXNwbGF5TmFtZT1cIlByb3ZpZGVyXCJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBvKHQsZSl7dmFyIG49e307Zm9yKHZhciByIGluIHQpZS5pbmRleE9mKHIpPDAmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYobltyXT10W3JdKTtyZXR1cm4gbn1mdW5jdGlvbiBpKHQsZSxuKXtmb3IodmFyIHI9ZS5sZW5ndGgtMTtyPj0wO3ItLSl7dmFyIG89ZVtyXSh0KTtpZihvKXJldHVybiBvfXJldHVybiBmdW5jdGlvbihlLHIpe3Rocm93IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBvZiB0eXBlIFwiK3R5cGVvZiB0K1wiIGZvciBcIituK1wiIGFyZ3VtZW50IHdoZW4gY29ubmVjdGluZyBjb21wb25lbnQgXCIrci53cmFwcGVkQ29tcG9uZW50TmFtZStcIi5cIil9fWZ1bmN0aW9uIHModCxlKXtyZXR1cm4gdD09PWV9ZnVuY3Rpb24gdSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXQuY29ubmVjdEhPQyxuPXZvaWQgMD09PWU/Yy5kZWZhdWx0OmUscj10Lm1hcFN0YXRlVG9Qcm9wc0ZhY3Rvcmllcyx1PXZvaWQgMD09PXI/eS5kZWZhdWx0OnIscD10Lm1hcERpc3BhdGNoVG9Qcm9wc0ZhY3RvcmllcyxmPXZvaWQgMD09PXA/aC5kZWZhdWx0OnAsbD10Lm1lcmdlUHJvcHNGYWN0b3JpZXMsdj12b2lkIDA9PT1sP1AuZGVmYXVsdDpsLGI9dC5zZWxlY3RvckZhY3RvcnksbT12b2lkIDA9PT1iP08uZGVmYXVsdDpiO3JldHVybiBmdW5jdGlvbih0LGUscil7dmFyIHA9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnt9LGM9cC5wdXJlLGw9dm9pZCAwPT09Y3x8YyxoPXAuYXJlU3RhdGVzRXF1YWwseT12b2lkIDA9PT1oP3M6aCxiPXAuYXJlT3duUHJvcHNFcXVhbCxQPXZvaWQgMD09PWI/ZC5kZWZhdWx0OmIsTz1wLmFyZVN0YXRlUHJvcHNFcXVhbCx3PXZvaWQgMD09PU8/ZC5kZWZhdWx0Ok8sZz1wLmFyZU1lcmdlZFByb3BzRXF1YWwsUz12b2lkIDA9PT1nP2QuZGVmYXVsdDpnLFQ9byhwLFtcInB1cmVcIixcImFyZVN0YXRlc0VxdWFsXCIsXCJhcmVPd25Qcm9wc0VxdWFsXCIsXCJhcmVTdGF0ZVByb3BzRXF1YWxcIixcImFyZU1lcmdlZFByb3BzRXF1YWxcIl0pLE09aSh0LHUsXCJtYXBTdGF0ZVRvUHJvcHNcIiksXz1pKGUsZixcIm1hcERpc3BhdGNoVG9Qcm9wc1wiKSx4PWkocix2LFwibWVyZ2VQcm9wc1wiKTtyZXR1cm4gbihtLGEoe21ldGhvZE5hbWU6XCJjb25uZWN0XCIsZ2V0RGlzcGxheU5hbWU6ZnVuY3Rpb24odCl7cmV0dXJuXCJDb25uZWN0KFwiK3QrXCIpXCJ9LHNob3VsZEhhbmRsZVN0YXRlQ2hhbmdlczohIXQsaW5pdE1hcFN0YXRlVG9Qcm9wczpNLGluaXRNYXBEaXNwYXRjaFRvUHJvcHM6Xyxpbml0TWVyZ2VQcm9wczp4LHB1cmU6bCxhcmVTdGF0ZXNFcXVhbDp5LGFyZU93blByb3BzRXF1YWw6UCxhcmVTdGF0ZVByb3BzRXF1YWw6dyxhcmVNZXJnZWRQcm9wc0VxdWFsOlN9LFQpKX19ZS5fX2VzTW9kdWxlPSEwO3ZhciBhPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2FyZ3VtZW50cy5sZW5ndGg+ZTtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKHRbcl09bltyXSl9cmV0dXJuIHR9O2UuY3JlYXRlQ29ubmVjdD11O3ZhciBwPW4oMyksYz1yKHApLGY9bigxNiksZD1yKGYpLGw9bigxMSksaD1yKGwpLHY9bigxMikseT1yKHYpLGI9bigxMyksUD1yKGIpLG09bigxNCksTz1yKG0pO2UuZGVmYXVsdD11KCl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/KDAsdS53cmFwTWFwVG9Qcm9wc0Z1bmMpKHQsXCJtYXBEaXNwYXRjaFRvUHJvcHNcIik6dm9pZCAwfWZ1bmN0aW9uIG8odCl7cmV0dXJuIHQ/dm9pZCAwOigwLHUud3JhcE1hcFRvUHJvcHNDb25zdGFudCkoZnVuY3Rpb24odCl7cmV0dXJue2Rpc3BhdGNoOnR9fSl9ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdCYmXCJvYmplY3RcIj09dHlwZW9mIHQ/KDAsdS53cmFwTWFwVG9Qcm9wc0NvbnN0YW50KShmdW5jdGlvbihlKXtyZXR1cm4oMCxzLmJpbmRBY3Rpb25DcmVhdG9ycykodCxlKX0pOnZvaWQgMH1lLl9fZXNNb2R1bGU9ITAsZS53aGVuTWFwRGlzcGF0Y2hUb1Byb3BzSXNGdW5jdGlvbj1yLGUud2hlbk1hcERpc3BhdGNoVG9Qcm9wc0lzTWlzc2luZz1vLGUud2hlbk1hcERpc3BhdGNoVG9Qcm9wc0lzT2JqZWN0PWk7dmFyIHM9bigyOCksdT1uKDQpO2UuZGVmYXVsdD1bcixvLGldfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0PygwLGkud3JhcE1hcFRvUHJvcHNGdW5jKSh0LFwibWFwU3RhdGVUb1Byb3BzXCIpOnZvaWQgMH1mdW5jdGlvbiBvKHQpe3JldHVybiB0P3ZvaWQgMDooMCxpLndyYXBNYXBUb1Byb3BzQ29uc3RhbnQpKGZ1bmN0aW9uKCl7cmV0dXJue319KX1lLl9fZXNNb2R1bGU9ITAsZS53aGVuTWFwU3RhdGVUb1Byb3BzSXNGdW5jdGlvbj1yLGUud2hlbk1hcFN0YXRlVG9Qcm9wc0lzTWlzc2luZz1vO3ZhciBpPW4oNCk7ZS5kZWZhdWx0PVtyLG9dfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gbyh0LGUsbil7cmV0dXJuIGEoe30sbix0LGUpfWZ1bmN0aW9uIGkodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIHI9bi5wdXJlLG89bi5hcmVNZXJnZWRQcm9wc0VxdWFsLGk9ITEscz12b2lkIDA7cmV0dXJuIGZ1bmN0aW9uKGUsbix1KXt2YXIgYT10KGUsbix1KTtyZXR1cm4gaT9yJiZvKGEscyl8fChzPWEpOihpPSEwLHM9YSksc319fWZ1bmN0aW9uIHModCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD9pKHQpOnZvaWQgMH1mdW5jdGlvbiB1KHQpe3JldHVybiB0P3ZvaWQgMDpmdW5jdGlvbigpe3JldHVybiBvfX1lLl9fZXNNb2R1bGU9ITA7dmFyIGE9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7YXJndW1lbnRzLmxlbmd0aD5lO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYodFtyXT1uW3JdKX1yZXR1cm4gdH07ZS5kZWZhdWx0TWVyZ2VQcm9wcz1vLGUud3JhcE1lcmdlUHJvcHNGdW5jPWksZS53aGVuTWVyZ2VQcm9wc0lzRnVuY3Rpb249cyxlLndoZW5NZXJnZVByb3BzSXNPbWl0dGVkPXU7dmFyIHA9big3KTtyKHApO2UuZGVmYXVsdD1bcyx1XX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIG8odCxlKXt2YXIgbj17fTtmb3IodmFyIHIgaW4gdCllLmluZGV4T2Yocik8MCYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihuW3JdPXRbcl0pO3JldHVybiBufWZ1bmN0aW9uIGkodCxlLG4scil7cmV0dXJuIGZ1bmN0aW9uKG8saSl7cmV0dXJuIG4odChvLGkpLGUocixpKSxpKX19ZnVuY3Rpb24gcyh0LGUsbixyLG8pe2Z1bmN0aW9uIGkobyxpKXtyZXR1cm4gaD1vLHY9aSx5PXQoaCx2KSxiPWUocix2KSxQPW4oeSxiLHYpLGw9ITAsUH1mdW5jdGlvbiBzKCl7cmV0dXJuIHk9dChoLHYpLGUuZGVwZW5kc09uT3duUHJvcHMmJihiPWUocix2KSksUD1uKHksYix2KX1mdW5jdGlvbiB1KCl7cmV0dXJuIHQuZGVwZW5kc09uT3duUHJvcHMmJih5PXQoaCx2KSksZS5kZXBlbmRzT25Pd25Qcm9wcyYmKGI9ZShyLHYpKSxQPW4oeSxiLHYpfWZ1bmN0aW9uIGEoKXt2YXIgZT10KGgsdikscj0hZChlLHkpO3JldHVybiB5PWUsciYmKFA9bih5LGIsdikpLFB9ZnVuY3Rpb24gcCh0LGUpe3ZhciBuPSFmKGUsdikscj0hYyh0LGgpO3JldHVybiBoPXQsdj1lLG4mJnI/cygpOm4/dSgpOnI/YSgpOlB9dmFyIGM9by5hcmVTdGF0ZXNFcXVhbCxmPW8uYXJlT3duUHJvcHNFcXVhbCxkPW8uYXJlU3RhdGVQcm9wc0VxdWFsLGw9ITEsaD12b2lkIDAsdj12b2lkIDAseT12b2lkIDAsYj12b2lkIDAsUD12b2lkIDA7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGw/cCh0LGUpOmkodCxlKX19ZnVuY3Rpb24gdSh0LGUpe3ZhciBuPWUuaW5pdE1hcFN0YXRlVG9Qcm9wcyxyPWUuaW5pdE1hcERpc3BhdGNoVG9Qcm9wcyx1PWUuaW5pdE1lcmdlUHJvcHMsYT1vKGUsW1wiaW5pdE1hcFN0YXRlVG9Qcm9wc1wiLFwiaW5pdE1hcERpc3BhdGNoVG9Qcm9wc1wiLFwiaW5pdE1lcmdlUHJvcHNcIl0pLHA9bih0LGEpLGM9cih0LGEpLGY9dSh0LGEpLGQ9YS5wdXJlP3M6aTtyZXR1cm4gZChwLGMsZix0LGEpfWUuX19lc01vZHVsZT0hMCxlLmltcHVyZUZpbmFsUHJvcHNTZWxlY3RvckZhY3Rvcnk9aSxlLnB1cmVGaW5hbFByb3BzU2VsZWN0b3JGYWN0b3J5PXMsZS5kZWZhdWx0PXU7dmFyIGE9bigxNSk7cihhKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIG8odCxlLG4pe2lmKCF0KXRocm93IEVycm9yKFwiVW5leHBlY3RlZCB2YWx1ZSBmb3IgXCIrZStcIiBpbiBcIituK1wiLlwiKTtcIm1hcFN0YXRlVG9Qcm9wc1wiIT09ZSYmXCJtYXBEaXNwYXRjaFRvUHJvcHNcIiE9PWV8fHQuaGFzT3duUHJvcGVydHkoXCJkZXBlbmRzT25Pd25Qcm9wc1wiKXx8KDAsdS5kZWZhdWx0KShcIlRoZSBzZWxlY3RvciBmb3IgXCIrZStcIiBvZiBcIituK1wiIGRpZCBub3Qgc3BlY2lmeSBhIHZhbHVlIGZvciBkZXBlbmRzT25Pd25Qcm9wcy5cIil9ZnVuY3Rpb24gaSh0LGUsbixyKXtvKHQsXCJtYXBTdGF0ZVRvUHJvcHNcIixyKSxvKGUsXCJtYXBEaXNwYXRjaFRvUHJvcHNcIixyKSxvKG4sXCJtZXJnZVByb3BzXCIscil9ZS5fX2VzTW9kdWxlPSEwLGUuZGVmYXVsdD1pO3ZhciBzPW4oMSksdT1yKHMpfSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlKXtpZih0PT09ZSlyZXR1cm4hMDt2YXIgbj0wLG89MDtmb3IodmFyIGkgaW4gdCl7aWYoci5jYWxsKHQsaSkmJnRbaV0hPT1lW2ldKXJldHVybiExO24rK31mb3IodmFyIHMgaW4gZSlyLmNhbGwoZSxzKSYmbysrO3JldHVybiBuPT09b31lLl9fZXNNb2R1bGU9ITAsZS5kZWZhdWx0PW47dmFyIHI9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjt2YXIgbj17Y2hpbGRDb250ZXh0VHlwZXM6ITAsY29udGV4dFR5cGVzOiEwLGRlZmF1bHRQcm9wczohMCxkaXNwbGF5TmFtZTohMCxnZXREZWZhdWx0UHJvcHM6ITAsbWl4aW5zOiEwLHByb3BUeXBlczohMCx0eXBlOiEwfSxyPXtuYW1lOiEwLGxlbmd0aDohMCxwcm90b3R5cGU6ITAsY2FsbGVyOiEwLGFyZ3VtZW50czohMCxhcml0eTohMH0sbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsaSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpe3ZhciBzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpO28mJihzPXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSkpKTtmb3IodmFyIHU9MDtzLmxlbmd0aD51OysrdSlpZighKG5bc1t1XV18fHJbc1t1XV18fGkmJmlbc1t1XV0pKXRyeXt0W3NbdV1dPWVbc1t1XV19Y2F0Y2godCl7fX1yZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1mdW5jdGlvbih0LGUsbixyLG8saSxzLHUpe2lmKCF0KXt2YXIgYTtpZih2b2lkIDA9PT1lKWE9RXJyb3IoXCJNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLlwiKTtlbHNle3ZhciBwPVtuLHIsbyxpLHMsdV0sYz0wO2E9RXJyb3IoZS5yZXBsYWNlKC8lcy9nLGZ1bmN0aW9uKCl7cmV0dXJuIHBbYysrXX0pKSxhLm5hbWU9XCJJbnZhcmlhbnQgVmlvbGF0aW9uXCJ9dGhyb3cgYS5mcmFtZXNUb1BvcD0xLGF9fTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7cmV0dXJuIG51bGw9PXQ/dm9pZCAwPT09dD9hOnU6cCYmcCBpbiBPYmplY3QodCk/aSh0KTpzKHQpfXZhciBvPW4oOCksaT1uKDIyKSxzPW4oMjMpLHU9XCJbb2JqZWN0IE51bGxdXCIsYT1cIltvYmplY3QgVW5kZWZpbmVkXVwiLHA9bz9vLnRvU3RyaW5nVGFnOnZvaWQgMDt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlKXsoZnVuY3Rpb24oZSl7dmFyIG49XCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJmUuT2JqZWN0PT09T2JqZWN0JiZlO3QuZXhwb3J0cz1ufSkuY2FsbChlLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCl8fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI0KSxvPXIoT2JqZWN0LmdldFByb3RvdHlwZU9mLE9iamVjdCk7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3ZhciBlPXMuY2FsbCh0LGEpLG49dFthXTt0cnl7dFthXT12b2lkIDA7dmFyIHI9ITB9Y2F0Y2godCl7fXZhciBvPXUuY2FsbCh0KTtyZXR1cm4gciYmKGU/dFthXT1uOmRlbGV0ZSB0W2FdKSxvfXZhciBvPW4oOCksaT1PYmplY3QucHJvdG90eXBlLHM9aS5oYXNPd25Qcm9wZXJ0eSx1PWkudG9TdHJpbmcsYT1vP28udG9TdHJpbmdUYWc6dm9pZCAwO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCl7cmV0dXJuIG8uY2FsbCh0KX12YXIgcj1PYmplY3QucHJvdG90eXBlLG89ci50b1N0cmluZzt0LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiB0KGUobikpfX10LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjApLG89XCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLGk9cnx8b3x8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO3QuZXhwb3J0cz1pfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCl7cmV0dXJuIG51bGwhPXQmJlwib2JqZWN0XCI9PXR5cGVvZiB0fXQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0KXtpZighcyh0KXx8byh0KSE9dSlyZXR1cm4hMTt2YXIgZT1pKHQpO2lmKG51bGw9PT1lKXJldHVybiEwO3ZhciBuPWYuY2FsbChlLFwiY29uc3RydWN0b3JcIikmJmUuY29uc3RydWN0b3I7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmbiBpbnN0YW5jZW9mIG4mJmMuY2FsbChuKT09ZH12YXIgbz1uKDE5KSxpPW4oMjEpLHM9bigyNiksdT1cIltvYmplY3QgT2JqZWN0XVwiLGE9RnVuY3Rpb24ucHJvdG90eXBlLHA9T2JqZWN0LnByb3RvdHlwZSxjPWEudG9TdHJpbmcsZj1wLmhhc093blByb3BlcnR5LGQ9Yy5jYWxsKE9iamVjdCk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsbil7dC5leHBvcnRzPWV9XSl9KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3QtcmVkdXgvZGlzdC9yZWFjdC1yZWR1eC5taW4uanNcbi8vIG1vZHVsZSBpZCA9IDE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5cbnZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzID0gcmVxdWlyZSgnLi9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzJyk7XG5cbnZhciBfZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzKTtcblxudmFyIF9nZXRSb3V0ZVBhcmFtcyA9IHJlcXVpcmUoJy4vZ2V0Um91dGVQYXJhbXMnKTtcblxudmFyIF9nZXRSb3V0ZVBhcmFtczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRSb3V0ZVBhcmFtcyk7XG5cbnZhciBfUm91dGVVdGlscyA9IHJlcXVpcmUoJy4vUm91dGVVdGlscycpO1xuXG52YXIgX3JvdXRlcldhcm5pbmcgPSByZXF1aXJlKCcuL3JvdXRlcldhcm5pbmcnKTtcblxudmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgX1JlYWN0JFByb3BUeXBlcyA9IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXM7XG52YXIgYXJyYXkgPSBfUmVhY3QkUHJvcFR5cGVzLmFycmF5O1xudmFyIGZ1bmMgPSBfUmVhY3QkUHJvcFR5cGVzLmZ1bmM7XG52YXIgb2JqZWN0ID0gX1JlYWN0JFByb3BUeXBlcy5vYmplY3Q7XG5cbi8qKlxuICogQSA8Um91dGVyQ29udGV4dD4gcmVuZGVycyB0aGUgY29tcG9uZW50IHRyZWUgZm9yIGEgZ2l2ZW4gcm91dGVyIHN0YXRlXG4gKiBhbmQgc2V0cyB0aGUgaGlzdG9yeSBvYmplY3QgYW5kIHRoZSBjdXJyZW50IGxvY2F0aW9uIGluIGNvbnRleHQuXG4gKi9cblxudmFyIFJvdXRlckNvbnRleHQgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ1JvdXRlckNvbnRleHQnLFxuXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgaGlzdG9yeTogb2JqZWN0LFxuICAgIHJvdXRlcjogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgbG9jYXRpb246IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHJvdXRlczogYXJyYXkuaXNSZXF1aXJlZCxcbiAgICBwYXJhbXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGNvbXBvbmVudHM6IGFycmF5LmlzUmVxdWlyZWQsXG4gICAgY3JlYXRlRWxlbWVudDogZnVuYy5pc1JlcXVpcmVkXG4gIH0sXG5cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZUVsZW1lbnQ6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50XG4gICAgfTtcbiAgfSxcblxuXG4gIGNoaWxkQ29udGV4dFR5cGVzOiB7XG4gICAgaGlzdG9yeTogb2JqZWN0LFxuICAgIGxvY2F0aW9uOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICByb3V0ZXI6IG9iamVjdC5pc1JlcXVpcmVkXG4gIH0sXG5cbiAgZ2V0Q2hpbGRDb250ZXh0OiBmdW5jdGlvbiBnZXRDaGlsZENvbnRleHQoKSB7XG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIHJvdXRlciA9IF9wcm9wcy5yb3V0ZXI7XG4gICAgdmFyIGhpc3RvcnkgPSBfcHJvcHMuaGlzdG9yeTtcbiAgICB2YXIgbG9jYXRpb24gPSBfcHJvcHMubG9jYXRpb247XG5cbiAgICBpZiAoIXJvdXRlcikge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdgPFJvdXRlckNvbnRleHQ+YCBleHBlY3RzIGEgYHJvdXRlcmAgcmF0aGVyIHRoYW4gYSBgaGlzdG9yeWAnKSA6IHZvaWQgMDtcblxuICAgICAgcm91dGVyID0gX2V4dGVuZHMoe30sIGhpc3RvcnksIHtcbiAgICAgICAgc2V0Um91dGVMZWF2ZUhvb2s6IGhpc3RvcnkubGlzdGVuQmVmb3JlTGVhdmluZ1JvdXRlXG4gICAgICB9KTtcbiAgICAgIGRlbGV0ZSByb3V0ZXIubGlzdGVuQmVmb3JlTGVhdmluZ1JvdXRlO1xuICAgIH1cblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBsb2NhdGlvbiA9ICgwLCBfZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllczIuZGVmYXVsdCkobG9jYXRpb24sICdgY29udGV4dC5sb2NhdGlvbmAgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBhIHJvdXRlIGNvbXBvbmVudFxcJ3MgYHByb3BzLmxvY2F0aW9uYCBpbnN0ZWFkLiBodHRwOi8vdGlueS5jYy9yb3V0ZXItYWNjZXNzaW5nbG9jYXRpb24nKTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBoaXN0b3J5OiBoaXN0b3J5LCBsb2NhdGlvbjogbG9jYXRpb24sIHJvdXRlcjogcm91dGVyIH07XG4gIH0sXG4gIGNyZWF0ZUVsZW1lbnQ6IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQoY29tcG9uZW50LCBwcm9wcykge1xuICAgIHJldHVybiBjb21wb25lbnQgPT0gbnVsbCA/IG51bGwgOiB0aGlzLnByb3BzLmNyZWF0ZUVsZW1lbnQoY29tcG9uZW50LCBwcm9wcyk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHM7XG4gICAgdmFyIGhpc3RvcnkgPSBfcHJvcHMyLmhpc3Rvcnk7XG4gICAgdmFyIGxvY2F0aW9uID0gX3Byb3BzMi5sb2NhdGlvbjtcbiAgICB2YXIgcm91dGVzID0gX3Byb3BzMi5yb3V0ZXM7XG4gICAgdmFyIHBhcmFtcyA9IF9wcm9wczIucGFyYW1zO1xuICAgIHZhciBjb21wb25lbnRzID0gX3Byb3BzMi5jb21wb25lbnRzO1xuXG4gICAgdmFyIGVsZW1lbnQgPSBudWxsO1xuXG4gICAgaWYgKGNvbXBvbmVudHMpIHtcbiAgICAgIGVsZW1lbnQgPSBjb21wb25lbnRzLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uIChlbGVtZW50LCBjb21wb25lbnRzLCBpbmRleCkge1xuICAgICAgICBpZiAoY29tcG9uZW50cyA9PSBudWxsKSByZXR1cm4gZWxlbWVudDsgLy8gRG9uJ3QgY3JlYXRlIG5ldyBjaGlsZHJlbjsgdXNlIHRoZSBncmFuZGNoaWxkcmVuLlxuXG4gICAgICAgIHZhciByb3V0ZSA9IHJvdXRlc1tpbmRleF07XG4gICAgICAgIHZhciByb3V0ZVBhcmFtcyA9ICgwLCBfZ2V0Um91dGVQYXJhbXMyLmRlZmF1bHQpKHJvdXRlLCBwYXJhbXMpO1xuICAgICAgICB2YXIgcHJvcHMgPSB7XG4gICAgICAgICAgaGlzdG9yeTogaGlzdG9yeSxcbiAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICAgICAgcGFyYW1zOiBwYXJhbXMsXG4gICAgICAgICAgcm91dGU6IHJvdXRlLFxuICAgICAgICAgIHJvdXRlUGFyYW1zOiByb3V0ZVBhcmFtcyxcbiAgICAgICAgICByb3V0ZXM6IHJvdXRlc1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICgoMCwgX1JvdXRlVXRpbHMuaXNSZWFjdENoaWxkcmVuKShlbGVtZW50KSkge1xuICAgICAgICAgIHByb3BzLmNoaWxkcmVuID0gZWxlbWVudDtcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBlbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGVsZW1lbnQsIHByb3ApKSBwcm9wc1twcm9wXSA9IGVsZW1lbnRbcHJvcF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCh0eXBlb2YgY29tcG9uZW50cyA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoY29tcG9uZW50cykpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHZhciBlbGVtZW50cyA9IHt9O1xuXG4gICAgICAgICAgZm9yICh2YXIga2V5IGluIGNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY29tcG9uZW50cywga2V5KSkge1xuICAgICAgICAgICAgICAvLyBQYXNzIHRocm91Z2ggdGhlIGtleSBhcyBhIHByb3AgdG8gY3JlYXRlRWxlbWVudCB0byBhbGxvd1xuICAgICAgICAgICAgICAvLyBjdXN0b20gY3JlYXRlRWxlbWVudCBmdW5jdGlvbnMgdG8ga25vdyB3aGljaCBuYW1lZCBjb21wb25lbnRcbiAgICAgICAgICAgICAgLy8gdGhleSdyZSByZW5kZXJpbmcsIGZvciBlLmcuIG1hdGNoaW5nIHVwIHRvIGZldGNoZWQgZGF0YS5cbiAgICAgICAgICAgICAgZWxlbWVudHNba2V5XSA9IF90aGlzLmNyZWF0ZUVsZW1lbnQoY29tcG9uZW50c1trZXldLCBfZXh0ZW5kcyh7XG4gICAgICAgICAgICAgICAga2V5OiBrZXkgfSwgcHJvcHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX3RoaXMuY3JlYXRlRWxlbWVudChjb21wb25lbnRzLCBwcm9wcyk7XG4gICAgICB9LCBlbGVtZW50KTtcbiAgICB9XG5cbiAgICAhKGVsZW1lbnQgPT09IG51bGwgfHwgZWxlbWVudCA9PT0gZmFsc2UgfHwgX3JlYWN0Mi5kZWZhdWx0LmlzVmFsaWRFbGVtZW50KGVsZW1lbnQpKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UsICdUaGUgcm9vdCByb3V0ZSBtdXN0IHJlbmRlciBhIHNpbmdsZSBlbGVtZW50JykgOiAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UpIDogdm9pZCAwO1xuXG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSb3V0ZXJDb250ZXh0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvUm91dGVyQ29udGV4dC5qc1xuLy8gbW9kdWxlIGlkID0gMThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5jYW5Vc2VNZW1icmFuZSA9IHVuZGVmaW5lZDtcblxudmFyIF9yb3V0ZXJXYXJuaW5nID0gcmVxdWlyZSgnLi9yb3V0ZXJXYXJuaW5nJyk7XG5cbnZhciBfcm91dGVyV2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3V0ZXJXYXJuaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGNhblVzZU1lbWJyYW5lID0gZXhwb3J0cy5jYW5Vc2VNZW1icmFuZSA9IGZhbHNlO1xuXG4vLyBOby1vcCBieSBkZWZhdWx0LlxudmFyIGRlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzKG9iamVjdCkge1xuICByZXR1cm4gb2JqZWN0O1xufTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdHJ5IHtcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAneCcsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KS54KSB7XG4gICAgICBleHBvcnRzLmNhblVzZU1lbWJyYW5lID0gY2FuVXNlTWVtYnJhbmUgPSB0cnVlO1xuICAgIH1cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuICB9IGNhdGNoIChlKSB7fVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWVtcHR5ICovXG5cbiAgaWYgKGNhblVzZU1lbWJyYW5lKSB7XG4gICAgZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllcyA9IGZ1bmN0aW9uIGRlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMob2JqZWN0LCBtZXNzYWdlKSB7XG4gICAgICAvLyBXcmFwIHRoZSBkZXByZWNhdGVkIG9iamVjdCBpbiBhIG1lbWJyYW5lIHRvIHdhcm4gb24gcHJvcGVydHkgYWNjZXNzLlxuICAgICAgdmFyIG1lbWJyYW5lID0ge307XG5cbiAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKHByb3ApIHtcbiAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wKSkge1xuICAgICAgICAgIHJldHVybiAnY29udGludWUnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBvYmplY3RbcHJvcF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAvLyBDYW4ndCB1c2UgZmF0IGFycm93IGhlcmUgYmVjYXVzZSBvZiB1c2Ugb2YgYXJndW1lbnRzIGJlbG93LlxuICAgICAgICAgIG1lbWJyYW5lW3Byb3BdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsIG1lc3NhZ2UpIDogdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIG9iamVjdFtwcm9wXS5hcHBseShvYmplY3QsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gJ2NvbnRpbnVlJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZXNlIHByb3BlcnRpZXMgYXJlIG5vbi1lbnVtZXJhYmxlIHRvIHByZXZlbnQgUmVhY3QgZGV2IHRvb2xzIGZyb21cbiAgICAgICAgLy8gc2VlaW5nIHRoZW0gYW5kIGNhdXNpbmcgc3B1cmlvdXMgd2FybmluZ3Mgd2hlbiBhY2Nlc3NpbmcgdGhlbS4gSW5cbiAgICAgICAgLy8gcHJpbmNpcGxlIHRoaXMgY291bGQgYmUgZG9uZSB3aXRoIGEgcHJveHksIGJ1dCBzdXBwb3J0IGZvciB0aGVcbiAgICAgICAgLy8gb3duS2V5cyB0cmFwIG9uIHByb3hpZXMgaXMgbm90IHVuaXZlcnNhbCwgZXZlbiBhbW9uZyBicm93c2VycyB0aGF0XG4gICAgICAgIC8vIG90aGVyd2lzZSBzdXBwb3J0IHByb3hpZXMuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtZW1icmFuZSwgcHJvcCwge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsIG1lc3NhZ2UpIDogdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIG9iamVjdFtwcm9wXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgZm9yICh2YXIgcHJvcCBpbiBvYmplY3QpIHtcbiAgICAgICAgdmFyIF9yZXQgPSBfbG9vcChwcm9wKTtcblxuICAgICAgICBpZiAoX3JldCA9PT0gJ2NvbnRpbnVlJykgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtZW1icmFuZTtcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGRlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXM7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllcy5qc1xuLy8gbW9kdWxlIGlkID0gMTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgY29tYmluZVJlZHVjZXJzIH0gZnJvbSAncmVkdXgnXG5pbXBvcnQge2xvZ2lufSBmcm9tICcuL2xvZ2luJ1xuXG5jb25zdCByb290UmVkdWNlciA9IGNvbWJpbmVSZWR1Y2Vycyh7XG4gIGxvZ2luXG59KVxuXG5leHBvcnQgZGVmYXVsdCByb290UmVkdWNlclxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3B1YmxpYy9hcHAvcmVkdWNlcnMvaW5kZXguanMiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5maWd1cmV7Ym9yZGVyLXJhZGl1czoxMHB4Oy1tb3otYm9yZGVyLXJhZGl1czoxMHB4Oy13ZWJraXQtYm9yZGVyLXJhZGl1czoxMHB4O2hlaWdodDozNTBweDtsaW5lLWhlaWdodDozMDBweDt3aWR0aDo0NiU7Ym9yZGVyOjFweCBzb2xpZDt0ZXh0LWFsaWduOmNlbnRlcjtwYWRkaW5nOjEuOSU7bWFyZ2luOjM1cHggMTYlIDAgMTAlO2Zsb2F0OmxlZnQ7Zm9udC1mYW1pbHk6TWljcm9zb2Z0IFlhSGVpO2ZvbnQtc2l6ZTo0MHB4fVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jc3MtbG9hZGVyIS4vfi9zYXNzLWxvYWRlciEuL3B1YmxpYy9hcHAvY29tcG9uZW50cy9DZmlndXJlL2luZGV4LnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDIxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmNoYW5uZWx7Ym9yZGVyLXJhZGl1czoxMHB4Oy1tb3otYm9yZGVyLXJhZGl1czoxMHB4Oy13ZWJraXQtYm9yZGVyLXJhZGl1czoxMHB4O2hlaWdodDozNTBweDt3aWR0aDoxMiU7Ym9yZGVyOjFweCBzb2xpZDt0ZXh0LWFsaWduOmNlbnRlcjtwYWRkaW5nOjEuOSU7bWFyZ2luOjM1cHggMCAwIDE2JTtmbG9hdDpsZWZ0O3doaXRlLXNwYWNlOm5vd3JhcH0uY2hhbm5lbCBkaXZ7Zm9udC1mYW1pbHk6TWljcm9zb2Z0IFlhSGVpO2ZvbnQtc2l6ZToxOHB4O21hcmdpbjoxNXB4IDB9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Nzcy1sb2FkZXIhLi9+L3Nhc3MtbG9hZGVyIS4vcHVibGljL2FwcC9jb21wb25lbnRzL0NoYW5uZWwvaW5kZXguc2Nzc1xuLy8gbW9kdWxlIGlkID0gMjJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuc2hvd0xpc3R7bWFyZ2luOjM1cHggMTYlIDA7aGVpZ2h0OjMwMHB4O2ZvbnQtc2l6ZToxOHB4O2ZvbnQtZmFtaWx5Ok1pY3Jvc29mdCBZYUhlaX0uc2hvd0xpc3QgLmhvdENsYXNzLC5zaG93TGlzdCAubmV3Q2xhc3MsLnNob3dMaXN0IC5uZXdUcmVuZHN7ZmxvYXQ6bGVmdDt3aWR0aDozMiU7aGVpZ2h0OjMwMHB4fS5zaG93TGlzdCAuaG90Q2xhc3MgLmJsYW5rLC5zaG93TGlzdCAubmV3Q2xhc3MgLmJsYW5rLC5zaG93TGlzdCAubmV3VHJlbmRzIC5ibGFua3toZWlnaHQ6MnB4O3dpZHRoOjEwMCU7YmFja2dyb3VuZDpibHVlO21hcmdpbjo1cHggMH0uc2hvd0xpc3QgLmhvdENsYXNzIHVsLC5zaG93TGlzdCAubmV3Q2xhc3MgdWwsLnNob3dMaXN0IC5uZXdUcmVuZHMgdWx7aGVpZ2h0OjY1JTttYXJnaW46NSUgMH0uc2hvd0xpc3QgLmhvdENsYXNzIHVsIGxpLC5zaG93TGlzdCAubmV3Q2xhc3MgdWwgbGksLnNob3dMaXN0IC5uZXdUcmVuZHMgdWwgbGl7aGVpZ2h0OjE4cHg7bGluZS1oZWlnaHQ6MThweDttYXJnaW46NS41JSAwO3doaXRlLXNwYWNlOm5vd3JhcH0uc2hvd0xpc3QgLmhvdENsYXNzIHVsIGxpIC5jb250ZW50LC5zaG93TGlzdCAubmV3Q2xhc3MgdWwgbGkgLmNvbnRlbnQsLnNob3dMaXN0IC5uZXdUcmVuZHMgdWwgbGkgLmNvbnRlbnR7d2lkdGg6NzAlO292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3doaXRlLXNwYWNlOm5vd3JhcDtmbG9hdDpsZWZ0fS5zaG93TGlzdCAuaG90Q2xhc3MgdWwgbGkgLnRpbWUsLnNob3dMaXN0IC5uZXdDbGFzcyB1bCBsaSAudGltZSwuc2hvd0xpc3QgLm5ld1RyZW5kcyB1bCBsaSAudGltZXt3aWR0aDozMCU7ZmxvYXQ6cmlnaHR9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Nzcy1sb2FkZXIhLi9+L3Nhc3MtbG9hZGVyIS4vcHVibGljL2FwcC9jb21wb25lbnRzL1Nob3dMaXN0L2luZGV4LnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDIzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnRpdGxle2JhY2tncm91bmQ6Ymx1ZTtmb250LWZhbWlseTpTVEthaXRpO3RleHQtYWxpZ246Y2VudGVyfS50aXRsZSBkaXZ7Zm9udC1zaXplOjMwcHg7cGFkZGluZzowIDg1cHg7bGluZS1oZWlnaHQ6NjBweDtjb2xvcjojZmZmO2Rpc3BsYXk6aW5saW5lfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jc3MtbG9hZGVyIS4vfi9zYXNzLWxvYWRlciEuL3B1YmxpYy9hcHAvY29tcG9uZW50cy9UaXRsZS9pbmRleC5zY3NzXG4vLyBtb2R1bGUgaWQgPSAyNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIlwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jc3MtbG9hZGVyIS4vfi9zYXNzLWxvYWRlciEuL3B1YmxpYy9hcHAvcGFnZXMvRmlyc3RQYWdlL2luZGV4LnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDI1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmNvbnRhaW5lcntwYWRkaW5nOjAgMSV9LmNvbnRhaW5lciAuc2lnbnt0b3A6MjBweDtyaWdodDozMHB4O3Bvc2l0aW9uOmFic29sdXRlfS5jb250YWluZXIgLnNpZ24gLmFudC1pbnB1dC1zZWFyY2gtd3JhcHBlcnttYXJnaW4tcmlnaHQ6MjBweDt3aWR0aDoxNzBweH0uY29udGFpbmVyIC5zaWduIC5hbnQtYnRuLWdyb3Vwe3ZlcnRpY2FsLWFsaWduOnRvcH0uY29udGFpbmVyIC5jb21wYW55e21hcmdpbjozMHB4IDAgMTVweCAyNTBweDtoZWlnaHQ6ODBweDtsaW5lLWhlaWdodDo4MHB4O2ZvbnQtc2l6ZToyNXB4fS5jb250YWluZXIgLmNvbXBhbnkgLmltZ3tib3JkZXItcmFkaXVzOjEwMCU7Ym9yZGVyOjFweCBzb2xpZDtoZWlnaHQ6ODBweDt3aWR0aDo4MHB4O2Zsb2F0OmxlZnQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXCIgKyByZXF1aXJlKFwiLi4vLi4vaW1hZ2VzLzY5Ny5qcGdcIikgKyBcIik7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtc2l6ZTpjb3Zlcn0uY29udGFpbmVyIC5jb21wYW55IC5uYW1le2Zsb2F0OmxlZnQ7cGFkZGluZy1sZWZ0OjIwcHh9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Nzcy1sb2FkZXIhLi9+L3Nhc3MtbG9hZGVyIS4vcHVibGljL2FwcC9wYWdlcy9JbmRleC9pbmRleC5zY3NzXG4vLyBtb2R1bGUgaWQgPSAyNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5sb2dpbkNvbnRhaW5lcntwb3NpdGlvbjphYnNvbHV0ZTt0ZXh0LWFsaWduOmNlbnRlcjt0b3A6MjAlO21hcmdpbjowIGF1dG87d2lkdGg6NDUwcHg7bWFyZ2luLWxlZnQ6LXdlYmtpdC1jYWxjKDUwJSAtIDIyNXB4KTttYXJnaW4tbGVmdDotbW96LWNhbGMoNTAlIC0gMjI1cHgpO21hcmdpbi1sZWZ0OmNhbGMoNTAlIC0gMjI1cHgpfS5sb2dpbkNvbnRhaW5lciAubG9nb3ttYXJnaW4tdG9wOjIwcHg7Zm9udC1zaXplOjUwcHh9LmxvZ2luQ29udGFpbmVyIGgye21hcmdpbi10b3A6MjBweH0ubG9naW5Db250YWluZXIgLmxvZ2luRm9ybXttYXJnaW4tdG9wOjIwcHg7YmFja2dyb3VuZDojZmZmO3BhZGRpbmctdG9wOjM0cHg7Ym9yZGVyOjFweCBzb2xpZCAjZGZkYmRiOy13ZWJraXQtYm9yZGVyLXJhZGl1czo2cHg7LW1vei1ib3JkZXItcmFkaXVzOjZweDtib3JkZXItcmFkaXVzOjZweH0ubG9naW5Db250YWluZXIgLmxvZ2luRm9ybSBhe2ZvbnQtc2l6ZToxNXB4O2Zsb2F0OnJpZ2h0fS5sb2dpbkNvbnRhaW5lciAuYW50LWNvbC1vZmZzZXQtNnttYXJnaW4tbGVmdDoyMCV9LmxvZ2luQ29udGFpbmVyIC5hbnQtY29sLW9mZnNldC02IC5hbnQtYnRuLXByaW1hcnl7d2lkdGg6MTUwcHh9Ym9keXtiYWNrZ3JvdW5kOiNmNGY0ZjQhaW1wb3J0YW50fVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jc3MtbG9hZGVyIS4vfi9zYXNzLWxvYWRlciEuL3B1YmxpYy9hcHAvcGFnZXMvTG9naW4vTG9naW4uc2Nzc1xuLy8gbW9kdWxlIGlkID0gMjdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJib2R5e2ZvbnQtZmFtaWx5Ok1pY3Jvc29mdCBZYUhlaSxTVEthaXRpfWJvZHkgLmNoYW5uZWwtaW1ne2hlaWdodDo0MDBweH1ib2R5IC5mb290ZXJ7aGVpZ2h0OjYwcHg7bGluZS1oZWlnaHQ6NjBweDtmb250LXNpemU6MjBweDttYXJnaW46MTBweCAxNiV9Ym9keSAuZm9vdGVyIC5mcmllbmRVcmx7d2lkdGg6NjAlO21hcmdpbi1yaWdodDoxMCU7ZmxvYXQ6bGVmdDt3aGl0ZS1zcGFjZTpub3dyYXB9Ym9keSAuZm9vdGVyIC5waG9uZXt3aWR0aDozMCU7ZmxvYXQ6bGVmdDt0ZXh0LWFsaWduOmNlbnRlcn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY3NzLWxvYWRlciEuL34vc2Fzcy1sb2FkZXIhLi9wdWJsaWMvYXBwL3N0eWxlc2hlZXRzL2luZGV4LnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDI4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuYWRkRXZlbnRMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXI7XG5leHBvcnRzLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSByZW1vdmVFdmVudExpc3RlbmVyO1xuZXhwb3J0cy5nZXRIYXNoUGF0aCA9IGdldEhhc2hQYXRoO1xuZXhwb3J0cy5yZXBsYWNlSGFzaFBhdGggPSByZXBsYWNlSGFzaFBhdGg7XG5leHBvcnRzLmdldFdpbmRvd1BhdGggPSBnZXRXaW5kb3dQYXRoO1xuZXhwb3J0cy5nbyA9IGdvO1xuZXhwb3J0cy5nZXRVc2VyQ29uZmlybWF0aW9uID0gZ2V0VXNlckNvbmZpcm1hdGlvbjtcbmV4cG9ydHMuc3VwcG9ydHNIaXN0b3J5ID0gc3VwcG9ydHNIaXN0b3J5O1xuZXhwb3J0cy5zdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCA9IHN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoO1xuXG5mdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKG5vZGUsIGV2ZW50LCBsaXN0ZW5lcikge1xuICBpZiAobm9kZS5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpO1xuICB9IGVsc2Uge1xuICAgIG5vZGUuYXR0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBsaXN0ZW5lcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcihub2RlLCBldmVudCwgbGlzdGVuZXIpIHtcbiAgaWYgKG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgfSBlbHNlIHtcbiAgICBub2RlLmRldGFjaEV2ZW50KCdvbicgKyBldmVudCwgbGlzdGVuZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldEhhc2hQYXRoKCkge1xuICAvLyBXZSBjYW4ndCB1c2Ugd2luZG93LmxvY2F0aW9uLmhhc2ggaGVyZSBiZWNhdXNlIGl0J3Mgbm90XG4gIC8vIGNvbnNpc3RlbnQgYWNyb3NzIGJyb3dzZXJzIC0gRmlyZWZveCB3aWxsIHByZS1kZWNvZGUgaXQhXG4gIHJldHVybiB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnIycpWzFdIHx8ICcnO1xufVxuXG5mdW5jdGlvbiByZXBsYWNlSGFzaFBhdGgocGF0aCkge1xuICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoICsgJyMnICsgcGF0aCk7XG59XG5cbmZ1bmN0aW9uIGdldFdpbmRvd1BhdGgoKSB7XG4gIHJldHVybiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoICsgd2luZG93LmxvY2F0aW9uLmhhc2g7XG59XG5cbmZ1bmN0aW9uIGdvKG4pIHtcbiAgaWYgKG4pIHdpbmRvdy5oaXN0b3J5LmdvKG4pO1xufVxuXG5mdW5jdGlvbiBnZXRVc2VyQ29uZmlybWF0aW9uKG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gIGNhbGxiYWNrKHdpbmRvdy5jb25maXJtKG1lc3NhZ2UpKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIEhUTUw1IGhpc3RvcnkgQVBJIGlzIHN1cHBvcnRlZC4gVGFrZW4gZnJvbSBNb2Rlcm5penIuXG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvYmxvYi9tYXN0ZXIvTElDRU5TRVxuICogaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvYmxvYi9tYXN0ZXIvZmVhdHVyZS1kZXRlY3RzL2hpc3RvcnkuanNcbiAqIGNoYW5nZWQgdG8gYXZvaWQgZmFsc2UgbmVnYXRpdmVzIGZvciBXaW5kb3dzIFBob25lczogaHR0cHM6Ly9naXRodWIuY29tL3JhY2t0L3JlYWN0LXJvdXRlci9pc3N1ZXMvNTg2XG4gKi9cblxuZnVuY3Rpb24gc3VwcG9ydHNIaXN0b3J5KCkge1xuICB2YXIgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuICBpZiAoKHVhLmluZGV4T2YoJ0FuZHJvaWQgMi4nKSAhPT0gLTEgfHwgdWEuaW5kZXhPZignQW5kcm9pZCA0LjAnKSAhPT0gLTEpICYmIHVhLmluZGV4T2YoJ01vYmlsZSBTYWZhcmknKSAhPT0gLTEgJiYgdWEuaW5kZXhPZignQ2hyb21lJykgPT09IC0xICYmIHVhLmluZGV4T2YoJ1dpbmRvd3MgUGhvbmUnKSA9PT0gLTEpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHdpbmRvdy5oaXN0b3J5ICYmICdwdXNoU3RhdGUnIGluIHdpbmRvdy5oaXN0b3J5O1xufVxuXG4vKipcbiAqIFJldHVybnMgZmFsc2UgaWYgdXNpbmcgZ28obikgd2l0aCBoYXNoIGhpc3RvcnkgY2F1c2VzIGEgZnVsbCBwYWdlIHJlbG9hZC5cbiAqL1xuXG5mdW5jdGlvbiBzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCgpIHtcbiAgdmFyIHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgcmV0dXJuIHVhLmluZGV4T2YoJ0ZpcmVmb3gnKSA9PT0gLTE7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2hpc3RvcnkvbGliL0RPTVV0aWxzLmpzXG4vLyBtb2R1bGUgaWQgPSAyOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbmZ1bmN0aW9uIGRlcHJlY2F0ZShmbiwgbWVzc2FnZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShmYWxzZSwgJ1toaXN0b3J5XSAnICsgbWVzc2FnZSkgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGRlcHJlY2F0ZTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9oaXN0b3J5L2xpYi9kZXByZWNhdGUuanNcbi8vIG1vZHVsZSBpZCA9IDMwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCd3YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxuZnVuY3Rpb24gcnVuVHJhbnNpdGlvbkhvb2soaG9vaywgbG9jYXRpb24sIGNhbGxiYWNrKSB7XG4gIHZhciByZXN1bHQgPSBob29rKGxvY2F0aW9uLCBjYWxsYmFjayk7XG5cbiAgaWYgKGhvb2subGVuZ3RoIDwgMikge1xuICAgIC8vIEFzc3VtZSB0aGUgaG9vayBydW5zIHN5bmNocm9ub3VzbHkgYW5kIGF1dG9tYXRpY2FsbHlcbiAgICAvLyBjYWxsIHRoZSBjYWxsYmFjayB3aXRoIHRoZSByZXR1cm4gdmFsdWUuXG4gICAgY2FsbGJhY2socmVzdWx0KTtcbiAgfSBlbHNlIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10ocmVzdWx0ID09PSB1bmRlZmluZWQsICdZb3Ugc2hvdWxkIG5vdCBcInJldHVyblwiIGluIGEgdHJhbnNpdGlvbiBob29rIHdpdGggYSBjYWxsYmFjayBhcmd1bWVudDsgY2FsbCB0aGUgY2FsbGJhY2sgaW5zdGVhZCcpIDogdW5kZWZpbmVkO1xuICB9XG59XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IHJ1blRyYW5zaXRpb25Ib29rO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2hpc3RvcnkvbGliL3J1blRyYW5zaXRpb25Ib29rLmpzXG4vLyBtb2R1bGUgaWQgPSAzMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMubG9vcEFzeW5jID0gbG9vcEFzeW5jO1xuZXhwb3J0cy5tYXBBc3luYyA9IG1hcEFzeW5jO1xuZnVuY3Rpb24gbG9vcEFzeW5jKHR1cm5zLCB3b3JrLCBjYWxsYmFjaykge1xuICB2YXIgY3VycmVudFR1cm4gPSAwLFxuICAgICAgaXNEb25lID0gZmFsc2U7XG4gIHZhciBzeW5jID0gZmFsc2UsXG4gICAgICBoYXNOZXh0ID0gZmFsc2UsXG4gICAgICBkb25lQXJncyA9IHZvaWQgMDtcblxuICBmdW5jdGlvbiBkb25lKCkge1xuICAgIGlzRG9uZSA9IHRydWU7XG4gICAgaWYgKHN5bmMpIHtcbiAgICAgIC8vIEl0ZXJhdGUgaW5zdGVhZCBvZiByZWN1cnNpbmcgaWYgcG9zc2libGUuXG4gICAgICBkb25lQXJncyA9IFtdLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICBpZiAoaXNEb25lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaGFzTmV4dCA9IHRydWU7XG4gICAgaWYgKHN5bmMpIHtcbiAgICAgIC8vIEl0ZXJhdGUgaW5zdGVhZCBvZiByZWN1cnNpbmcgaWYgcG9zc2libGUuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3luYyA9IHRydWU7XG5cbiAgICB3aGlsZSAoIWlzRG9uZSAmJiBjdXJyZW50VHVybiA8IHR1cm5zICYmIGhhc05leHQpIHtcbiAgICAgIGhhc05leHQgPSBmYWxzZTtcbiAgICAgIHdvcmsuY2FsbCh0aGlzLCBjdXJyZW50VHVybisrLCBuZXh0LCBkb25lKTtcbiAgICB9XG5cbiAgICBzeW5jID0gZmFsc2U7XG5cbiAgICBpZiAoaXNEb25lKSB7XG4gICAgICAvLyBUaGlzIG1lYW5zIHRoZSBsb29wIGZpbmlzaGVkIHN5bmNocm9ub3VzbHkuXG4gICAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBkb25lQXJncyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnRUdXJuID49IHR1cm5zICYmIGhhc05leHQpIHtcbiAgICAgIGlzRG9uZSA9IHRydWU7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfVxuXG4gIG5leHQoKTtcbn1cblxuZnVuY3Rpb24gbWFwQXN5bmMoYXJyYXksIHdvcmssIGNhbGxiYWNrKSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHZhciB2YWx1ZXMgPSBbXTtcblxuICBpZiAobGVuZ3RoID09PSAwKSByZXR1cm4gY2FsbGJhY2sobnVsbCwgdmFsdWVzKTtcblxuICB2YXIgaXNEb25lID0gZmFsc2UsXG4gICAgICBkb25lQ291bnQgPSAwO1xuXG4gIGZ1bmN0aW9uIGRvbmUoaW5kZXgsIGVycm9yLCB2YWx1ZSkge1xuICAgIGlmIChpc0RvbmUpIHJldHVybjtcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgaXNEb25lID0gdHJ1ZTtcbiAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWVzW2luZGV4XSA9IHZhbHVlO1xuXG4gICAgICBpc0RvbmUgPSArK2RvbmVDb3VudCA9PT0gbGVuZ3RoO1xuXG4gICAgICBpZiAoaXNEb25lKSBjYWxsYmFjayhudWxsLCB2YWx1ZXMpO1xuICAgIH1cbiAgfVxuXG4gIGFycmF5LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgd29yayhpdGVtLCBpbmRleCwgZnVuY3Rpb24gKGVycm9yLCB2YWx1ZSkge1xuICAgICAgZG9uZShpbmRleCwgZXJyb3IsIHZhbHVlKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvQXN5bmNVdGlscy5qc1xuLy8gbW9kdWxlIGlkID0gMzJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5yb3V0ZXIgPSBleHBvcnRzLnJvdXRlcyA9IGV4cG9ydHMucm91dGUgPSBleHBvcnRzLmNvbXBvbmVudHMgPSBleHBvcnRzLmNvbXBvbmVudCA9IGV4cG9ydHMubG9jYXRpb24gPSBleHBvcnRzLmhpc3RvcnkgPSBleHBvcnRzLmZhbHN5ID0gZXhwb3J0cy5sb2NhdGlvblNoYXBlID0gZXhwb3J0cy5yb3V0ZXJTaGFwZSA9IHVuZGVmaW5lZDtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllcyA9IHJlcXVpcmUoJy4vZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllcycpO1xuXG52YXIgX2RlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllcyk7XG5cbnZhciBfSW50ZXJuYWxQcm9wVHlwZXMgPSByZXF1aXJlKCcuL0ludGVybmFsUHJvcFR5cGVzJyk7XG5cbnZhciBJbnRlcm5hbFByb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9JbnRlcm5hbFByb3BUeXBlcyk7XG5cbnZhciBfcm91dGVyV2FybmluZyA9IHJlcXVpcmUoJy4vcm91dGVyV2FybmluZycpO1xuXG52YXIgX3JvdXRlcldhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm91dGVyV2FybmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBmdW5jID0gX3JlYWN0LlByb3BUeXBlcy5mdW5jO1xudmFyIG9iamVjdCA9IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0O1xudmFyIHNoYXBlID0gX3JlYWN0LlByb3BUeXBlcy5zaGFwZTtcbnZhciBzdHJpbmcgPSBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZztcbnZhciByb3V0ZXJTaGFwZSA9IGV4cG9ydHMucm91dGVyU2hhcGUgPSBzaGFwZSh7XG4gIHB1c2g6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgcmVwbGFjZTogZnVuYy5pc1JlcXVpcmVkLFxuICBnbzogZnVuYy5pc1JlcXVpcmVkLFxuICBnb0JhY2s6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgZ29Gb3J3YXJkOiBmdW5jLmlzUmVxdWlyZWQsXG4gIHNldFJvdXRlTGVhdmVIb29rOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGlzQWN0aXZlOiBmdW5jLmlzUmVxdWlyZWRcbn0pO1xuXG52YXIgbG9jYXRpb25TaGFwZSA9IGV4cG9ydHMubG9jYXRpb25TaGFwZSA9IHNoYXBlKHtcbiAgcGF0aG5hbWU6IHN0cmluZy5pc1JlcXVpcmVkLFxuICBzZWFyY2g6IHN0cmluZy5pc1JlcXVpcmVkLFxuICBzdGF0ZTogb2JqZWN0LFxuICBhY3Rpb246IHN0cmluZy5pc1JlcXVpcmVkLFxuICBrZXk6IHN0cmluZ1xufSk7XG5cbi8vIERlcHJlY2F0ZWQgc3R1ZmYgYmVsb3c6XG5cbnZhciBmYWxzeSA9IGV4cG9ydHMuZmFsc3kgPSBJbnRlcm5hbFByb3BUeXBlcy5mYWxzeTtcbnZhciBoaXN0b3J5ID0gZXhwb3J0cy5oaXN0b3J5ID0gSW50ZXJuYWxQcm9wVHlwZXMuaGlzdG9yeTtcbnZhciBsb2NhdGlvbiA9IGV4cG9ydHMubG9jYXRpb24gPSBsb2NhdGlvblNoYXBlO1xudmFyIGNvbXBvbmVudCA9IGV4cG9ydHMuY29tcG9uZW50ID0gSW50ZXJuYWxQcm9wVHlwZXMuY29tcG9uZW50O1xudmFyIGNvbXBvbmVudHMgPSBleHBvcnRzLmNvbXBvbmVudHMgPSBJbnRlcm5hbFByb3BUeXBlcy5jb21wb25lbnRzO1xudmFyIHJvdXRlID0gZXhwb3J0cy5yb3V0ZSA9IEludGVybmFsUHJvcFR5cGVzLnJvdXRlO1xudmFyIHJvdXRlcyA9IGV4cG9ydHMucm91dGVzID0gSW50ZXJuYWxQcm9wVHlwZXMucm91dGVzO1xudmFyIHJvdXRlciA9IGV4cG9ydHMucm91dGVyID0gcm91dGVyU2hhcGU7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRlcHJlY2F0ZVByb3BUeXBlID0gZnVuY3Rpb24gZGVwcmVjYXRlUHJvcFR5cGUocHJvcFR5cGUsIG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKGZhbHNlLCBtZXNzYWdlKSA6IHZvaWQgMDtcbiAgICAgICAgcmV0dXJuIHByb3BUeXBlLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBkZXByZWNhdGVJbnRlcm5hbFByb3BUeXBlID0gZnVuY3Rpb24gZGVwcmVjYXRlSW50ZXJuYWxQcm9wVHlwZShwcm9wVHlwZSkge1xuICAgICAgcmV0dXJuIGRlcHJlY2F0ZVByb3BUeXBlKHByb3BUeXBlLCAnVGhpcyBwcm9wIHR5cGUgaXMgbm90IGludGVuZGVkIGZvciBleHRlcm5hbCB1c2UsIGFuZCB3YXMgcHJldmlvdXNseSBleHBvcnRlZCBieSBtaXN0YWtlLiBUaGVzZSBpbnRlcm5hbCBwcm9wIHR5cGVzIGFyZSBkZXByZWNhdGVkIGZvciBleHRlcm5hbCB1c2UsIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBsYXRlciB2ZXJzaW9uLicpO1xuICAgIH07XG5cbiAgICB2YXIgZGVwcmVjYXRlUmVuYW1lZFByb3BUeXBlID0gZnVuY3Rpb24gZGVwcmVjYXRlUmVuYW1lZFByb3BUeXBlKHByb3BUeXBlLCBuYW1lKSB7XG4gICAgICByZXR1cm4gZGVwcmVjYXRlUHJvcFR5cGUocHJvcFR5cGUsICdUaGUgYCcgKyBuYW1lICsgJ2AgcHJvcCB0eXBlIGlzIG5vdyBleHBvcnRlZCBhcyBgJyArIG5hbWUgKyAnU2hhcGVgIHRvIGF2b2lkIG5hbWUgY29uZmxpY3RzLiBUaGlzIGV4cG9ydCBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBsYXRlciB2ZXJzaW9uLicpO1xuICAgIH07XG5cbiAgICBleHBvcnRzLmZhbHN5ID0gZmFsc3kgPSBkZXByZWNhdGVJbnRlcm5hbFByb3BUeXBlKGZhbHN5KTtcbiAgICBleHBvcnRzLmhpc3RvcnkgPSBoaXN0b3J5ID0gZGVwcmVjYXRlSW50ZXJuYWxQcm9wVHlwZShoaXN0b3J5KTtcbiAgICBleHBvcnRzLmNvbXBvbmVudCA9IGNvbXBvbmVudCA9IGRlcHJlY2F0ZUludGVybmFsUHJvcFR5cGUoY29tcG9uZW50KTtcbiAgICBleHBvcnRzLmNvbXBvbmVudHMgPSBjb21wb25lbnRzID0gZGVwcmVjYXRlSW50ZXJuYWxQcm9wVHlwZShjb21wb25lbnRzKTtcbiAgICBleHBvcnRzLnJvdXRlID0gcm91dGUgPSBkZXByZWNhdGVJbnRlcm5hbFByb3BUeXBlKHJvdXRlKTtcbiAgICBleHBvcnRzLnJvdXRlcyA9IHJvdXRlcyA9IGRlcHJlY2F0ZUludGVybmFsUHJvcFR5cGUocm91dGVzKTtcblxuICAgIGV4cG9ydHMubG9jYXRpb24gPSBsb2NhdGlvbiA9IGRlcHJlY2F0ZVJlbmFtZWRQcm9wVHlwZShsb2NhdGlvbiwgJ2xvY2F0aW9uJyk7XG4gICAgZXhwb3J0cy5yb3V0ZXIgPSByb3V0ZXIgPSBkZXByZWNhdGVSZW5hbWVkUHJvcFR5cGUocm91dGVyLCAncm91dGVyJyk7XG4gIH0pKCk7XG59XG5cbnZhciBkZWZhdWx0RXhwb3J0ID0ge1xuICBmYWxzeTogZmFsc3ksXG4gIGhpc3Rvcnk6IGhpc3RvcnksXG4gIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgY29tcG9uZW50OiBjb21wb25lbnQsXG4gIGNvbXBvbmVudHM6IGNvbXBvbmVudHMsXG4gIHJvdXRlOiByb3V0ZSxcbiAgLy8gRm9yIHNvbWUgcmVhc29uLCByb3V0ZXMgd2FzIG5ldmVyIGhlcmUuXG4gIHJvdXRlcjogcm91dGVyXG59O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBkZWZhdWx0RXhwb3J0ID0gKDAsIF9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzMi5kZWZhdWx0KShkZWZhdWx0RXhwb3J0LCAnVGhlIGRlZmF1bHQgZXhwb3J0IGZyb20gYHJlYWN0LXJvdXRlci9saWIvUHJvcFR5cGVzYCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHRoZSBuYW1lZCBleHBvcnRzIGluc3RlYWQuJyk7XG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGRlZmF1bHRFeHBvcnQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvUHJvcFR5cGVzLmpzXG4vLyBtb2R1bGUgaWQgPSAzM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyO1xuXG52YXIgX3JvdXRlcldhcm5pbmcgPSByZXF1aXJlKCcuL3JvdXRlcldhcm5pbmcnKTtcblxudmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXG52YXIgX2NvbXB1dGVDaGFuZ2VkUm91dGVzMiA9IHJlcXVpcmUoJy4vY29tcHV0ZUNoYW5nZWRSb3V0ZXMnKTtcblxudmFyIF9jb21wdXRlQ2hhbmdlZFJvdXRlczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21wdXRlQ2hhbmdlZFJvdXRlczIpO1xuXG52YXIgX1RyYW5zaXRpb25VdGlscyA9IHJlcXVpcmUoJy4vVHJhbnNpdGlvblV0aWxzJyk7XG5cbnZhciBfaXNBY3RpdmUyID0gcmVxdWlyZSgnLi9pc0FjdGl2ZScpO1xuXG52YXIgX2lzQWN0aXZlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzQWN0aXZlMik7XG5cbnZhciBfZ2V0Q29tcG9uZW50cyA9IHJlcXVpcmUoJy4vZ2V0Q29tcG9uZW50cycpO1xuXG52YXIgX2dldENvbXBvbmVudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0Q29tcG9uZW50cyk7XG5cbnZhciBfbWF0Y2hSb3V0ZXMgPSByZXF1aXJlKCcuL21hdGNoUm91dGVzJyk7XG5cbnZhciBfbWF0Y2hSb3V0ZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWF0Y2hSb3V0ZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBoYXNBbnlQcm9wZXJ0aWVzKG9iamVjdCkge1xuICBmb3IgKHZhciBwIGluIG9iamVjdCkge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwKSkgcmV0dXJuIHRydWU7XG4gIH1yZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKGhpc3RvcnksIHJvdXRlcykge1xuICB2YXIgc3RhdGUgPSB7fTtcblxuICAvLyBTaWduYXR1cmUgc2hvdWxkIGJlIChsb2NhdGlvbiwgaW5kZXhPbmx5KSwgYnV0IG5lZWRzIHRvIHN1cHBvcnQgKHBhdGgsXG4gIC8vIHF1ZXJ5LCBpbmRleE9ubHkpXG4gIGZ1bmN0aW9uIGlzQWN0aXZlKGxvY2F0aW9uKSB7XG4gICAgdmFyIGluZGV4T25seU9yRGVwcmVjYXRlZFF1ZXJ5ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbMV07XG4gICAgdmFyIGRlcHJlY2F0ZWRJbmRleE9ubHkgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzJdO1xuXG4gICAgdmFyIGluZGV4T25seSA9IHZvaWQgMDtcbiAgICBpZiAoaW5kZXhPbmx5T3JEZXByZWNhdGVkUXVlcnkgJiYgaW5kZXhPbmx5T3JEZXByZWNhdGVkUXVlcnkgIT09IHRydWUgfHwgZGVwcmVjYXRlZEluZGV4T25seSAhPT0gbnVsbCkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdgaXNBY3RpdmUocGF0aG5hbWUsIHF1ZXJ5LCBpbmRleE9ubHkpIGlzIGRlcHJlY2F0ZWQ7IHVzZSBgaXNBY3RpdmUobG9jYXRpb24sIGluZGV4T25seSlgIHdpdGggYSBsb2NhdGlvbiBkZXNjcmlwdG9yIGluc3RlYWQuIGh0dHA6Ly90aW55LmNjL3JvdXRlci1pc0FjdGl2ZWRlcHJlY2F0ZWQnKSA6IHZvaWQgMDtcbiAgICAgIGxvY2F0aW9uID0geyBwYXRobmFtZTogbG9jYXRpb24sIHF1ZXJ5OiBpbmRleE9ubHlPckRlcHJlY2F0ZWRRdWVyeSB9O1xuICAgICAgaW5kZXhPbmx5ID0gZGVwcmVjYXRlZEluZGV4T25seSB8fCBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYXRpb24gPSBoaXN0b3J5LmNyZWF0ZUxvY2F0aW9uKGxvY2F0aW9uKTtcbiAgICAgIGluZGV4T25seSA9IGluZGV4T25seU9yRGVwcmVjYXRlZFF1ZXJ5O1xuICAgIH1cblxuICAgIHJldHVybiAoMCwgX2lzQWN0aXZlMy5kZWZhdWx0KShsb2NhdGlvbiwgaW5kZXhPbmx5LCBzdGF0ZS5sb2NhdGlvbiwgc3RhdGUucm91dGVzLCBzdGF0ZS5wYXJhbXMpO1xuICB9XG5cbiAgdmFyIHBhcnRpYWxOZXh0U3RhdGUgPSB2b2lkIDA7XG5cbiAgZnVuY3Rpb24gbWF0Y2gobG9jYXRpb24sIGNhbGxiYWNrKSB7XG4gICAgaWYgKHBhcnRpYWxOZXh0U3RhdGUgJiYgcGFydGlhbE5leHRTdGF0ZS5sb2NhdGlvbiA9PT0gbG9jYXRpb24pIHtcbiAgICAgIC8vIENvbnRpbnVlIGZyb20gd2hlcmUgd2UgbGVmdCBvZmYuXG4gICAgICBmaW5pc2hNYXRjaChwYXJ0aWFsTmV4dFN0YXRlLCBjYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgICgwLCBfbWF0Y2hSb3V0ZXMyLmRlZmF1bHQpKHJvdXRlcywgbG9jYXRpb24sIGZ1bmN0aW9uIChlcnJvciwgbmV4dFN0YXRlKSB7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgfSBlbHNlIGlmIChuZXh0U3RhdGUpIHtcbiAgICAgICAgICBmaW5pc2hNYXRjaChfZXh0ZW5kcyh7fSwgbmV4dFN0YXRlLCB7IGxvY2F0aW9uOiBsb2NhdGlvbiB9KSwgY2FsbGJhY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaE1hdGNoKG5leHRTdGF0ZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgX2NvbXB1dGVDaGFuZ2VkUm91dGVzID0gKDAsIF9jb21wdXRlQ2hhbmdlZFJvdXRlczMuZGVmYXVsdCkoc3RhdGUsIG5leHRTdGF0ZSk7XG5cbiAgICB2YXIgbGVhdmVSb3V0ZXMgPSBfY29tcHV0ZUNoYW5nZWRSb3V0ZXMubGVhdmVSb3V0ZXM7XG4gICAgdmFyIGNoYW5nZVJvdXRlcyA9IF9jb21wdXRlQ2hhbmdlZFJvdXRlcy5jaGFuZ2VSb3V0ZXM7XG4gICAgdmFyIGVudGVyUm91dGVzID0gX2NvbXB1dGVDaGFuZ2VkUm91dGVzLmVudGVyUm91dGVzO1xuXG5cbiAgICAoMCwgX1RyYW5zaXRpb25VdGlscy5ydW5MZWF2ZUhvb2tzKShsZWF2ZVJvdXRlcywgc3RhdGUpO1xuXG4gICAgLy8gVGVhciBkb3duIGNvbmZpcm1hdGlvbiBob29rcyBmb3IgbGVmdCByb3V0ZXNcbiAgICBsZWF2ZVJvdXRlcy5maWx0ZXIoZnVuY3Rpb24gKHJvdXRlKSB7XG4gICAgICByZXR1cm4gZW50ZXJSb3V0ZXMuaW5kZXhPZihyb3V0ZSkgPT09IC0xO1xuICAgIH0pLmZvckVhY2gocmVtb3ZlTGlzdGVuQmVmb3JlSG9va3NGb3JSb3V0ZSk7XG5cbiAgICAvLyBjaGFuZ2UgYW5kIGVudGVyIGhvb2tzIGFyZSBydW4gaW4gc2VyaWVzXG4gICAgKDAsIF9UcmFuc2l0aW9uVXRpbHMucnVuQ2hhbmdlSG9va3MpKGNoYW5nZVJvdXRlcywgc3RhdGUsIG5leHRTdGF0ZSwgZnVuY3Rpb24gKGVycm9yLCByZWRpcmVjdEluZm8pIHtcbiAgICAgIGlmIChlcnJvciB8fCByZWRpcmVjdEluZm8pIHJldHVybiBoYW5kbGVFcnJvck9yUmVkaXJlY3QoZXJyb3IsIHJlZGlyZWN0SW5mbyk7XG5cbiAgICAgICgwLCBfVHJhbnNpdGlvblV0aWxzLnJ1bkVudGVySG9va3MpKGVudGVyUm91dGVzLCBuZXh0U3RhdGUsIGZpbmlzaEVudGVySG9va3MpO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gZmluaXNoRW50ZXJIb29rcyhlcnJvciwgcmVkaXJlY3RJbmZvKSB7XG4gICAgICBpZiAoZXJyb3IgfHwgcmVkaXJlY3RJbmZvKSByZXR1cm4gaGFuZGxlRXJyb3JPclJlZGlyZWN0KGVycm9yLCByZWRpcmVjdEluZm8pO1xuXG4gICAgICAvLyBUT0RPOiBGZXRjaCBjb21wb25lbnRzIGFmdGVyIHN0YXRlIGlzIHVwZGF0ZWQuXG4gICAgICAoMCwgX2dldENvbXBvbmVudHMyLmRlZmF1bHQpKG5leHRTdGF0ZSwgZnVuY3Rpb24gKGVycm9yLCBjb21wb25lbnRzKSB7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBUT0RPOiBNYWtlIG1hdGNoIGEgcHVyZSBmdW5jdGlvbiBhbmQgaGF2ZSBzb21lIG90aGVyIEFQSVxuICAgICAgICAgIC8vIGZvciBcIm1hdGNoIGFuZCB1cGRhdGUgc3RhdGVcIi5cbiAgICAgICAgICBjYWxsYmFjayhudWxsLCBudWxsLCBzdGF0ZSA9IF9leHRlbmRzKHt9LCBuZXh0U3RhdGUsIHsgY29tcG9uZW50czogY29tcG9uZW50cyB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZUVycm9yT3JSZWRpcmVjdChlcnJvciwgcmVkaXJlY3RJbmZvKSB7XG4gICAgICBpZiAoZXJyb3IpIGNhbGxiYWNrKGVycm9yKTtlbHNlIGNhbGxiYWNrKG51bGwsIHJlZGlyZWN0SW5mbyk7XG4gICAgfVxuICB9XG5cbiAgdmFyIFJvdXRlR3VpZCA9IDE7XG5cbiAgZnVuY3Rpb24gZ2V0Um91dGVJRChyb3V0ZSkge1xuICAgIHZhciBjcmVhdGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB0cnVlIDogYXJndW1lbnRzWzFdO1xuXG4gICAgcmV0dXJuIHJvdXRlLl9faWRfXyB8fCBjcmVhdGUgJiYgKHJvdXRlLl9faWRfXyA9IFJvdXRlR3VpZCsrKTtcbiAgfVxuXG4gIHZhciBSb3V0ZUhvb2tzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICBmdW5jdGlvbiBnZXRSb3V0ZUhvb2tzRm9yUm91dGVzKHJvdXRlcykge1xuICAgIHJldHVybiByb3V0ZXMucmVkdWNlKGZ1bmN0aW9uIChob29rcywgcm91dGUpIHtcbiAgICAgIGhvb2tzLnB1c2guYXBwbHkoaG9va3MsIFJvdXRlSG9va3NbZ2V0Um91dGVJRChyb3V0ZSldKTtcbiAgICAgIHJldHVybiBob29rcztcbiAgICB9LCBbXSk7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFuc2l0aW9uSG9vayhsb2NhdGlvbiwgY2FsbGJhY2spIHtcbiAgICAoMCwgX21hdGNoUm91dGVzMi5kZWZhdWx0KShyb3V0ZXMsIGxvY2F0aW9uLCBmdW5jdGlvbiAoZXJyb3IsIG5leHRTdGF0ZSkge1xuICAgICAgaWYgKG5leHRTdGF0ZSA9PSBudWxsKSB7XG4gICAgICAgIC8vIFRPRE86IFdlIGRpZG4ndCBhY3R1YWxseSBtYXRjaCBhbnl0aGluZywgYnV0IGhhbmdcbiAgICAgICAgLy8gb250byBlcnJvci9uZXh0U3RhdGUgc28gd2UgZG9uJ3QgaGF2ZSB0byBtYXRjaFJvdXRlc1xuICAgICAgICAvLyBhZ2FpbiBpbiB0aGUgbGlzdGVuIGNhbGxiYWNrLlxuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIENhY2hlIHNvbWUgc3RhdGUgaGVyZSBzbyB3ZSBkb24ndCBoYXZlIHRvXG4gICAgICAvLyBtYXRjaFJvdXRlcygpIGFnYWluIGluIHRoZSBsaXN0ZW4gY2FsbGJhY2suXG4gICAgICBwYXJ0aWFsTmV4dFN0YXRlID0gX2V4dGVuZHMoe30sIG5leHRTdGF0ZSwgeyBsb2NhdGlvbjogbG9jYXRpb24gfSk7XG5cbiAgICAgIHZhciBob29rcyA9IGdldFJvdXRlSG9va3NGb3JSb3V0ZXMoKDAsIF9jb21wdXRlQ2hhbmdlZFJvdXRlczMuZGVmYXVsdCkoc3RhdGUsIHBhcnRpYWxOZXh0U3RhdGUpLmxlYXZlUm91dGVzKTtcblxuICAgICAgdmFyIHJlc3VsdCA9IHZvaWQgMDtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBob29rcy5sZW5ndGg7IHJlc3VsdCA9PSBudWxsICYmIGkgPCBsZW47ICsraSkge1xuICAgICAgICAvLyBQYXNzaW5nIHRoZSBsb2NhdGlvbiBhcmcgaGVyZSBpbmRpY2F0ZXMgdG9cbiAgICAgICAgLy8gdGhlIHVzZXIgdGhhdCB0aGlzIGlzIGEgdHJhbnNpdGlvbiBob29rLlxuICAgICAgICByZXN1bHQgPSBob29rc1tpXShsb2NhdGlvbik7XG4gICAgICB9XG5cbiAgICAgIGNhbGxiYWNrKHJlc3VsdCk7XG4gICAgfSk7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogdW50ZXN0YWJsZSB3aXRoIEthcm1hICovXG4gIGZ1bmN0aW9uIGJlZm9yZVVubG9hZEhvb2soKSB7XG4gICAgLy8gU3luY2hyb25vdXNseSBjaGVjayB0byBzZWUgaWYgYW55IHJvdXRlIGhvb2tzIHdhbnRcbiAgICAvLyB0byBwcmV2ZW50IHRoZSBjdXJyZW50IHdpbmRvdy90YWIgZnJvbSBjbG9zaW5nLlxuICAgIGlmIChzdGF0ZS5yb3V0ZXMpIHtcbiAgICAgIHZhciBob29rcyA9IGdldFJvdXRlSG9va3NGb3JSb3V0ZXMoc3RhdGUucm91dGVzKTtcblxuICAgICAgdmFyIG1lc3NhZ2UgPSB2b2lkIDA7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gaG9va3MubGVuZ3RoOyB0eXBlb2YgbWVzc2FnZSAhPT0gJ3N0cmluZycgJiYgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIC8vIFBhc3Npbmcgbm8gYXJncyBpbmRpY2F0ZXMgdG8gdGhlIHVzZXIgdGhhdCB0aGlzIGlzIGFcbiAgICAgICAgLy8gYmVmb3JldW5sb2FkIGhvb2suIFdlIGRvbid0IGtub3cgdGhlIG5leHQgbG9jYXRpb24uXG4gICAgICAgIG1lc3NhZ2UgPSBob29rc1tpXSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gIH1cblxuICB2YXIgdW5saXN0ZW5CZWZvcmUgPSB2b2lkIDAsXG4gICAgICB1bmxpc3RlbkJlZm9yZVVubG9hZCA9IHZvaWQgMDtcblxuICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5CZWZvcmVIb29rc0ZvclJvdXRlKHJvdXRlKSB7XG4gICAgdmFyIHJvdXRlSUQgPSBnZXRSb3V0ZUlEKHJvdXRlLCBmYWxzZSk7XG4gICAgaWYgKCFyb3V0ZUlEKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGVsZXRlIFJvdXRlSG9va3Nbcm91dGVJRF07XG5cbiAgICBpZiAoIWhhc0FueVByb3BlcnRpZXMoUm91dGVIb29rcykpIHtcbiAgICAgIC8vIHRlYXJkb3duIHRyYW5zaXRpb24gJiBiZWZvcmV1bmxvYWQgaG9va3NcbiAgICAgIGlmICh1bmxpc3RlbkJlZm9yZSkge1xuICAgICAgICB1bmxpc3RlbkJlZm9yZSgpO1xuICAgICAgICB1bmxpc3RlbkJlZm9yZSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICh1bmxpc3RlbkJlZm9yZVVubG9hZCkge1xuICAgICAgICB1bmxpc3RlbkJlZm9yZVVubG9hZCgpO1xuICAgICAgICB1bmxpc3RlbkJlZm9yZVVubG9hZCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyB0aGUgZ2l2ZW4gaG9vayBmdW5jdGlvbiB0byBydW4gYmVmb3JlIGxlYXZpbmcgdGhlIGdpdmVuIHJvdXRlLlxuICAgKlxuICAgKiBEdXJpbmcgYSBub3JtYWwgdHJhbnNpdGlvbiwgdGhlIGhvb2sgZnVuY3Rpb24gcmVjZWl2ZXMgdGhlIG5leHQgbG9jYXRpb25cbiAgICogYXMgaXRzIG9ubHkgYXJndW1lbnQgYW5kIGNhbiByZXR1cm4gZWl0aGVyIGEgcHJvbXB0IG1lc3NhZ2UgKHN0cmluZykgdG8gc2hvdyB0aGUgdXNlcixcbiAgICogdG8gbWFrZSBzdXJlIHRoZXkgd2FudCB0byBsZWF2ZSB0aGUgcGFnZTsgb3IgYGZhbHNlYCwgdG8gcHJldmVudCB0aGUgdHJhbnNpdGlvbi5cbiAgICogQW55IG90aGVyIHJldHVybiB2YWx1ZSB3aWxsIGhhdmUgbm8gZWZmZWN0LlxuICAgKlxuICAgKiBEdXJpbmcgdGhlIGJlZm9yZXVubG9hZCBldmVudCAoaW4gYnJvd3NlcnMpIHRoZSBob29rIHJlY2VpdmVzIG5vIGFyZ3VtZW50cy5cbiAgICogSW4gdGhpcyBjYXNlIGl0IG11c3QgcmV0dXJuIGEgcHJvbXB0IG1lc3NhZ2UgdG8gcHJldmVudCB0aGUgdHJhbnNpdGlvbi5cbiAgICpcbiAgICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgbWF5IGJlIHVzZWQgdG8gdW5iaW5kIHRoZSBsaXN0ZW5lci5cbiAgICovXG4gIGZ1bmN0aW9uIGxpc3RlbkJlZm9yZUxlYXZpbmdSb3V0ZShyb3V0ZSwgaG9vaykge1xuICAgIC8vIFRPRE86IFdhcm4gaWYgdGhleSByZWdpc3RlciBmb3IgYSByb3V0ZSB0aGF0IGlzbid0IGN1cnJlbnRseVxuICAgIC8vIGFjdGl2ZS4gVGhleSdyZSBwcm9iYWJseSBkb2luZyBzb21ldGhpbmcgd3JvbmcsIGxpa2UgcmUtY3JlYXRpbmdcbiAgICAvLyByb3V0ZSBvYmplY3RzIG9uIGV2ZXJ5IGxvY2F0aW9uIGNoYW5nZS5cbiAgICB2YXIgcm91dGVJRCA9IGdldFJvdXRlSUQocm91dGUpO1xuICAgIHZhciBob29rcyA9IFJvdXRlSG9va3Nbcm91dGVJRF07XG5cbiAgICBpZiAoIWhvb2tzKSB7XG4gICAgICB2YXIgdGhlcmVXZXJlTm9Sb3V0ZUhvb2tzID0gIWhhc0FueVByb3BlcnRpZXMoUm91dGVIb29rcyk7XG5cbiAgICAgIFJvdXRlSG9va3Nbcm91dGVJRF0gPSBbaG9va107XG5cbiAgICAgIGlmICh0aGVyZVdlcmVOb1JvdXRlSG9va3MpIHtcbiAgICAgICAgLy8gc2V0dXAgdHJhbnNpdGlvbiAmIGJlZm9yZXVubG9hZCBob29rc1xuICAgICAgICB1bmxpc3RlbkJlZm9yZSA9IGhpc3RvcnkubGlzdGVuQmVmb3JlKHRyYW5zaXRpb25Ib29rKTtcblxuICAgICAgICBpZiAoaGlzdG9yeS5saXN0ZW5CZWZvcmVVbmxvYWQpIHVubGlzdGVuQmVmb3JlVW5sb2FkID0gaGlzdG9yeS5saXN0ZW5CZWZvcmVVbmxvYWQoYmVmb3JlVW5sb2FkSG9vayk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChob29rcy5pbmRleE9mKGhvb2spID09PSAtMSkge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ2FkZGluZyBtdWx0aXBsZSBsZWF2ZSBob29rcyBmb3IgdGhlIHNhbWUgcm91dGUgaXMgZGVwcmVjYXRlZDsgbWFuYWdlIG11bHRpcGxlIGNvbmZpcm1hdGlvbnMgaW4geW91ciBvd24gY29kZSBpbnN0ZWFkJykgOiB2b2lkIDA7XG5cbiAgICAgICAgaG9va3MucHVzaChob29rKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGhvb2tzID0gUm91dGVIb29rc1tyb3V0ZUlEXTtcblxuICAgICAgaWYgKGhvb2tzKSB7XG4gICAgICAgIHZhciBuZXdIb29rcyA9IGhvb2tzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIHJldHVybiBpdGVtICE9PSBob29rO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAobmV3SG9va3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcmVtb3ZlTGlzdGVuQmVmb3JlSG9va3NGb3JSb3V0ZShyb3V0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgUm91dGVIb29rc1tyb3V0ZUlEXSA9IG5ld0hvb2tzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHRoZSBBUEkgZm9yIHN0YXRlZnVsIGVudmlyb25tZW50cy4gQXMgdGhlIGxvY2F0aW9uXG4gICAqIGNoYW5nZXMsIHdlIHVwZGF0ZSBzdGF0ZSBhbmQgY2FsbCB0aGUgbGlzdGVuZXIuIFdlIGNhbiBhbHNvXG4gICAqIGdyYWNlZnVsbHkgaGFuZGxlIGVycm9ycyBhbmQgcmVkaXJlY3RzLlxuICAgKi9cbiAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgLy8gVE9ETzogT25seSB1c2UgYSBzaW5nbGUgaGlzdG9yeSBsaXN0ZW5lci4gT3RoZXJ3aXNlIHdlJ2xsXG4gICAgLy8gZW5kIHVwIHdpdGggbXVsdGlwbGUgY29uY3VycmVudCBjYWxscyB0byBtYXRjaC5cbiAgICByZXR1cm4gaGlzdG9yeS5saXN0ZW4oZnVuY3Rpb24gKGxvY2F0aW9uKSB7XG4gICAgICBpZiAoc3RhdGUubG9jYXRpb24gPT09IGxvY2F0aW9uKSB7XG4gICAgICAgIGxpc3RlbmVyKG51bGwsIHN0YXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hdGNoKGxvY2F0aW9uLCBmdW5jdGlvbiAoZXJyb3IsIHJlZGlyZWN0TG9jYXRpb24sIG5leHRTdGF0ZSkge1xuICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgbGlzdGVuZXIoZXJyb3IpO1xuICAgICAgICAgIH0gZWxzZSBpZiAocmVkaXJlY3RMb2NhdGlvbikge1xuICAgICAgICAgICAgaGlzdG9yeS5yZXBsYWNlKHJlZGlyZWN0TG9jYXRpb24pO1xuICAgICAgICAgIH0gZWxzZSBpZiAobmV4dFN0YXRlKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcihudWxsLCBuZXh0U3RhdGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ0xvY2F0aW9uIFwiJXNcIiBkaWQgbm90IG1hdGNoIGFueSByb3V0ZXMnLCBsb2NhdGlvbi5wYXRobmFtZSArIGxvY2F0aW9uLnNlYXJjaCArIGxvY2F0aW9uLmhhc2gpIDogdm9pZCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGlzQWN0aXZlOiBpc0FjdGl2ZSxcbiAgICBtYXRjaDogbWF0Y2gsXG4gICAgbGlzdGVuQmVmb3JlTGVhdmluZ1JvdXRlOiBsaXN0ZW5CZWZvcmVMZWF2aW5nUm91dGUsXG4gICAgbGlzdGVuOiBsaXN0ZW5cbiAgfTtcbn1cblxuLy9leHBvcnQgZGVmYXVsdCB1c2VSb3V0ZXNcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIuanNcbi8vIG1vZHVsZSBpZCA9IDM0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuUmVkdXg9ZSgpOnQuUmVkdXg9ZSgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7aWYobltyXSlyZXR1cm4gbltyXS5leHBvcnRzO3ZhciBvPW5bcl09e2V4cG9ydHM6e30saWQ6cixsb2FkZWQ6ITF9O3JldHVybiB0W3JdLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLGUpLG8ubG9hZGVkPSEwLG8uZXhwb3J0c312YXIgbj17fTtyZXR1cm4gZS5tPXQsZS5jPW4sZS5wPVwiXCIsZSgwKX0oW2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZS5fX2VzTW9kdWxlPSEwLGUuY29tcG9zZT1lLmFwcGx5TWlkZGxld2FyZT1lLmJpbmRBY3Rpb25DcmVhdG9ycz1lLmNvbWJpbmVSZWR1Y2Vycz1lLmNyZWF0ZVN0b3JlPXZvaWQgMDt2YXIgbz1uKDIpLHU9cihvKSxpPW4oNyksYz1yKGkpLGE9big2KSxmPXIoYSkscz1uKDUpLGQ9cihzKSxsPW4oMSkscD1yKGwpLHk9bigzKTtyKHkpO2UuY3JlYXRlU3RvcmU9dVtcImRlZmF1bHRcIl0sZS5jb21iaW5lUmVkdWNlcnM9Y1tcImRlZmF1bHRcIl0sZS5iaW5kQWN0aW9uQ3JlYXRvcnM9ZltcImRlZmF1bHRcIl0sZS5hcHBseU1pZGRsZXdhcmU9ZFtcImRlZmF1bHRcIl0sZS5jb21wb3NlPXBbXCJkZWZhdWx0XCJdfSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPUFycmF5KHQpLG49MDt0Pm47bisrKWVbbl09YXJndW1lbnRzW25dO2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHR9O2lmKDE9PT1lLmxlbmd0aClyZXR1cm4gZVswXTt2YXIgcj1lW2UubGVuZ3RoLTFdLG89ZS5zbGljZSgwLC0xKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gby5yZWR1Y2VSaWdodChmdW5jdGlvbih0LGUpe3JldHVybiBlKHQpfSxyLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpKX19ZS5fX2VzTW9kdWxlPSEwLGVbXCJkZWZhdWx0XCJdPW59LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbyh0LGUsbil7ZnVuY3Rpb24gcigpe2I9PT1oJiYoYj1oLnNsaWNlKCkpfWZ1bmN0aW9uIHUoKXtyZXR1cm4gdn1mdW5jdGlvbiBjKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgRXJyb3IoXCJFeHBlY3RlZCBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLlwiKTt2YXIgZT0hMDtyZXR1cm4gcigpLGIucHVzaCh0KSxmdW5jdGlvbigpe2lmKGUpe2U9ITEscigpO3ZhciBuPWIuaW5kZXhPZih0KTtiLnNwbGljZShuLDEpfX19ZnVuY3Rpb24gcyh0KXtpZighKDAsaVtcImRlZmF1bHRcIl0pKHQpKXRocm93IEVycm9yKFwiQWN0aW9ucyBtdXN0IGJlIHBsYWluIG9iamVjdHMuIFVzZSBjdXN0b20gbWlkZGxld2FyZSBmb3IgYXN5bmMgYWN0aW9ucy5cIik7aWYodm9pZCAwPT09dC50eXBlKXRocm93IEVycm9yKCdBY3Rpb25zIG1heSBub3QgaGF2ZSBhbiB1bmRlZmluZWQgXCJ0eXBlXCIgcHJvcGVydHkuIEhhdmUgeW91IG1pc3NwZWxsZWQgYSBjb25zdGFudD8nKTtpZihtKXRocm93IEVycm9yKFwiUmVkdWNlcnMgbWF5IG5vdCBkaXNwYXRjaCBhY3Rpb25zLlwiKTt0cnl7bT0hMCx2PXkodix0KX1maW5hbGx5e209ITF9Zm9yKHZhciBlPWg9YixuPTA7ZS5sZW5ndGg+bjtuKyspZVtuXSgpO3JldHVybiB0fWZ1bmN0aW9uIGQodCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBFcnJvcihcIkV4cGVjdGVkIHRoZSBuZXh0UmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLlwiKTt5PXQscyh7dHlwZTpmLklOSVR9KX1mdW5jdGlvbiBsKCl7dmFyIHQsZT1jO3JldHVybiB0PXtzdWJzY3JpYmU6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbigpe3QubmV4dCYmdC5uZXh0KHUoKSl9aWYoXCJvYmplY3RcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkV4cGVjdGVkIHRoZSBvYnNlcnZlciB0byBiZSBhbiBvYmplY3QuXCIpO24oKTt2YXIgcj1lKG4pO3JldHVybnt1bnN1YnNjcmliZTpyfX19LHRbYVtcImRlZmF1bHRcIl1dPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHR9dmFyIHA7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmdm9pZCAwPT09biYmKG49ZSxlPXZvaWQgMCksdm9pZCAwIT09bil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygbil0aHJvdyBFcnJvcihcIkV4cGVjdGVkIHRoZSBlbmhhbmNlciB0byBiZSBhIGZ1bmN0aW9uLlwiKTtyZXR1cm4gbihvKSh0LGUpfWlmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgRXJyb3IoXCJFeHBlY3RlZCB0aGUgcmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLlwiKTt2YXIgeT10LHY9ZSxoPVtdLGI9aCxtPSExO3JldHVybiBzKHt0eXBlOmYuSU5JVH0pLHA9e2Rpc3BhdGNoOnMsc3Vic2NyaWJlOmMsZ2V0U3RhdGU6dSxyZXBsYWNlUmVkdWNlcjpkfSxwW2FbXCJkZWZhdWx0XCJdXT1sLHB9ZS5fX2VzTW9kdWxlPSEwLGUuQWN0aW9uVHlwZXM9dm9pZCAwLGVbXCJkZWZhdWx0XCJdPW87dmFyIHU9big0KSxpPXIodSksYz1uKDEyKSxhPXIoYyksZj1lLkFjdGlvblR5cGVzPXtJTklUOlwiQEByZWR1eC9JTklUXCJ9fSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGNvbnNvbGUuZXJyb3ImJmNvbnNvbGUuZXJyb3IodCk7dHJ5e3Rocm93IEVycm9yKHQpfWNhdGNoKGUpe319ZS5fX2VzTW9kdWxlPSEwLGVbXCJkZWZhdWx0XCJdPW59LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe2lmKCFpKHQpfHxwLmNhbGwodCkhPWN8fHUodCkpcmV0dXJuITE7dmFyIGU9byh0KTtpZihudWxsPT09ZSlyZXR1cm4hMDt2YXIgbj1kLmNhbGwoZSxcImNvbnN0cnVjdG9yXCIpJiZlLmNvbnN0cnVjdG9yO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJm4gaW5zdGFuY2VvZiBuJiZzLmNhbGwobik9PWx9dmFyIG89big4KSx1PW4oOSksaT1uKDExKSxjPVwiW29iamVjdCBPYmplY3RdXCIsYT1GdW5jdGlvbi5wcm90b3R5cGUsZj1PYmplY3QucHJvdG90eXBlLHM9YS50b1N0cmluZyxkPWYuaGFzT3duUHJvcGVydHksbD1zLmNhbGwoT2JqZWN0KSxwPWYudG9TdHJpbmc7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbygpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9QXJyYXkodCksbj0wO3Q+bjtuKyspZVtuXT1hcmd1bWVudHNbbl07cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihuLHIsbyl7dmFyIGk9dChuLHIsbyksYT1pLmRpc3BhdGNoLGY9W10scz17Z2V0U3RhdGU6aS5nZXRTdGF0ZSxkaXNwYXRjaDpmdW5jdGlvbih0KXtyZXR1cm4gYSh0KX19O3JldHVybiBmPWUubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0KHMpfSksYT1jW1wiZGVmYXVsdFwiXS5hcHBseSh2b2lkIDAsZikoaS5kaXNwYXRjaCksdSh7fSxpLHtkaXNwYXRjaDphfSl9fX1lLl9fZXNNb2R1bGU9ITA7dmFyIHU9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYodFtyXT1uW3JdKX1yZXR1cm4gdH07ZVtcImRlZmF1bHRcIl09bzt2YXIgaT1uKDEpLGM9cihpKX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodC5hcHBseSh2b2lkIDAsYXJndW1lbnRzKSl9fWZ1bmN0aW9uIHIodCxlKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KXJldHVybiBuKHQsZSk7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHR8fG51bGw9PT10KXRocm93IEVycm9yKFwiYmluZEFjdGlvbkNyZWF0b3JzIGV4cGVjdGVkIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLCBpbnN0ZWFkIHJlY2VpdmVkIFwiKyhudWxsPT09dD9cIm51bGxcIjp0eXBlb2YgdCkrJy4gRGlkIHlvdSB3cml0ZSBcImltcG9ydCBBY3Rpb25DcmVhdG9ycyBmcm9tXCIgaW5zdGVhZCBvZiBcImltcG9ydCAqIGFzIEFjdGlvbkNyZWF0b3JzIGZyb21cIj8nKTtmb3IodmFyIHI9T2JqZWN0LmtleXModCksbz17fSx1PTA7ci5sZW5ndGg+dTt1Kyspe3ZhciBpPXJbdV0sYz10W2ldO1wiZnVuY3Rpb25cIj09dHlwZW9mIGMmJihvW2ldPW4oYyxlKSl9cmV0dXJuIG99ZS5fX2VzTW9kdWxlPSEwLGVbXCJkZWZhdWx0XCJdPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbyh0LGUpe3ZhciBuPWUmJmUudHlwZSxyPW4mJidcIicrbisnXCInfHxcImFuIGFjdGlvblwiO3JldHVyblwiR2l2ZW4gYWN0aW9uIFwiK3IrJywgcmVkdWNlciBcIicrdCsnXCIgcmV0dXJuZWQgdW5kZWZpbmVkLiBUbyBpZ25vcmUgYW4gYWN0aW9uLCB5b3UgbXVzdCBleHBsaWNpdGx5IHJldHVybiB0aGUgcHJldmlvdXMgc3RhdGUuJ31mdW5jdGlvbiB1KHQpe09iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG49dFtlXSxyPW4odm9pZCAwLHt0eXBlOmMuQWN0aW9uVHlwZXMuSU5JVH0pO2lmKHZvaWQgMD09PXIpdGhyb3cgRXJyb3IoJ1JlZHVjZXIgXCInK2UrJ1wiIHJldHVybmVkIHVuZGVmaW5lZCBkdXJpbmcgaW5pdGlhbGl6YXRpb24uIElmIHRoZSBzdGF0ZSBwYXNzZWQgdG8gdGhlIHJlZHVjZXIgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCBleHBsaWNpdGx5IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IG5vdCBiZSB1bmRlZmluZWQuJyk7dmFyIG89XCJAQHJlZHV4L1BST0JFX1VOS05PV05fQUNUSU9OX1wiK01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZyg3KS5zcGxpdChcIlwiKS5qb2luKFwiLlwiKTtpZih2b2lkIDA9PT1uKHZvaWQgMCx7dHlwZTpvfSkpdGhyb3cgRXJyb3IoJ1JlZHVjZXIgXCInK2UrJ1wiIHJldHVybmVkIHVuZGVmaW5lZCB3aGVuIHByb2JlZCB3aXRoIGEgcmFuZG9tIHR5cGUuICcrKFwiRG9uJ3QgdHJ5IHRvIGhhbmRsZSBcIitjLkFjdGlvblR5cGVzLklOSVQrJyBvciBvdGhlciBhY3Rpb25zIGluIFwicmVkdXgvKlwiICcpK1wibmFtZXNwYWNlLiBUaGV5IGFyZSBjb25zaWRlcmVkIHByaXZhdGUuIEluc3RlYWQsIHlvdSBtdXN0IHJldHVybiB0aGUgY3VycmVudCBzdGF0ZSBmb3IgYW55IHVua25vd24gYWN0aW9ucywgdW5sZXNzIGl0IGlzIHVuZGVmaW5lZCwgaW4gd2hpY2ggY2FzZSB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUsIHJlZ2FyZGxlc3Mgb2YgdGhlIGFjdGlvbiB0eXBlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgbm90IGJlIHVuZGVmaW5lZC5cIil9KX1mdW5jdGlvbiBpKHQpe2Zvcih2YXIgZT1PYmplY3Qua2V5cyh0KSxuPXt9LHI9MDtlLmxlbmd0aD5yO3IrKyl7dmFyIGk9ZVtyXTtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0W2ldJiYobltpXT10W2ldKX12YXIgYyxhPU9iamVjdC5rZXlzKG4pO3RyeXt1KG4pfWNhdGNoKGYpe2M9Zn1yZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT1hcmd1bWVudHNbMV07aWYoYyl0aHJvdyBjO2Zvcih2YXIgcj0hMSx1PXt9LGk9MDthLmxlbmd0aD5pO2krKyl7dmFyIGY9YVtpXSxzPW5bZl0sZD10W2ZdLGw9cyhkLGUpO2lmKHZvaWQgMD09PWwpe3ZhciBwPW8oZixlKTt0aHJvdyBFcnJvcihwKX11W2ZdPWwscj1yfHxsIT09ZH1yZXR1cm4gcj91OnR9fWUuX19lc01vZHVsZT0hMCxlW1wiZGVmYXVsdFwiXT1pO3ZhciBjPW4oMiksYT1uKDQpLGY9KHIoYSksbigzKSk7cihmKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTApLG89cihPYmplY3QuZ2V0UHJvdG90eXBlT2YsT2JqZWN0KTt0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQpe3ZhciBlPSExO2lmKG51bGwhPXQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQudG9TdHJpbmcpdHJ5e2U9ISEodCtcIlwiKX1jYXRjaChuKXt9cmV0dXJuIGV9dC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdChlKG4pKX19dC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0KXtyZXR1cm4hIXQmJlwib2JqZWN0XCI9PXR5cGVvZiB0fXQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMTMpfSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDE0KSx1PXIobyksaT12b2lkIDA7dm9pZCAwIT09dD9pPXQ6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKGk9d2luZG93KTt2YXIgYz0oMCx1W1wiZGVmYXVsdFwiXSkoaSk7ZVtcImRlZmF1bHRcIl09Y30pLmNhbGwoZSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3ZhciBlLG49dC5TeW1ib2w7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygbj9uLm9ic2VydmFibGU/ZT1uLm9ic2VydmFibGU6KGU9bihcIm9ic2VydmFibGVcIiksbi5vYnNlcnZhYmxlPWUpOmU9XCJAQG9ic2VydmFibGVcIixlfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGVbXCJkZWZhdWx0XCJdPW59XSl9KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVkdXgvZGlzdC9yZWR1eC5taW4uanNcbi8vIG1vZHVsZSBpZCA9IDM1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogQ3JlYXRlZCBieSBsaWFvamlhbmp1biBvbiAyMDE2LzcvMjcuXG4gKi9cblxuLyoqKioqKioqKioqKirnmbvpmYbnlYzpnaIqKioqKioqKioqKioqKioqKiovXG5leHBvcnQgY29uc3QgUkVRVUVTVF9MT0dJTiA9IFwiUkVRVUVTVF9MT0dJTlwiO1xuZXhwb3J0IGNvbnN0IFJFQ0VJVkVfTE9HSU4gPSBcIlJFQ0VJVkVfTE9HSU5cIjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wdWJsaWMvYXBwL2FjdGlvbnMvQWN0aW9uc1R5cGVzLmpzIiwiLyplc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5zYXZlU3RhdGUgPSBzYXZlU3RhdGU7XG5leHBvcnRzLnJlYWRTdGF0ZSA9IHJlYWRTdGF0ZTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCd3YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxudmFyIEtleVByZWZpeCA9ICdAQEhpc3RvcnkvJztcbnZhciBRdW90YUV4Y2VlZGVkRXJyb3JzID0gWydRdW90YUV4Y2VlZGVkRXJyb3InLCAnUVVPVEFfRVhDRUVERURfRVJSJ107XG5cbnZhciBTZWN1cml0eUVycm9yID0gJ1NlY3VyaXR5RXJyb3InO1xuXG5mdW5jdGlvbiBjcmVhdGVLZXkoa2V5KSB7XG4gIHJldHVybiBLZXlQcmVmaXggKyBrZXk7XG59XG5cbmZ1bmN0aW9uIHNhdmVTdGF0ZShrZXksIHN0YXRlKSB7XG4gIHRyeSB7XG4gICAgaWYgKHN0YXRlID09IG51bGwpIHtcbiAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKGNyZWF0ZUtleShrZXkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oY3JlYXRlS2V5KGtleSksIEpTT04uc3RyaW5naWZ5KHN0YXRlKSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChlcnJvci5uYW1lID09PSBTZWN1cml0eUVycm9yKSB7XG4gICAgICAvLyBCbG9ja2luZyBjb29raWVzIGluIENocm9tZS9GaXJlZm94L1NhZmFyaSB0aHJvd3MgU2VjdXJpdHlFcnJvciBvbiBhbnlcbiAgICAgIC8vIGF0dGVtcHQgdG8gYWNjZXNzIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5cbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShmYWxzZSwgJ1toaXN0b3J5XSBVbmFibGUgdG8gc2F2ZSBzdGF0ZTsgc2Vzc2lvblN0b3JhZ2UgaXMgbm90IGF2YWlsYWJsZSBkdWUgdG8gc2VjdXJpdHkgc2V0dGluZ3MnKSA6IHVuZGVmaW5lZDtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChRdW90YUV4Y2VlZGVkRXJyb3JzLmluZGV4T2YoZXJyb3IubmFtZSkgPj0gMCAmJiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBTYWZhcmkgXCJwcml2YXRlIG1vZGVcIiB0aHJvd3MgUXVvdGFFeGNlZWRlZEVycm9yLlxuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGZhbHNlLCAnW2hpc3RvcnldIFVuYWJsZSB0byBzYXZlIHN0YXRlOyBzZXNzaW9uU3RvcmFnZSBpcyBub3QgYXZhaWxhYmxlIGluIFNhZmFyaSBwcml2YXRlIG1vZGUnKSA6IHVuZGVmaW5lZDtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlYWRTdGF0ZShrZXkpIHtcbiAgdmFyIGpzb24gPSB1bmRlZmluZWQ7XG4gIHRyeSB7XG4gICAganNvbiA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGNyZWF0ZUtleShrZXkpKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoZXJyb3IubmFtZSA9PT0gU2VjdXJpdHlFcnJvcikge1xuICAgICAgLy8gQmxvY2tpbmcgY29va2llcyBpbiBDaHJvbWUvRmlyZWZveC9TYWZhcmkgdGhyb3dzIFNlY3VyaXR5RXJyb3Igb24gYW55XG4gICAgICAvLyBhdHRlbXB0IHRvIGFjY2VzcyB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuXG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10oZmFsc2UsICdbaGlzdG9yeV0gVW5hYmxlIHRvIHJlYWQgc3RhdGU7IHNlc3Npb25TdG9yYWdlIGlzIG5vdCBhdmFpbGFibGUgZHVlIHRvIHNlY3VyaXR5IHNldHRpbmdzJykgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGlmIChqc29uKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb24pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBJZ25vcmUgaW52YWxpZCBKU09OLlxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9oaXN0b3J5L2xpYi9ET01TdGF0ZVN0b3JhZ2UuanNcbi8vIG1vZHVsZSBpZCA9IDM3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX2ludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuXG52YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuXG52YXIgX0V4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnLi9FeGVjdXRpb25FbnZpcm9ubWVudCcpO1xuXG52YXIgX0RPTVV0aWxzID0gcmVxdWlyZSgnLi9ET01VdGlscycpO1xuXG52YXIgX2NyZWF0ZUhpc3RvcnkgPSByZXF1aXJlKCcuL2NyZWF0ZUhpc3RvcnknKTtcblxudmFyIF9jcmVhdGVIaXN0b3J5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUhpc3RvcnkpO1xuXG5mdW5jdGlvbiBjcmVhdGVET01IaXN0b3J5KG9wdGlvbnMpIHtcbiAgdmFyIGhpc3RvcnkgPSBfY3JlYXRlSGlzdG9yeTJbJ2RlZmF1bHQnXShfZXh0ZW5kcyh7XG4gICAgZ2V0VXNlckNvbmZpcm1hdGlvbjogX0RPTVV0aWxzLmdldFVzZXJDb25maXJtYXRpb25cbiAgfSwgb3B0aW9ucywge1xuICAgIGdvOiBfRE9NVXRpbHMuZ29cbiAgfSkpO1xuXG4gIGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuICAgICFfRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UsICdET00gaGlzdG9yeSBuZWVkcyBhIERPTScpIDogX2ludmFyaWFudDJbJ2RlZmF1bHQnXShmYWxzZSkgOiB1bmRlZmluZWQ7XG5cbiAgICByZXR1cm4gaGlzdG9yeS5saXN0ZW4obGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBoaXN0b3J5LCB7XG4gICAgbGlzdGVuOiBsaXN0ZW5cbiAgfSk7XG59XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGNyZWF0ZURPTUhpc3Rvcnk7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaGlzdG9yeS9saWIvY3JlYXRlRE9NSGlzdG9yeS5qc1xuLy8gbW9kdWxlIGlkID0gMzhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG52YXIgX2ludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuXG52YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuXG52YXIgX0FjdGlvbnMgPSByZXF1aXJlKCcuL0FjdGlvbnMnKTtcblxudmFyIF9QYXRoVXRpbHMgPSByZXF1aXJlKCcuL1BhdGhVdGlscycpO1xuXG52YXIgX0V4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnLi9FeGVjdXRpb25FbnZpcm9ubWVudCcpO1xuXG52YXIgX0RPTVV0aWxzID0gcmVxdWlyZSgnLi9ET01VdGlscycpO1xuXG52YXIgX0RPTVN0YXRlU3RvcmFnZSA9IHJlcXVpcmUoJy4vRE9NU3RhdGVTdG9yYWdlJyk7XG5cbnZhciBfY3JlYXRlRE9NSGlzdG9yeSA9IHJlcXVpcmUoJy4vY3JlYXRlRE9NSGlzdG9yeScpO1xuXG52YXIgX2NyZWF0ZURPTUhpc3RvcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlRE9NSGlzdG9yeSk7XG5cbmZ1bmN0aW9uIGlzQWJzb2x1dGVQYXRoKHBhdGgpIHtcbiAgcmV0dXJuIHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJyAmJiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xufVxuXG5mdW5jdGlvbiBlbnN1cmVTbGFzaCgpIHtcbiAgdmFyIHBhdGggPSBfRE9NVXRpbHMuZ2V0SGFzaFBhdGgoKTtcblxuICBpZiAoaXNBYnNvbHV0ZVBhdGgocGF0aCkpIHJldHVybiB0cnVlO1xuXG4gIF9ET01VdGlscy5yZXBsYWNlSGFzaFBhdGgoJy8nICsgcGF0aCk7XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBhZGRRdWVyeVN0cmluZ1ZhbHVlVG9QYXRoKHBhdGgsIGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIHBhdGggKyAocGF0aC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArIChrZXkgKyAnPScgKyB2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIHN0cmlwUXVlcnlTdHJpbmdWYWx1ZUZyb21QYXRoKHBhdGgsIGtleSkge1xuICByZXR1cm4gcGF0aC5yZXBsYWNlKG5ldyBSZWdFeHAoJ1s/Jl0/JyArIGtleSArICc9W2EtekEtWjAtOV0rJyksICcnKTtcbn1cblxuZnVuY3Rpb24gZ2V0UXVlcnlTdHJpbmdWYWx1ZUZyb21QYXRoKHBhdGgsIGtleSkge1xuICB2YXIgbWF0Y2ggPSBwYXRoLm1hdGNoKG5ldyBSZWdFeHAoJ1xcXFw/Lio/XFxcXGInICsga2V5ICsgJz0oLis/KVxcXFxiJykpO1xuICByZXR1cm4gbWF0Y2ggJiYgbWF0Y2hbMV07XG59XG5cbnZhciBEZWZhdWx0UXVlcnlLZXkgPSAnX2snO1xuXG5mdW5jdGlvbiBjcmVhdGVIYXNoSGlzdG9yeSgpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblxuICAhX0V4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfaW52YXJpYW50MlsnZGVmYXVsdCddKGZhbHNlLCAnSGFzaCBoaXN0b3J5IG5lZWRzIGEgRE9NJykgOiBfaW52YXJpYW50MlsnZGVmYXVsdCddKGZhbHNlKSA6IHVuZGVmaW5lZDtcblxuICB2YXIgcXVlcnlLZXkgPSBvcHRpb25zLnF1ZXJ5S2V5O1xuXG4gIGlmIChxdWVyeUtleSA9PT0gdW5kZWZpbmVkIHx8ICEhcXVlcnlLZXkpIHF1ZXJ5S2V5ID0gdHlwZW9mIHF1ZXJ5S2V5ID09PSAnc3RyaW5nJyA/IHF1ZXJ5S2V5IDogRGVmYXVsdFF1ZXJ5S2V5O1xuXG4gIGZ1bmN0aW9uIGdldEN1cnJlbnRMb2NhdGlvbigpIHtcbiAgICB2YXIgcGF0aCA9IF9ET01VdGlscy5nZXRIYXNoUGF0aCgpO1xuXG4gICAgdmFyIGtleSA9IHVuZGVmaW5lZCxcbiAgICAgICAgc3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgaWYgKHF1ZXJ5S2V5KSB7XG4gICAgICBrZXkgPSBnZXRRdWVyeVN0cmluZ1ZhbHVlRnJvbVBhdGgocGF0aCwgcXVlcnlLZXkpO1xuICAgICAgcGF0aCA9IHN0cmlwUXVlcnlTdHJpbmdWYWx1ZUZyb21QYXRoKHBhdGgsIHF1ZXJ5S2V5KTtcblxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBzdGF0ZSA9IF9ET01TdGF0ZVN0b3JhZ2UucmVhZFN0YXRlKGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZSA9IG51bGw7XG4gICAgICAgIGtleSA9IGhpc3RvcnkuY3JlYXRlS2V5KCk7XG4gICAgICAgIF9ET01VdGlscy5yZXBsYWNlSGFzaFBhdGgoYWRkUXVlcnlTdHJpbmdWYWx1ZVRvUGF0aChwYXRoLCBxdWVyeUtleSwga2V5KSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGtleSA9IHN0YXRlID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgbG9jYXRpb24gPSBfUGF0aFV0aWxzLnBhcnNlUGF0aChwYXRoKTtcblxuICAgIHJldHVybiBoaXN0b3J5LmNyZWF0ZUxvY2F0aW9uKF9leHRlbmRzKHt9LCBsb2NhdGlvbiwgeyBzdGF0ZTogc3RhdGUgfSksIHVuZGVmaW5lZCwga2V5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0YXJ0SGFzaENoYW5nZUxpc3RlbmVyKF9yZWYpIHtcbiAgICB2YXIgdHJhbnNpdGlvblRvID0gX3JlZi50cmFuc2l0aW9uVG87XG5cbiAgICBmdW5jdGlvbiBoYXNoQ2hhbmdlTGlzdGVuZXIoKSB7XG4gICAgICBpZiAoIWVuc3VyZVNsYXNoKCkpIHJldHVybjsgLy8gQWx3YXlzIG1ha2Ugc3VyZSBoYXNoZXMgYXJlIHByZWNlZWRlZCB3aXRoIGEgLy5cblxuICAgICAgdHJhbnNpdGlvblRvKGdldEN1cnJlbnRMb2NhdGlvbigpKTtcbiAgICB9XG5cbiAgICBlbnN1cmVTbGFzaCgpO1xuICAgIF9ET01VdGlscy5hZGRFdmVudExpc3RlbmVyKHdpbmRvdywgJ2hhc2hjaGFuZ2UnLCBoYXNoQ2hhbmdlTGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIF9ET01VdGlscy5yZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdywgJ2hhc2hjaGFuZ2UnLCBoYXNoQ2hhbmdlTGlzdGVuZXIpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBmaW5pc2hUcmFuc2l0aW9uKGxvY2F0aW9uKSB7XG4gICAgdmFyIGJhc2VuYW1lID0gbG9jYXRpb24uYmFzZW5hbWU7XG4gICAgdmFyIHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWU7XG4gICAgdmFyIHNlYXJjaCA9IGxvY2F0aW9uLnNlYXJjaDtcbiAgICB2YXIgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZTtcbiAgICB2YXIgYWN0aW9uID0gbG9jYXRpb24uYWN0aW9uO1xuICAgIHZhciBrZXkgPSBsb2NhdGlvbi5rZXk7XG5cbiAgICBpZiAoYWN0aW9uID09PSBfQWN0aW9ucy5QT1ApIHJldHVybjsgLy8gTm90aGluZyB0byBkby5cblxuICAgIHZhciBwYXRoID0gKGJhc2VuYW1lIHx8ICcnKSArIHBhdGhuYW1lICsgc2VhcmNoO1xuXG4gICAgaWYgKHF1ZXJ5S2V5KSB7XG4gICAgICBwYXRoID0gYWRkUXVlcnlTdHJpbmdWYWx1ZVRvUGF0aChwYXRoLCBxdWVyeUtleSwga2V5KTtcbiAgICAgIF9ET01TdGF0ZVN0b3JhZ2Uuc2F2ZVN0YXRlKGtleSwgc3RhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBEcm9wIGtleSBhbmQgc3RhdGUuXG4gICAgICBsb2NhdGlvbi5rZXkgPSBsb2NhdGlvbi5zdGF0ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGN1cnJlbnRIYXNoID0gX0RPTVV0aWxzLmdldEhhc2hQYXRoKCk7XG5cbiAgICBpZiAoYWN0aW9uID09PSBfQWN0aW9ucy5QVVNIKSB7XG4gICAgICBpZiAoY3VycmVudEhhc2ggIT09IHBhdGgpIHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBwYXRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGZhbHNlLCAnWW91IGNhbm5vdCBQVVNIIHRoZSBzYW1lIHBhdGggdXNpbmcgaGFzaCBoaXN0b3J5JykgOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjdXJyZW50SGFzaCAhPT0gcGF0aCkge1xuICAgICAgLy8gUkVQTEFDRVxuICAgICAgX0RPTVV0aWxzLnJlcGxhY2VIYXNoUGF0aChwYXRoKTtcbiAgICB9XG4gIH1cblxuICB2YXIgaGlzdG9yeSA9IF9jcmVhdGVET01IaXN0b3J5MlsnZGVmYXVsdCddKF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgZ2V0Q3VycmVudExvY2F0aW9uOiBnZXRDdXJyZW50TG9jYXRpb24sXG4gICAgZmluaXNoVHJhbnNpdGlvbjogZmluaXNoVHJhbnNpdGlvbixcbiAgICBzYXZlU3RhdGU6IF9ET01TdGF0ZVN0b3JhZ2Uuc2F2ZVN0YXRlXG4gIH0pKTtcblxuICB2YXIgbGlzdGVuZXJDb3VudCA9IDAsXG4gICAgICBzdG9wSGFzaENoYW5nZUxpc3RlbmVyID0gdW5kZWZpbmVkO1xuXG4gIGZ1bmN0aW9uIGxpc3RlbkJlZm9yZShsaXN0ZW5lcikge1xuICAgIGlmICgrK2xpc3RlbmVyQ291bnQgPT09IDEpIHN0b3BIYXNoQ2hhbmdlTGlzdGVuZXIgPSBzdGFydEhhc2hDaGFuZ2VMaXN0ZW5lcihoaXN0b3J5KTtcblxuICAgIHZhciB1bmxpc3RlbiA9IGhpc3RvcnkubGlzdGVuQmVmb3JlKGxpc3RlbmVyKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB1bmxpc3RlbigpO1xuXG4gICAgICBpZiAoLS1saXN0ZW5lckNvdW50ID09PSAwKSBzdG9wSGFzaENoYW5nZUxpc3RlbmVyKCk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuICAgIGlmICgrK2xpc3RlbmVyQ291bnQgPT09IDEpIHN0b3BIYXNoQ2hhbmdlTGlzdGVuZXIgPSBzdGFydEhhc2hDaGFuZ2VMaXN0ZW5lcihoaXN0b3J5KTtcblxuICAgIHZhciB1bmxpc3RlbiA9IGhpc3RvcnkubGlzdGVuKGxpc3RlbmVyKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB1bmxpc3RlbigpO1xuXG4gICAgICBpZiAoLS1saXN0ZW5lckNvdW50ID09PSAwKSBzdG9wSGFzaENoYW5nZUxpc3RlbmVyKCk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHB1c2gobG9jYXRpb24pIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10ocXVlcnlLZXkgfHwgbG9jYXRpb24uc3RhdGUgPT0gbnVsbCwgJ1lvdSBjYW5ub3QgdXNlIHN0YXRlIHdpdGhvdXQgYSBxdWVyeUtleSBpdCB3aWxsIGJlIGRyb3BwZWQnKSA6IHVuZGVmaW5lZDtcblxuICAgIGhpc3RvcnkucHVzaChsb2NhdGlvbik7XG4gIH1cblxuICBmdW5jdGlvbiByZXBsYWNlKGxvY2F0aW9uKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKHF1ZXJ5S2V5IHx8IGxvY2F0aW9uLnN0YXRlID09IG51bGwsICdZb3UgY2Fubm90IHVzZSBzdGF0ZSB3aXRob3V0IGEgcXVlcnlLZXkgaXQgd2lsbCBiZSBkcm9wcGVkJykgOiB1bmRlZmluZWQ7XG5cbiAgICBoaXN0b3J5LnJlcGxhY2UobG9jYXRpb24pO1xuICB9XG5cbiAgdmFyIGdvSXNTdXBwb3J0ZWRXaXRob3V0UmVsb2FkID0gX0RPTVV0aWxzLnN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoKCk7XG5cbiAgZnVuY3Rpb24gZ28obikge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShnb0lzU3VwcG9ydGVkV2l0aG91dFJlbG9hZCwgJ0hhc2ggaGlzdG9yeSBnbyhuKSBjYXVzZXMgYSBmdWxsIHBhZ2UgcmVsb2FkIGluIHRoaXMgYnJvd3NlcicpIDogdW5kZWZpbmVkO1xuXG4gICAgaGlzdG9yeS5nbyhuKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUhyZWYocGF0aCkge1xuICAgIHJldHVybiAnIycgKyBoaXN0b3J5LmNyZWF0ZUhyZWYocGF0aCk7XG4gIH1cblxuICAvLyBkZXByZWNhdGVkXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vaykge1xuICAgIGlmICgrK2xpc3RlbmVyQ291bnQgPT09IDEpIHN0b3BIYXNoQ2hhbmdlTGlzdGVuZXIgPSBzdGFydEhhc2hDaGFuZ2VMaXN0ZW5lcihoaXN0b3J5KTtcblxuICAgIGhpc3RvcnkucmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKTtcbiAgfVxuXG4gIC8vIGRlcHJlY2F0ZWRcbiAgZnVuY3Rpb24gdW5yZWdpc3RlclRyYW5zaXRpb25Ib29rKGhvb2spIHtcbiAgICBoaXN0b3J5LnVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKTtcblxuICAgIGlmICgtLWxpc3RlbmVyQ291bnQgPT09IDApIHN0b3BIYXNoQ2hhbmdlTGlzdGVuZXIoKTtcbiAgfVxuXG4gIC8vIGRlcHJlY2F0ZWRcbiAgZnVuY3Rpb24gcHVzaFN0YXRlKHN0YXRlLCBwYXRoKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKHF1ZXJ5S2V5IHx8IHN0YXRlID09IG51bGwsICdZb3UgY2Fubm90IHVzZSBzdGF0ZSB3aXRob3V0IGEgcXVlcnlLZXkgaXQgd2lsbCBiZSBkcm9wcGVkJykgOiB1bmRlZmluZWQ7XG5cbiAgICBoaXN0b3J5LnB1c2hTdGF0ZShzdGF0ZSwgcGF0aCk7XG4gIH1cblxuICAvLyBkZXByZWNhdGVkXG4gIGZ1bmN0aW9uIHJlcGxhY2VTdGF0ZShzdGF0ZSwgcGF0aCkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShxdWVyeUtleSB8fCBzdGF0ZSA9PSBudWxsLCAnWW91IGNhbm5vdCB1c2Ugc3RhdGUgd2l0aG91dCBhIHF1ZXJ5S2V5IGl0IHdpbGwgYmUgZHJvcHBlZCcpIDogdW5kZWZpbmVkO1xuXG4gICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUoc3RhdGUsIHBhdGgpO1xuICB9XG5cbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBoaXN0b3J5LCB7XG4gICAgbGlzdGVuQmVmb3JlOiBsaXN0ZW5CZWZvcmUsXG4gICAgbGlzdGVuOiBsaXN0ZW4sXG4gICAgcHVzaDogcHVzaCxcbiAgICByZXBsYWNlOiByZXBsYWNlLFxuICAgIGdvOiBnbyxcbiAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLFxuXG4gICAgcmVnaXN0ZXJUcmFuc2l0aW9uSG9vazogcmVnaXN0ZXJUcmFuc2l0aW9uSG9vaywgLy8gZGVwcmVjYXRlZCAtIHdhcm5pbmcgaXMgaW4gY3JlYXRlSGlzdG9yeVxuICAgIHVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vazogdW5yZWdpc3RlclRyYW5zaXRpb25Ib29rLCAvLyBkZXByZWNhdGVkIC0gd2FybmluZyBpcyBpbiBjcmVhdGVIaXN0b3J5XG4gICAgcHVzaFN0YXRlOiBwdXNoU3RhdGUsIC8vIGRlcHJlY2F0ZWQgLSB3YXJuaW5nIGlzIGluIGNyZWF0ZUhpc3RvcnlcbiAgICByZXBsYWNlU3RhdGU6IHJlcGxhY2VTdGF0ZSAvLyBkZXByZWNhdGVkIC0gd2FybmluZyBpcyBpbiBjcmVhdGVIaXN0b3J5XG4gIH0pO1xufVxuXG5leHBvcnRzWydkZWZhdWx0J10gPSBjcmVhdGVIYXNoSGlzdG9yeTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9oaXN0b3J5L2xpYi9jcmVhdGVIYXNoSGlzdG9yeS5qc1xuLy8gbW9kdWxlIGlkID0gMzlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG52YXIgX2RlZXBFcXVhbCA9IHJlcXVpcmUoJ2RlZXAtZXF1YWwnKTtcblxudmFyIF9kZWVwRXF1YWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVlcEVxdWFsKTtcblxudmFyIF9QYXRoVXRpbHMgPSByZXF1aXJlKCcuL1BhdGhVdGlscycpO1xuXG52YXIgX0FzeW5jVXRpbHMgPSByZXF1aXJlKCcuL0FzeW5jVXRpbHMnKTtcblxudmFyIF9BY3Rpb25zID0gcmVxdWlyZSgnLi9BY3Rpb25zJyk7XG5cbnZhciBfY3JlYXRlTG9jYXRpb24yID0gcmVxdWlyZSgnLi9jcmVhdGVMb2NhdGlvbicpO1xuXG52YXIgX2NyZWF0ZUxvY2F0aW9uMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUxvY2F0aW9uMik7XG5cbnZhciBfcnVuVHJhbnNpdGlvbkhvb2sgPSByZXF1aXJlKCcuL3J1blRyYW5zaXRpb25Ib29rJyk7XG5cbnZhciBfcnVuVHJhbnNpdGlvbkhvb2syID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcnVuVHJhbnNpdGlvbkhvb2spO1xuXG52YXIgX2RlcHJlY2F0ZSA9IHJlcXVpcmUoJy4vZGVwcmVjYXRlJyk7XG5cbnZhciBfZGVwcmVjYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlcHJlY2F0ZSk7XG5cbmZ1bmN0aW9uIGNyZWF0ZVJhbmRvbUtleShsZW5ndGgpIHtcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCBsZW5ndGgpO1xufVxuXG5mdW5jdGlvbiBsb2NhdGlvbnNBcmVFcXVhbChhLCBiKSB7XG4gIHJldHVybiBhLnBhdGhuYW1lID09PSBiLnBhdGhuYW1lICYmIGEuc2VhcmNoID09PSBiLnNlYXJjaCAmJlxuICAvL2EuYWN0aW9uID09PSBiLmFjdGlvbiAmJiAvLyBEaWZmZXJlbnQgYWN0aW9uICE9PSBsb2NhdGlvbiBjaGFuZ2UuXG4gIGEua2V5ID09PSBiLmtleSAmJiBfZGVlcEVxdWFsMlsnZGVmYXVsdCddKGEuc3RhdGUsIGIuc3RhdGUpO1xufVxuXG52YXIgRGVmYXVsdEtleUxlbmd0aCA9IDY7XG5cbmZ1bmN0aW9uIGNyZWF0ZUhpc3RvcnkoKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG4gIHZhciBnZXRDdXJyZW50TG9jYXRpb24gPSBvcHRpb25zLmdldEN1cnJlbnRMb2NhdGlvbjtcbiAgdmFyIGZpbmlzaFRyYW5zaXRpb24gPSBvcHRpb25zLmZpbmlzaFRyYW5zaXRpb247XG4gIHZhciBzYXZlU3RhdGUgPSBvcHRpb25zLnNhdmVTdGF0ZTtcbiAgdmFyIGdvID0gb3B0aW9ucy5nbztcbiAgdmFyIGdldFVzZXJDb25maXJtYXRpb24gPSBvcHRpb25zLmdldFVzZXJDb25maXJtYXRpb247XG4gIHZhciBrZXlMZW5ndGggPSBvcHRpb25zLmtleUxlbmd0aDtcblxuICBpZiAodHlwZW9mIGtleUxlbmd0aCAhPT0gJ251bWJlcicpIGtleUxlbmd0aCA9IERlZmF1bHRLZXlMZW5ndGg7XG5cbiAgdmFyIHRyYW5zaXRpb25Ib29rcyA9IFtdO1xuXG4gIGZ1bmN0aW9uIGxpc3RlbkJlZm9yZShob29rKSB7XG4gICAgdHJhbnNpdGlvbkhvb2tzLnB1c2goaG9vayk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdHJhbnNpdGlvbkhvb2tzID0gdHJhbnNpdGlvbkhvb2tzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbSAhPT0gaG9vaztcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cblxuICB2YXIgYWxsS2V5cyA9IFtdO1xuICB2YXIgY2hhbmdlTGlzdGVuZXJzID0gW107XG4gIHZhciBsb2NhdGlvbiA9IHVuZGVmaW5lZDtcblxuICBmdW5jdGlvbiBnZXRDdXJyZW50KCkge1xuICAgIGlmIChwZW5kaW5nTG9jYXRpb24gJiYgcGVuZGluZ0xvY2F0aW9uLmFjdGlvbiA9PT0gX0FjdGlvbnMuUE9QKSB7XG4gICAgICByZXR1cm4gYWxsS2V5cy5pbmRleE9mKHBlbmRpbmdMb2NhdGlvbi5rZXkpO1xuICAgIH0gZWxzZSBpZiAobG9jYXRpb24pIHtcbiAgICAgIHJldHVybiBhbGxLZXlzLmluZGV4T2YobG9jYXRpb24ua2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUxvY2F0aW9uKG5ld0xvY2F0aW9uKSB7XG4gICAgdmFyIGN1cnJlbnQgPSBnZXRDdXJyZW50KCk7XG5cbiAgICBsb2NhdGlvbiA9IG5ld0xvY2F0aW9uO1xuXG4gICAgaWYgKGxvY2F0aW9uLmFjdGlvbiA9PT0gX0FjdGlvbnMuUFVTSCkge1xuICAgICAgYWxsS2V5cyA9IFtdLmNvbmNhdChhbGxLZXlzLnNsaWNlKDAsIGN1cnJlbnQgKyAxKSwgW2xvY2F0aW9uLmtleV0pO1xuICAgIH0gZWxzZSBpZiAobG9jYXRpb24uYWN0aW9uID09PSBfQWN0aW9ucy5SRVBMQUNFKSB7XG4gICAgICBhbGxLZXlzW2N1cnJlbnRdID0gbG9jYXRpb24ua2V5O1xuICAgIH1cblxuICAgIGNoYW5nZUxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgbGlzdGVuZXIobG9jYXRpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgY2hhbmdlTGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuXG4gICAgaWYgKGxvY2F0aW9uKSB7XG4gICAgICBsaXN0ZW5lcihsb2NhdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBfbG9jYXRpb24gPSBnZXRDdXJyZW50TG9jYXRpb24oKTtcbiAgICAgIGFsbEtleXMgPSBbX2xvY2F0aW9uLmtleV07XG4gICAgICB1cGRhdGVMb2NhdGlvbihfbG9jYXRpb24pO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBjaGFuZ2VMaXN0ZW5lcnMgPSBjaGFuZ2VMaXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtICE9PSBsaXN0ZW5lcjtcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBjb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBjYWxsYmFjaykge1xuICAgIF9Bc3luY1V0aWxzLmxvb3BBc3luYyh0cmFuc2l0aW9uSG9va3MubGVuZ3RoLCBmdW5jdGlvbiAoaW5kZXgsIG5leHQsIGRvbmUpIHtcbiAgICAgIF9ydW5UcmFuc2l0aW9uSG9vazJbJ2RlZmF1bHQnXSh0cmFuc2l0aW9uSG9va3NbaW5kZXhdLCBsb2NhdGlvbiwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgICBkb25lKHJlc3VsdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LCBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgaWYgKGdldFVzZXJDb25maXJtYXRpb24gJiYgdHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGdldFVzZXJDb25maXJtYXRpb24obWVzc2FnZSwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICAgICAgY2FsbGJhY2sob2sgIT09IGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayhtZXNzYWdlICE9PSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB2YXIgcGVuZGluZ0xvY2F0aW9uID0gdW5kZWZpbmVkO1xuXG4gIGZ1bmN0aW9uIHRyYW5zaXRpb25UbyhuZXh0TG9jYXRpb24pIHtcbiAgICBpZiAobG9jYXRpb24gJiYgbG9jYXRpb25zQXJlRXF1YWwobG9jYXRpb24sIG5leHRMb2NhdGlvbikpIHJldHVybjsgLy8gTm90aGluZyB0byBkby5cblxuICAgIHBlbmRpbmdMb2NhdGlvbiA9IG5leHRMb2NhdGlvbjtcblxuICAgIGNvbmZpcm1UcmFuc2l0aW9uVG8obmV4dExvY2F0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmIChwZW5kaW5nTG9jYXRpb24gIT09IG5leHRMb2NhdGlvbikgcmV0dXJuOyAvLyBUcmFuc2l0aW9uIHdhcyBpbnRlcnJ1cHRlZC5cblxuICAgICAgaWYgKG9rKSB7XG4gICAgICAgIC8vIHRyZWF0IFBVU0ggdG8gY3VycmVudCBwYXRoIGxpa2UgUkVQTEFDRSB0byBiZSBjb25zaXN0ZW50IHdpdGggYnJvd3NlcnNcbiAgICAgICAgaWYgKG5leHRMb2NhdGlvbi5hY3Rpb24gPT09IF9BY3Rpb25zLlBVU0gpIHtcbiAgICAgICAgICB2YXIgcHJldlBhdGggPSBjcmVhdGVQYXRoKGxvY2F0aW9uKTtcbiAgICAgICAgICB2YXIgbmV4dFBhdGggPSBjcmVhdGVQYXRoKG5leHRMb2NhdGlvbik7XG5cbiAgICAgICAgICBpZiAobmV4dFBhdGggPT09IHByZXZQYXRoICYmIF9kZWVwRXF1YWwyWydkZWZhdWx0J10obG9jYXRpb24uc3RhdGUsIG5leHRMb2NhdGlvbi5zdGF0ZSkpIG5leHRMb2NhdGlvbi5hY3Rpb24gPSBfQWN0aW9ucy5SRVBMQUNFO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbmlzaFRyYW5zaXRpb24obmV4dExvY2F0aW9uKSAhPT0gZmFsc2UpIHVwZGF0ZUxvY2F0aW9uKG5leHRMb2NhdGlvbik7XG4gICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uICYmIG5leHRMb2NhdGlvbi5hY3Rpb24gPT09IF9BY3Rpb25zLlBPUCkge1xuICAgICAgICB2YXIgcHJldkluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGxvY2F0aW9uLmtleSk7XG4gICAgICAgIHZhciBuZXh0SW5kZXggPSBhbGxLZXlzLmluZGV4T2YobmV4dExvY2F0aW9uLmtleSk7XG5cbiAgICAgICAgaWYgKHByZXZJbmRleCAhPT0gLTEgJiYgbmV4dEluZGV4ICE9PSAtMSkgZ28ocHJldkluZGV4IC0gbmV4dEluZGV4KTsgLy8gUmVzdG9yZSB0aGUgVVJMLlxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcHVzaChsb2NhdGlvbikge1xuICAgIHRyYW5zaXRpb25UbyhjcmVhdGVMb2NhdGlvbihsb2NhdGlvbiwgX0FjdGlvbnMuUFVTSCwgY3JlYXRlS2V5KCkpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlcGxhY2UobG9jYXRpb24pIHtcbiAgICB0cmFuc2l0aW9uVG8oY3JlYXRlTG9jYXRpb24obG9jYXRpb24sIF9BY3Rpb25zLlJFUExBQ0UsIGNyZWF0ZUtleSgpKSk7XG4gIH1cblxuICBmdW5jdGlvbiBnb0JhY2soKSB7XG4gICAgZ28oLTEpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ29Gb3J3YXJkKCkge1xuICAgIGdvKDEpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlS2V5KCkge1xuICAgIHJldHVybiBjcmVhdGVSYW5kb21LZXkoa2V5TGVuZ3RoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVBhdGgobG9jYXRpb24pIHtcbiAgICBpZiAobG9jYXRpb24gPT0gbnVsbCB8fCB0eXBlb2YgbG9jYXRpb24gPT09ICdzdHJpbmcnKSByZXR1cm4gbG9jYXRpb247XG5cbiAgICB2YXIgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcbiAgICB2YXIgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoO1xuICAgIHZhciBoYXNoID0gbG9jYXRpb24uaGFzaDtcblxuICAgIHZhciByZXN1bHQgPSBwYXRobmFtZTtcblxuICAgIGlmIChzZWFyY2gpIHJlc3VsdCArPSBzZWFyY2g7XG5cbiAgICBpZiAoaGFzaCkgcmVzdWx0ICs9IGhhc2g7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlSHJlZihsb2NhdGlvbikge1xuICAgIHJldHVybiBjcmVhdGVQYXRoKGxvY2F0aW9uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKGxvY2F0aW9uLCBhY3Rpb24pIHtcbiAgICB2YXIga2V5ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gY3JlYXRlS2V5KCkgOiBhcmd1bWVudHNbMl07XG5cbiAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShmYWxzZSwgJ1RoZSBzdGF0ZSAoMm5kKSBhcmd1bWVudCB0byBoaXN0b3J5LmNyZWF0ZUxvY2F0aW9uIGlzIGRlcHJlY2F0ZWQ7IHVzZSBhICcgKyAnbG9jYXRpb24gZGVzY3JpcHRvciBpbnN0ZWFkJykgOiB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh0eXBlb2YgbG9jYXRpb24gPT09ICdzdHJpbmcnKSBsb2NhdGlvbiA9IF9QYXRoVXRpbHMucGFyc2VQYXRoKGxvY2F0aW9uKTtcblxuICAgICAgbG9jYXRpb24gPSBfZXh0ZW5kcyh7fSwgbG9jYXRpb24sIHsgc3RhdGU6IGFjdGlvbiB9KTtcblxuICAgICAgYWN0aW9uID0ga2V5O1xuICAgICAga2V5ID0gYXJndW1lbnRzWzNdIHx8IGNyZWF0ZUtleSgpO1xuICAgIH1cblxuICAgIHJldHVybiBfY3JlYXRlTG9jYXRpb24zWydkZWZhdWx0J10obG9jYXRpb24sIGFjdGlvbiwga2V5KTtcbiAgfVxuXG4gIC8vIGRlcHJlY2F0ZWRcbiAgZnVuY3Rpb24gc2V0U3RhdGUoc3RhdGUpIHtcbiAgICBpZiAobG9jYXRpb24pIHtcbiAgICAgIHVwZGF0ZUxvY2F0aW9uU3RhdGUobG9jYXRpb24sIHN0YXRlKTtcbiAgICAgIHVwZGF0ZUxvY2F0aW9uKGxvY2F0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXBkYXRlTG9jYXRpb25TdGF0ZShnZXRDdXJyZW50TG9jYXRpb24oKSwgc3RhdGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUxvY2F0aW9uU3RhdGUobG9jYXRpb24sIHN0YXRlKSB7XG4gICAgbG9jYXRpb24uc3RhdGUgPSBfZXh0ZW5kcyh7fSwgbG9jYXRpb24uc3RhdGUsIHN0YXRlKTtcbiAgICBzYXZlU3RhdGUobG9jYXRpb24ua2V5LCBsb2NhdGlvbi5zdGF0ZSk7XG4gIH1cblxuICAvLyBkZXByZWNhdGVkXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vaykge1xuICAgIGlmICh0cmFuc2l0aW9uSG9va3MuaW5kZXhPZihob29rKSA9PT0gLTEpIHRyYW5zaXRpb25Ib29rcy5wdXNoKGhvb2spO1xuICB9XG5cbiAgLy8gZGVwcmVjYXRlZFxuICBmdW5jdGlvbiB1bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vaykge1xuICAgIHRyYW5zaXRpb25Ib29rcyA9IHRyYW5zaXRpb25Ib29rcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtICE9PSBob29rO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gZGVwcmVjYXRlZFxuICBmdW5jdGlvbiBwdXNoU3RhdGUoc3RhdGUsIHBhdGgpIHtcbiAgICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSBwYXRoID0gX1BhdGhVdGlscy5wYXJzZVBhdGgocGF0aCk7XG5cbiAgICBwdXNoKF9leHRlbmRzKHsgc3RhdGU6IHN0YXRlIH0sIHBhdGgpKTtcbiAgfVxuXG4gIC8vIGRlcHJlY2F0ZWRcbiAgZnVuY3Rpb24gcmVwbGFjZVN0YXRlKHN0YXRlLCBwYXRoKSB7XG4gICAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykgcGF0aCA9IF9QYXRoVXRpbHMucGFyc2VQYXRoKHBhdGgpO1xuXG4gICAgcmVwbGFjZShfZXh0ZW5kcyh7IHN0YXRlOiBzdGF0ZSB9LCBwYXRoKSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGxpc3RlbkJlZm9yZTogbGlzdGVuQmVmb3JlLFxuICAgIGxpc3RlbjogbGlzdGVuLFxuICAgIHRyYW5zaXRpb25UbzogdHJhbnNpdGlvblRvLFxuICAgIHB1c2g6IHB1c2gsXG4gICAgcmVwbGFjZTogcmVwbGFjZSxcbiAgICBnbzogZ28sXG4gICAgZ29CYWNrOiBnb0JhY2ssXG4gICAgZ29Gb3J3YXJkOiBnb0ZvcndhcmQsXG4gICAgY3JlYXRlS2V5OiBjcmVhdGVLZXksXG4gICAgY3JlYXRlUGF0aDogY3JlYXRlUGF0aCxcbiAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLFxuICAgIGNyZWF0ZUxvY2F0aW9uOiBjcmVhdGVMb2NhdGlvbixcblxuICAgIHNldFN0YXRlOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHNldFN0YXRlLCAnc2V0U3RhdGUgaXMgZGVwcmVjYXRlZDsgdXNlIGxvY2F0aW9uLmtleSB0byBzYXZlIHN0YXRlIGluc3RlYWQnKSxcbiAgICByZWdpc3RlclRyYW5zaXRpb25Ib29rOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHJlZ2lzdGVyVHJhbnNpdGlvbkhvb2ssICdyZWdpc3RlclRyYW5zaXRpb25Ib29rIGlzIGRlcHJlY2F0ZWQ7IHVzZSBsaXN0ZW5CZWZvcmUgaW5zdGVhZCcpLFxuICAgIHVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vazogX2RlcHJlY2F0ZTJbJ2RlZmF1bHQnXSh1bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2ssICd1bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2sgaXMgZGVwcmVjYXRlZDsgdXNlIHRoZSBjYWxsYmFjayByZXR1cm5lZCBmcm9tIGxpc3RlbkJlZm9yZSBpbnN0ZWFkJyksXG4gICAgcHVzaFN0YXRlOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHB1c2hTdGF0ZSwgJ3B1c2hTdGF0ZSBpcyBkZXByZWNhdGVkOyB1c2UgcHVzaCBpbnN0ZWFkJyksXG4gICAgcmVwbGFjZVN0YXRlOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHJlcGxhY2VTdGF0ZSwgJ3JlcGxhY2VTdGF0ZSBpcyBkZXByZWNhdGVkOyB1c2UgcmVwbGFjZSBpbnN0ZWFkJylcbiAgfTtcbn1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gY3JlYXRlSGlzdG9yeTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9oaXN0b3J5L2xpYi9jcmVhdGVIaXN0b3J5LmpzXG4vLyBtb2R1bGUgaWQgPSA0MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbnZhciBfRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCcuL0V4ZWN1dGlvbkVudmlyb25tZW50Jyk7XG5cbnZhciBfUGF0aFV0aWxzID0gcmVxdWlyZSgnLi9QYXRoVXRpbHMnKTtcblxudmFyIF9ydW5UcmFuc2l0aW9uSG9vayA9IHJlcXVpcmUoJy4vcnVuVHJhbnNpdGlvbkhvb2snKTtcblxudmFyIF9ydW5UcmFuc2l0aW9uSG9vazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ydW5UcmFuc2l0aW9uSG9vayk7XG5cbnZhciBfZGVwcmVjYXRlID0gcmVxdWlyZSgnLi9kZXByZWNhdGUnKTtcblxudmFyIF9kZXByZWNhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVwcmVjYXRlKTtcblxuZnVuY3Rpb24gdXNlQmFzZW5hbWUoY3JlYXRlSGlzdG9yeSkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cbiAgICB2YXIgaGlzdG9yeSA9IGNyZWF0ZUhpc3Rvcnkob3B0aW9ucyk7XG5cbiAgICB2YXIgYmFzZW5hbWUgPSBvcHRpb25zLmJhc2VuYW1lO1xuXG4gICAgdmFyIGNoZWNrZWRCYXNlSHJlZiA9IGZhbHNlO1xuXG4gICAgZnVuY3Rpb24gY2hlY2tCYXNlSHJlZigpIHtcbiAgICAgIGlmIChjaGVja2VkQmFzZUhyZWYpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBBdXRvbWF0aWNhbGx5IHVzZSB0aGUgdmFsdWUgb2YgPGJhc2UgaHJlZj4gaW4gSFRNTFxuICAgICAgLy8gZG9jdW1lbnRzIGFzIGJhc2VuYW1lIGlmIGl0J3Mgbm90IGV4cGxpY2l0bHkgZ2l2ZW4uXG4gICAgICBpZiAoYmFzZW5hbWUgPT0gbnVsbCAmJiBfRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gICAgICAgIHZhciBiYXNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2Jhc2UnKVswXTtcbiAgICAgICAgdmFyIGJhc2VIcmVmID0gYmFzZSAmJiBiYXNlLmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuXG4gICAgICAgIGlmIChiYXNlSHJlZiAhPSBudWxsKSB7XG4gICAgICAgICAgYmFzZW5hbWUgPSBiYXNlSHJlZjtcblxuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShmYWxzZSwgJ0F1dG9tYXRpY2FsbHkgc2V0dGluZyBiYXNlbmFtZSB1c2luZyA8YmFzZSBocmVmPiBpcyBkZXByZWNhdGVkIGFuZCB3aWxsICcgKyAnYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLiBUaGUgc2VtYW50aWNzIG9mIDxiYXNlIGhyZWY+IGFyZSAnICsgJ3N1YnRseSBkaWZmZXJlbnQgZnJvbSBiYXNlbmFtZS4gUGxlYXNlIHBhc3MgdGhlIGJhc2VuYW1lIGV4cGxpY2l0bHkgaW4gJyArICd0aGUgb3B0aW9ucyB0byBjcmVhdGVIaXN0b3J5JykgOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY2hlY2tlZEJhc2VIcmVmID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRCYXNlbmFtZShsb2NhdGlvbikge1xuICAgICAgY2hlY2tCYXNlSHJlZigpO1xuXG4gICAgICBpZiAoYmFzZW5hbWUgJiYgbG9jYXRpb24uYmFzZW5hbWUgPT0gbnVsbCkge1xuICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZihiYXNlbmFtZSkgPT09IDApIHtcbiAgICAgICAgICBsb2NhdGlvbi5wYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lLnN1YnN0cmluZyhiYXNlbmFtZS5sZW5ndGgpO1xuICAgICAgICAgIGxvY2F0aW9uLmJhc2VuYW1lID0gYmFzZW5hbWU7XG5cbiAgICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcnKSBsb2NhdGlvbi5wYXRobmFtZSA9ICcvJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2NhdGlvbi5iYXNlbmFtZSA9ICcnO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBsb2NhdGlvbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcmVwZW5kQmFzZW5hbWUobG9jYXRpb24pIHtcbiAgICAgIGNoZWNrQmFzZUhyZWYoKTtcblxuICAgICAgaWYgKCFiYXNlbmFtZSkgcmV0dXJuIGxvY2F0aW9uO1xuXG4gICAgICBpZiAodHlwZW9mIGxvY2F0aW9uID09PSAnc3RyaW5nJykgbG9jYXRpb24gPSBfUGF0aFV0aWxzLnBhcnNlUGF0aChsb2NhdGlvbik7XG5cbiAgICAgIHZhciBwbmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lO1xuICAgICAgdmFyIG5vcm1hbGl6ZWRCYXNlbmFtZSA9IGJhc2VuYW1lLnNsaWNlKC0xKSA9PT0gJy8nID8gYmFzZW5hbWUgOiBiYXNlbmFtZSArICcvJztcbiAgICAgIHZhciBub3JtYWxpemVkUGF0aG5hbWUgPSBwbmFtZS5jaGFyQXQoMCkgPT09ICcvJyA/IHBuYW1lLnNsaWNlKDEpIDogcG5hbWU7XG4gICAgICB2YXIgcGF0aG5hbWUgPSBub3JtYWxpemVkQmFzZW5hbWUgKyBub3JtYWxpemVkUGF0aG5hbWU7XG5cbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgbG9jYXRpb24sIHtcbiAgICAgICAgcGF0aG5hbWU6IHBhdGhuYW1lXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBPdmVycmlkZSBhbGwgcmVhZCBtZXRob2RzIHdpdGggYmFzZW5hbWUtYXdhcmUgdmVyc2lvbnMuXG4gICAgZnVuY3Rpb24gbGlzdGVuQmVmb3JlKGhvb2spIHtcbiAgICAgIHJldHVybiBoaXN0b3J5Lmxpc3RlbkJlZm9yZShmdW5jdGlvbiAobG9jYXRpb24sIGNhbGxiYWNrKSB7XG4gICAgICAgIF9ydW5UcmFuc2l0aW9uSG9vazJbJ2RlZmF1bHQnXShob29rLCBhZGRCYXNlbmFtZShsb2NhdGlvbiksIGNhbGxiYWNrKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIGhpc3RvcnkubGlzdGVuKGZ1bmN0aW9uIChsb2NhdGlvbikge1xuICAgICAgICBsaXN0ZW5lcihhZGRCYXNlbmFtZShsb2NhdGlvbikpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gT3ZlcnJpZGUgYWxsIHdyaXRlIG1ldGhvZHMgd2l0aCBiYXNlbmFtZS1hd2FyZSB2ZXJzaW9ucy5cbiAgICBmdW5jdGlvbiBwdXNoKGxvY2F0aW9uKSB7XG4gICAgICBoaXN0b3J5LnB1c2gocHJlcGVuZEJhc2VuYW1lKGxvY2F0aW9uKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVwbGFjZShsb2NhdGlvbikge1xuICAgICAgaGlzdG9yeS5yZXBsYWNlKHByZXBlbmRCYXNlbmFtZShsb2NhdGlvbikpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVBhdGgobG9jYXRpb24pIHtcbiAgICAgIHJldHVybiBoaXN0b3J5LmNyZWF0ZVBhdGgocHJlcGVuZEJhc2VuYW1lKGxvY2F0aW9uKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlSHJlZihsb2NhdGlvbikge1xuICAgICAgcmV0dXJuIGhpc3RvcnkuY3JlYXRlSHJlZihwcmVwZW5kQmFzZW5hbWUobG9jYXRpb24pKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVMb2NhdGlvbihsb2NhdGlvbikge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWRkQmFzZW5hbWUoaGlzdG9yeS5jcmVhdGVMb2NhdGlvbi5hcHBseShoaXN0b3J5LCBbcHJlcGVuZEJhc2VuYW1lKGxvY2F0aW9uKV0uY29uY2F0KGFyZ3MpKSk7XG4gICAgfVxuXG4gICAgLy8gZGVwcmVjYXRlZFxuICAgIGZ1bmN0aW9uIHB1c2hTdGF0ZShzdGF0ZSwgcGF0aCkge1xuICAgICAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykgcGF0aCA9IF9QYXRoVXRpbHMucGFyc2VQYXRoKHBhdGgpO1xuXG4gICAgICBwdXNoKF9leHRlbmRzKHsgc3RhdGU6IHN0YXRlIH0sIHBhdGgpKTtcbiAgICB9XG5cbiAgICAvLyBkZXByZWNhdGVkXG4gICAgZnVuY3Rpb24gcmVwbGFjZVN0YXRlKHN0YXRlLCBwYXRoKSB7XG4gICAgICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSBwYXRoID0gX1BhdGhVdGlscy5wYXJzZVBhdGgocGF0aCk7XG5cbiAgICAgIHJlcGxhY2UoX2V4dGVuZHMoeyBzdGF0ZTogc3RhdGUgfSwgcGF0aCkpO1xuICAgIH1cblxuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgaGlzdG9yeSwge1xuICAgICAgbGlzdGVuQmVmb3JlOiBsaXN0ZW5CZWZvcmUsXG4gICAgICBsaXN0ZW46IGxpc3RlbixcbiAgICAgIHB1c2g6IHB1c2gsXG4gICAgICByZXBsYWNlOiByZXBsYWNlLFxuICAgICAgY3JlYXRlUGF0aDogY3JlYXRlUGF0aCxcbiAgICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYsXG4gICAgICBjcmVhdGVMb2NhdGlvbjogY3JlYXRlTG9jYXRpb24sXG5cbiAgICAgIHB1c2hTdGF0ZTogX2RlcHJlY2F0ZTJbJ2RlZmF1bHQnXShwdXNoU3RhdGUsICdwdXNoU3RhdGUgaXMgZGVwcmVjYXRlZDsgdXNlIHB1c2ggaW5zdGVhZCcpLFxuICAgICAgcmVwbGFjZVN0YXRlOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHJlcGxhY2VTdGF0ZSwgJ3JlcGxhY2VTdGF0ZSBpcyBkZXByZWNhdGVkOyB1c2UgcmVwbGFjZSBpbnN0ZWFkJylcbiAgICB9KTtcbiAgfTtcbn1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gdXNlQmFzZW5hbWU7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaGlzdG9yeS9saWIvdXNlQmFzZW5hbWUuanNcbi8vIG1vZHVsZSBpZCA9IDQxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JvdXRlcldhcm5pbmcgPSByZXF1aXJlKCcuL3JvdXRlcldhcm5pbmcnKTtcblxudmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXG52YXIgX2ludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuXG52YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuXG52YXIgX1Byb3BUeXBlcyA9IHJlcXVpcmUoJy4vUHJvcFR5cGVzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvYmosIGtleXMpIHsgdmFyIHRhcmdldCA9IHt9OyBmb3IgKHZhciBpIGluIG9iaikgeyBpZiAoa2V5cy5pbmRleE9mKGkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGkpKSBjb250aW51ZTsgdGFyZ2V0W2ldID0gb2JqW2ldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxudmFyIF9SZWFjdCRQcm9wVHlwZXMgPSBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzO1xudmFyIGJvb2wgPSBfUmVhY3QkUHJvcFR5cGVzLmJvb2w7XG52YXIgb2JqZWN0ID0gX1JlYWN0JFByb3BUeXBlcy5vYmplY3Q7XG52YXIgc3RyaW5nID0gX1JlYWN0JFByb3BUeXBlcy5zdHJpbmc7XG52YXIgZnVuYyA9IF9SZWFjdCRQcm9wVHlwZXMuZnVuYztcbnZhciBvbmVPZlR5cGUgPSBfUmVhY3QkUHJvcFR5cGVzLm9uZU9mVHlwZTtcblxuXG5mdW5jdGlvbiBpc0xlZnRDbGlja0V2ZW50KGV2ZW50KSB7XG4gIHJldHVybiBldmVudC5idXR0b24gPT09IDA7XG59XG5cbmZ1bmN0aW9uIGlzTW9kaWZpZWRFdmVudChldmVudCkge1xuICByZXR1cm4gISEoZXZlbnQubWV0YUtleSB8fCBldmVudC5hbHRLZXkgfHwgZXZlbnQuY3RybEtleSB8fCBldmVudC5zaGlmdEtleSk7XG59XG5cbi8vIFRPRE86IERlLWR1cGxpY2F0ZSBhZ2FpbnN0IGhhc0FueVByb3BlcnRpZXMgaW4gY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIuXG5mdW5jdGlvbiBpc0VtcHR5T2JqZWN0KG9iamVjdCkge1xuICBmb3IgKHZhciBwIGluIG9iamVjdCkge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwKSkgcmV0dXJuIGZhbHNlO1xuICB9cmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uRGVzY3JpcHRvcih0bywgX3JlZikge1xuICB2YXIgcXVlcnkgPSBfcmVmLnF1ZXJ5O1xuICB2YXIgaGFzaCA9IF9yZWYuaGFzaDtcbiAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZTtcblxuICBpZiAocXVlcnkgfHwgaGFzaCB8fCBzdGF0ZSkge1xuICAgIHJldHVybiB7IHBhdGhuYW1lOiB0bywgcXVlcnk6IHF1ZXJ5LCBoYXNoOiBoYXNoLCBzdGF0ZTogc3RhdGUgfTtcbiAgfVxuXG4gIHJldHVybiB0bztcbn1cblxuLyoqXG4gKiBBIDxMaW5rPiBpcyB1c2VkIHRvIGNyZWF0ZSBhbiA8YT4gZWxlbWVudCB0aGF0IGxpbmtzIHRvIGEgcm91dGUuXG4gKiBXaGVuIHRoYXQgcm91dGUgaXMgYWN0aXZlLCB0aGUgbGluayBnZXRzIHRoZSB2YWx1ZSBvZiBpdHNcbiAqIGFjdGl2ZUNsYXNzTmFtZSBwcm9wLlxuICpcbiAqIEZvciBleGFtcGxlLCBhc3N1bWluZyB5b3UgaGF2ZSB0aGUgZm9sbG93aW5nIHJvdXRlOlxuICpcbiAqICAgPFJvdXRlIHBhdGg9XCIvcG9zdHMvOnBvc3RJRFwiIGNvbXBvbmVudD17UG9zdH0gLz5cbiAqXG4gKiBZb3UgY291bGQgdXNlIHRoZSBmb2xsb3dpbmcgY29tcG9uZW50IHRvIGxpbmsgdG8gdGhhdCByb3V0ZTpcbiAqXG4gKiAgIDxMaW5rIHRvPXtgL3Bvc3RzLyR7cG9zdC5pZH1gfSAvPlxuICpcbiAqIExpbmtzIG1heSBwYXNzIGFsb25nIGxvY2F0aW9uIHN0YXRlIGFuZC9vciBxdWVyeSBzdHJpbmcgcGFyYW1ldGVyc1xuICogaW4gdGhlIHN0YXRlL3F1ZXJ5IHByb3BzLCByZXNwZWN0aXZlbHkuXG4gKlxuICogICA8TGluayAuLi4gcXVlcnk9e3sgc2hvdzogdHJ1ZSB9fSBzdGF0ZT17eyB0aGU6ICdzdGF0ZScgfX0gLz5cbiAqL1xudmFyIExpbmsgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ0xpbmsnLFxuXG5cbiAgY29udGV4dFR5cGVzOiB7XG4gICAgcm91dGVyOiBfUHJvcFR5cGVzLnJvdXRlclNoYXBlXG4gIH0sXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgdG86IG9uZU9mVHlwZShbc3RyaW5nLCBvYmplY3RdKSxcbiAgICBxdWVyeTogb2JqZWN0LFxuICAgIGhhc2g6IHN0cmluZyxcbiAgICBzdGF0ZTogb2JqZWN0LFxuICAgIGFjdGl2ZVN0eWxlOiBvYmplY3QsXG4gICAgYWN0aXZlQ2xhc3NOYW1lOiBzdHJpbmcsXG4gICAgb25seUFjdGl2ZU9uSW5kZXg6IGJvb2wuaXNSZXF1aXJlZCxcbiAgICBvbkNsaWNrOiBmdW5jLFxuICAgIHRhcmdldDogc3RyaW5nXG4gIH0sXG5cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9ubHlBY3RpdmVPbkluZGV4OiBmYWxzZSxcbiAgICAgIHN0eWxlOiB7fVxuICAgIH07XG4gIH0sXG4gIGhhbmRsZUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVDbGljayhldmVudCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9uQ2xpY2spIHRoaXMucHJvcHMub25DbGljayhldmVudCk7XG5cbiAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkgcmV0dXJuO1xuXG4gICAgIXRoaXMuY29udGV4dC5yb3V0ZXIgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlLCAnPExpbms+cyByZW5kZXJlZCBvdXRzaWRlIG9mIGEgcm91dGVyIGNvbnRleHQgY2Fubm90IG5hdmlnYXRlLicpIDogKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlKSA6IHZvaWQgMDtcblxuICAgIGlmIChpc01vZGlmaWVkRXZlbnQoZXZlbnQpIHx8ICFpc0xlZnRDbGlja0V2ZW50KGV2ZW50KSkgcmV0dXJuO1xuXG4gICAgLy8gSWYgdGFyZ2V0IHByb3AgaXMgc2V0IChlLmcuIHRvIFwiX2JsYW5rXCIpLCBsZXQgYnJvd3NlciBoYW5kbGUgbGluay5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWY6IHVudGVzdGFibGUgd2l0aCBLYXJtYSAqL1xuICAgIGlmICh0aGlzLnByb3BzLnRhcmdldCkgcmV0dXJuO1xuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciB0byA9IF9wcm9wcy50bztcbiAgICB2YXIgcXVlcnkgPSBfcHJvcHMucXVlcnk7XG4gICAgdmFyIGhhc2ggPSBfcHJvcHMuaGFzaDtcbiAgICB2YXIgc3RhdGUgPSBfcHJvcHMuc3RhdGU7XG5cbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbkRlc2NyaXB0b3IodG8sIHsgcXVlcnk6IHF1ZXJ5LCBoYXNoOiBoYXNoLCBzdGF0ZTogc3RhdGUgfSk7XG5cbiAgICB0aGlzLmNvbnRleHQucm91dGVyLnB1c2gobG9jYXRpb24pO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHM7XG4gICAgdmFyIHRvID0gX3Byb3BzMi50bztcbiAgICB2YXIgcXVlcnkgPSBfcHJvcHMyLnF1ZXJ5O1xuICAgIHZhciBoYXNoID0gX3Byb3BzMi5oYXNoO1xuICAgIHZhciBzdGF0ZSA9IF9wcm9wczIuc3RhdGU7XG4gICAgdmFyIGFjdGl2ZUNsYXNzTmFtZSA9IF9wcm9wczIuYWN0aXZlQ2xhc3NOYW1lO1xuICAgIHZhciBhY3RpdmVTdHlsZSA9IF9wcm9wczIuYWN0aXZlU3R5bGU7XG4gICAgdmFyIG9ubHlBY3RpdmVPbkluZGV4ID0gX3Byb3BzMi5vbmx5QWN0aXZlT25JbmRleDtcblxuICAgIHZhciBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcHJvcHMyLCBbJ3RvJywgJ3F1ZXJ5JywgJ2hhc2gnLCAnc3RhdGUnLCAnYWN0aXZlQ2xhc3NOYW1lJywgJ2FjdGl2ZVN0eWxlJywgJ29ubHlBY3RpdmVPbkluZGV4J10pO1xuXG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoIShxdWVyeSB8fCBoYXNoIHx8IHN0YXRlKSwgJ3RoZSBgcXVlcnlgLCBgaGFzaGAsIGFuZCBgc3RhdGVgIHByb3BzIG9uIGA8TGluaz5gIGFyZSBkZXByZWNhdGVkLCB1c2UgYDxMaW5rIHRvPXt7IHBhdGhuYW1lLCBxdWVyeSwgaGFzaCwgc3RhdGUgfX0vPi4gaHR0cDovL3RpbnkuY2Mvcm91dGVyLWlzQWN0aXZlZGVwcmVjYXRlZCcpIDogdm9pZCAwO1xuXG4gICAgLy8gSWdub3JlIGlmIHJlbmRlcmVkIG91dHNpZGUgdGhlIGNvbnRleHQgb2Ygcm91dGVyLCBzaW1wbGlmaWVzIHVuaXQgdGVzdGluZy5cbiAgICB2YXIgcm91dGVyID0gdGhpcy5jb250ZXh0LnJvdXRlcjtcblxuXG4gICAgaWYgKHJvdXRlcikge1xuICAgICAgLy8gSWYgdXNlciBkb2VzIG5vdCBzcGVjaWZ5IGEgYHRvYCBwcm9wLCByZXR1cm4gYW4gZW1wdHkgYW5jaG9yIHRhZy5cbiAgICAgIGlmICh0byA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnYScsIHByb3BzKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb25EZXNjcmlwdG9yKHRvLCB7IHF1ZXJ5OiBxdWVyeSwgaGFzaDogaGFzaCwgc3RhdGU6IHN0YXRlIH0pO1xuICAgICAgcHJvcHMuaHJlZiA9IHJvdXRlci5jcmVhdGVIcmVmKGxvY2F0aW9uKTtcblxuICAgICAgaWYgKGFjdGl2ZUNsYXNzTmFtZSB8fCBhY3RpdmVTdHlsZSAhPSBudWxsICYmICFpc0VtcHR5T2JqZWN0KGFjdGl2ZVN0eWxlKSkge1xuICAgICAgICBpZiAocm91dGVyLmlzQWN0aXZlKGxvY2F0aW9uLCBvbmx5QWN0aXZlT25JbmRleCkpIHtcbiAgICAgICAgICBpZiAoYWN0aXZlQ2xhc3NOYW1lKSB7XG4gICAgICAgICAgICBpZiAocHJvcHMuY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgIHByb3BzLmNsYXNzTmFtZSArPSAnICcgKyBhY3RpdmVDbGFzc05hbWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwcm9wcy5jbGFzc05hbWUgPSBhY3RpdmVDbGFzc05hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGFjdGl2ZVN0eWxlKSBwcm9wcy5zdHlsZSA9IF9leHRlbmRzKHt9LCBwcm9wcy5zdHlsZSwgYWN0aXZlU3R5bGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdhJywgX2V4dGVuZHMoe30sIHByb3BzLCB7IG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ2xpY2sgfSkpO1xuICB9XG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gTGluaztcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yb3V0ZXIvbGliL0xpbmsuanNcbi8vIG1vZHVsZSBpZCA9IDQyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2ludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuXG52YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuXG52YXIgX1JvdXRlVXRpbHMgPSByZXF1aXJlKCcuL1JvdXRlVXRpbHMnKTtcblxudmFyIF9QYXR0ZXJuVXRpbHMgPSByZXF1aXJlKCcuL1BhdHRlcm5VdGlscycpO1xuXG52YXIgX0ludGVybmFsUHJvcFR5cGVzID0gcmVxdWlyZSgnLi9JbnRlcm5hbFByb3BUeXBlcycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgX1JlYWN0JFByb3BUeXBlcyA9IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXM7XG52YXIgc3RyaW5nID0gX1JlYWN0JFByb3BUeXBlcy5zdHJpbmc7XG52YXIgb2JqZWN0ID0gX1JlYWN0JFByb3BUeXBlcy5vYmplY3Q7XG5cbi8qKlxuICogQSA8UmVkaXJlY3Q+IGlzIHVzZWQgdG8gZGVjbGFyZSBhbm90aGVyIFVSTCBwYXRoIGEgY2xpZW50IHNob3VsZFxuICogYmUgc2VudCB0byB3aGVuIHRoZXkgcmVxdWVzdCBhIGdpdmVuIFVSTC5cbiAqXG4gKiBSZWRpcmVjdHMgYXJlIHBsYWNlZCBhbG9uZ3NpZGUgcm91dGVzIGluIHRoZSByb3V0ZSBjb25maWd1cmF0aW9uXG4gKiBhbmQgYXJlIHRyYXZlcnNlZCBpbiB0aGUgc2FtZSBtYW5uZXIuXG4gKi9cblxudmFyIFJlZGlyZWN0ID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdSZWRpcmVjdCcsXG5cblxuICBzdGF0aWNzOiB7XG4gICAgY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50OiBmdW5jdGlvbiBjcmVhdGVSb3V0ZUZyb21SZWFjdEVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgdmFyIHJvdXRlID0gKDAsIF9Sb3V0ZVV0aWxzLmNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudCkoZWxlbWVudCk7XG5cbiAgICAgIGlmIChyb3V0ZS5mcm9tKSByb3V0ZS5wYXRoID0gcm91dGUuZnJvbTtcblxuICAgICAgcm91dGUub25FbnRlciA9IGZ1bmN0aW9uIChuZXh0U3RhdGUsIHJlcGxhY2UpIHtcbiAgICAgICAgdmFyIGxvY2F0aW9uID0gbmV4dFN0YXRlLmxvY2F0aW9uO1xuICAgICAgICB2YXIgcGFyYW1zID0gbmV4dFN0YXRlLnBhcmFtcztcblxuXG4gICAgICAgIHZhciBwYXRobmFtZSA9IHZvaWQgMDtcbiAgICAgICAgaWYgKHJvdXRlLnRvLmNoYXJBdCgwKSA9PT0gJy8nKSB7XG4gICAgICAgICAgcGF0aG5hbWUgPSAoMCwgX1BhdHRlcm5VdGlscy5mb3JtYXRQYXR0ZXJuKShyb3V0ZS50bywgcGFyYW1zKTtcbiAgICAgICAgfSBlbHNlIGlmICghcm91dGUudG8pIHtcbiAgICAgICAgICBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciByb3V0ZUluZGV4ID0gbmV4dFN0YXRlLnJvdXRlcy5pbmRleE9mKHJvdXRlKTtcbiAgICAgICAgICB2YXIgcGFyZW50UGF0dGVybiA9IFJlZGlyZWN0LmdldFJvdXRlUGF0dGVybihuZXh0U3RhdGUucm91dGVzLCByb3V0ZUluZGV4IC0gMSk7XG4gICAgICAgICAgdmFyIHBhdHRlcm4gPSBwYXJlbnRQYXR0ZXJuLnJlcGxhY2UoL1xcLyokLywgJy8nKSArIHJvdXRlLnRvO1xuICAgICAgICAgIHBhdGhuYW1lID0gKDAsIF9QYXR0ZXJuVXRpbHMuZm9ybWF0UGF0dGVybikocGF0dGVybiwgcGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcGxhY2Uoe1xuICAgICAgICAgIHBhdGhuYW1lOiBwYXRobmFtZSxcbiAgICAgICAgICBxdWVyeTogcm91dGUucXVlcnkgfHwgbG9jYXRpb24ucXVlcnksXG4gICAgICAgICAgc3RhdGU6IHJvdXRlLnN0YXRlIHx8IGxvY2F0aW9uLnN0YXRlXG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHJvdXRlO1xuICAgIH0sXG4gICAgZ2V0Um91dGVQYXR0ZXJuOiBmdW5jdGlvbiBnZXRSb3V0ZVBhdHRlcm4ocm91dGVzLCByb3V0ZUluZGV4KSB7XG4gICAgICB2YXIgcGFyZW50UGF0dGVybiA9ICcnO1xuXG4gICAgICBmb3IgKHZhciBpID0gcm91dGVJbmRleDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdmFyIHJvdXRlID0gcm91dGVzW2ldO1xuICAgICAgICB2YXIgcGF0dGVybiA9IHJvdXRlLnBhdGggfHwgJyc7XG5cbiAgICAgICAgcGFyZW50UGF0dGVybiA9IHBhdHRlcm4ucmVwbGFjZSgvXFwvKiQvLCAnLycpICsgcGFyZW50UGF0dGVybjtcblxuICAgICAgICBpZiAocGF0dGVybi5pbmRleE9mKCcvJykgPT09IDApIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gJy8nICsgcGFyZW50UGF0dGVybjtcbiAgICB9XG4gIH0sXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgcGF0aDogc3RyaW5nLFxuICAgIGZyb206IHN0cmluZywgLy8gQWxpYXMgZm9yIHBhdGhcbiAgICB0bzogc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgcXVlcnk6IG9iamVjdCxcbiAgICBzdGF0ZTogb2JqZWN0LFxuICAgIG9uRW50ZXI6IF9JbnRlcm5hbFByb3BUeXBlcy5mYWxzeSxcbiAgICBjaGlsZHJlbjogX0ludGVybmFsUHJvcFR5cGVzLmZhbHN5XG4gIH0sXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IHNhbml0eSBjaGVjayAqL1xuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAhZmFsc2UgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlLCAnPFJlZGlyZWN0PiBlbGVtZW50cyBhcmUgZm9yIHJvdXRlciBjb25maWd1cmF0aW9uIG9ubHkgYW5kIHNob3VsZCBub3QgYmUgcmVuZGVyZWQnKSA6ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSkgOiB2b2lkIDA7XG4gIH1cbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSZWRpcmVjdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yb3V0ZXIvbGliL1JlZGlyZWN0LmpzXG4vLyBtb2R1bGUgaWQgPSA0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmV4cG9ydHMuY3JlYXRlUm91dGVyT2JqZWN0ID0gY3JlYXRlUm91dGVyT2JqZWN0O1xuZXhwb3J0cy5jcmVhdGVSb3V0aW5nSGlzdG9yeSA9IGNyZWF0ZVJvdXRpbmdIaXN0b3J5O1xuXG52YXIgX2RlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMgPSByZXF1aXJlKCcuL2RlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMnKTtcblxudmFyIF9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBjcmVhdGVSb3V0ZXJPYmplY3QoaGlzdG9yeSwgdHJhbnNpdGlvbk1hbmFnZXIpIHtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBoaXN0b3J5LCB7XG4gICAgc2V0Um91dGVMZWF2ZUhvb2s6IHRyYW5zaXRpb25NYW5hZ2VyLmxpc3RlbkJlZm9yZUxlYXZpbmdSb3V0ZSxcbiAgICBpc0FjdGl2ZTogdHJhbnNpdGlvbk1hbmFnZXIuaXNBY3RpdmVcbiAgfSk7XG59XG5cbi8vIGRlcHJlY2F0ZWRcbmZ1bmN0aW9uIGNyZWF0ZVJvdXRpbmdIaXN0b3J5KGhpc3RvcnksIHRyYW5zaXRpb25NYW5hZ2VyKSB7XG4gIGhpc3RvcnkgPSBfZXh0ZW5kcyh7fSwgaGlzdG9yeSwgdHJhbnNpdGlvbk1hbmFnZXIpO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaGlzdG9yeSA9ICgwLCBfZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllczIuZGVmYXVsdCkoaGlzdG9yeSwgJ2Bwcm9wcy5oaXN0b3J5YCBhbmQgYGNvbnRleHQuaGlzdG9yeWAgYXJlIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgYGNvbnRleHQucm91dGVyYC4gaHR0cDovL3RpbnkuY2Mvcm91dGVyLWNvbnRleHRjaGFuZ2VzJyk7XG4gIH1cblxuICByZXR1cm4gaGlzdG9yeTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtcm91dGVyL2xpYi9Sb3V0ZXJVdGlscy5qc1xuLy8gbW9kdWxlIGlkID0gNDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlTWVtb3J5SGlzdG9yeTtcblxudmFyIF91c2VRdWVyaWVzID0gcmVxdWlyZSgnaGlzdG9yeS9saWIvdXNlUXVlcmllcycpO1xuXG52YXIgX3VzZVF1ZXJpZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXNlUXVlcmllcyk7XG5cbnZhciBfdXNlQmFzZW5hbWUgPSByZXF1aXJlKCdoaXN0b3J5L2xpYi91c2VCYXNlbmFtZScpO1xuXG52YXIgX3VzZUJhc2VuYW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VzZUJhc2VuYW1lKTtcblxudmFyIF9jcmVhdGVNZW1vcnlIaXN0b3J5ID0gcmVxdWlyZSgnaGlzdG9yeS9saWIvY3JlYXRlTWVtb3J5SGlzdG9yeScpO1xuXG52YXIgX2NyZWF0ZU1lbW9yeUhpc3RvcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlTWVtb3J5SGlzdG9yeSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGNyZWF0ZU1lbW9yeUhpc3Rvcnkob3B0aW9ucykge1xuICAvLyBzaWduYXR1cmVzIGFuZCB0eXBlIGNoZWNraW5nIGRpZmZlciBiZXR3ZWVuIGB1c2VSb3V0ZXNgIGFuZFxuICAvLyBgY3JlYXRlTWVtb3J5SGlzdG9yeWAsIGhhdmUgdG8gY3JlYXRlIGBtZW1vcnlIaXN0b3J5YCBmaXJzdCBiZWNhdXNlXG4gIC8vIGB1c2VRdWVyaWVzYCBkb2Vzbid0IHVuZGVyc3RhbmQgdGhlIHNpZ25hdHVyZVxuICB2YXIgbWVtb3J5SGlzdG9yeSA9ICgwLCBfY3JlYXRlTWVtb3J5SGlzdG9yeTIuZGVmYXVsdCkob3B0aW9ucyk7XG4gIHZhciBjcmVhdGVIaXN0b3J5ID0gZnVuY3Rpb24gY3JlYXRlSGlzdG9yeSgpIHtcbiAgICByZXR1cm4gbWVtb3J5SGlzdG9yeTtcbiAgfTtcbiAgdmFyIGhpc3RvcnkgPSAoMCwgX3VzZVF1ZXJpZXMyLmRlZmF1bHQpKCgwLCBfdXNlQmFzZW5hbWUyLmRlZmF1bHQpKGNyZWF0ZUhpc3RvcnkpKShvcHRpb25zKTtcbiAgaGlzdG9yeS5fX3YyX2NvbXBhdGlibGVfXyA9IHRydWU7XG4gIHJldHVybiBoaXN0b3J5O1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvY3JlYXRlTWVtb3J5SGlzdG9yeS5qc1xuLy8gbW9kdWxlIGlkID0gNDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoY3JlYXRlSGlzdG9yeSkge1xuICB2YXIgaGlzdG9yeSA9IHZvaWQgMDtcbiAgaWYgKGNhblVzZURPTSkgaGlzdG9yeSA9ICgwLCBfdXNlUm91dGVySGlzdG9yeTIuZGVmYXVsdCkoY3JlYXRlSGlzdG9yeSkoKTtcbiAgcmV0dXJuIGhpc3Rvcnk7XG59O1xuXG52YXIgX3VzZVJvdXRlckhpc3RvcnkgPSByZXF1aXJlKCcuL3VzZVJvdXRlckhpc3RvcnknKTtcblxudmFyIF91c2VSb3V0ZXJIaXN0b3J5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VzZVJvdXRlckhpc3RvcnkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgY2FuVXNlRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvY3JlYXRlUm91dGVySGlzdG9yeS5qc1xuLy8gbW9kdWxlIGlkID0gNDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBtYWtlU3RhdGVXaXRoTG9jYXRpb247XG5cbnZhciBfZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllcyA9IHJlcXVpcmUoJy4vZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllcycpO1xuXG52YXIgX3JvdXRlcldhcm5pbmcgPSByZXF1aXJlKCcuL3JvdXRlcldhcm5pbmcnKTtcblxudmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBtYWtlU3RhdGVXaXRoTG9jYXRpb24oc3RhdGUsIGxvY2F0aW9uKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIF9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzLmNhblVzZU1lbWJyYW5lKSB7XG4gICAgdmFyIHN0YXRlV2l0aExvY2F0aW9uID0gX2V4dGVuZHMoe30sIHN0YXRlKTtcblxuICAgIC8vIEkgZG9uJ3QgdXNlIGRlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMgaGVyZSBiZWNhdXNlIEkgd2FudCB0byBrZWVwIHRoZVxuICAgIC8vIHNhbWUgY29kZSBwYXRoIGJldHdlZW4gZGV2ZWxvcG1lbnQgYW5kIHByb2R1Y3Rpb24sIGluIHRoYXQgd2UganVzdFxuICAgIC8vIGFzc2lnbiBleHRyYSBwcm9wZXJ0aWVzIHRvIHRoZSBjb3B5IG9mIHRoZSBzdGF0ZSBvYmplY3QgaW4gYm90aCBjYXNlcy5cblxuICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKHByb3ApIHtcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGxvY2F0aW9uLCBwcm9wKSkge1xuICAgICAgICByZXR1cm4gJ2NvbnRpbnVlJztcbiAgICAgIH1cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN0YXRlV2l0aExvY2F0aW9uLCBwcm9wLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKGZhbHNlLCAnQWNjZXNzaW5nIGxvY2F0aW9uIHByb3BlcnRpZXMgZGlyZWN0bHkgZnJvbSB0aGUgZmlyc3QgYXJndW1lbnQgdG8gYGdldENvbXBvbmVudGAsIGBnZXRDb21wb25lbnRzYCwgYGdldENoaWxkUm91dGVzYCwgYW5kIGBnZXRJbmRleFJvdXRlYCBpcyBkZXByZWNhdGVkLiBUaGF0IGFyZ3VtZW50IGlzIG5vdyB0aGUgcm91dGVyIHN0YXRlIChgbmV4dFN0YXRlYCBvciBgcGFydGlhbE5leHRTdGF0ZWApIHJhdGhlciB0aGFuIHRoZSBsb2NhdGlvbi4gVG8gYWNjZXNzIHRoZSBsb2NhdGlvbiwgdXNlIGBuZXh0U3RhdGUubG9jYXRpb25gIG9yIGBwYXJ0aWFsTmV4dFN0YXRlLmxvY2F0aW9uYC4nKSA6IHZvaWQgMDtcbiAgICAgICAgICByZXR1cm4gbG9jYXRpb25bcHJvcF07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmb3IgKHZhciBwcm9wIGluIGxvY2F0aW9uKSB7XG4gICAgICB2YXIgX3JldCA9IF9sb29wKHByb3ApO1xuXG4gICAgICBpZiAoX3JldCA9PT0gJ2NvbnRpbnVlJykgY29udGludWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXRlV2l0aExvY2F0aW9uO1xuICB9XG5cbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwgbG9jYXRpb24pO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvbWFrZVN0YXRlV2l0aExvY2F0aW9uLmpzXG4vLyBtb2R1bGUgaWQgPSA0N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB1c2VSb3V0ZXJIaXN0b3J5O1xuXG52YXIgX3VzZVF1ZXJpZXMgPSByZXF1aXJlKCdoaXN0b3J5L2xpYi91c2VRdWVyaWVzJyk7XG5cbnZhciBfdXNlUXVlcmllczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91c2VRdWVyaWVzKTtcblxudmFyIF91c2VCYXNlbmFtZSA9IHJlcXVpcmUoJ2hpc3RvcnkvbGliL3VzZUJhc2VuYW1lJyk7XG5cbnZhciBfdXNlQmFzZW5hbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXNlQmFzZW5hbWUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiB1c2VSb3V0ZXJIaXN0b3J5KGNyZWF0ZUhpc3RvcnkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGhpc3RvcnkgPSAoMCwgX3VzZVF1ZXJpZXMyLmRlZmF1bHQpKCgwLCBfdXNlQmFzZW5hbWUyLmRlZmF1bHQpKGNyZWF0ZUhpc3RvcnkpKShvcHRpb25zKTtcbiAgICBoaXN0b3J5Ll9fdjJfY29tcGF0aWJsZV9fID0gdHJ1ZTtcbiAgICByZXR1cm4gaGlzdG9yeTtcbiAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yb3V0ZXIvbGliL3VzZVJvdXRlckhpc3RvcnkuanNcbi8vIG1vZHVsZSBpZCA9IDQ4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xudmFyIHJlcGVhdCA9IGV4cG9ydHMucmVwZWF0ID0gZnVuY3Rpb24gcmVwZWF0KHN0ciwgdGltZXMpIHtcbiAgcmV0dXJuIG5ldyBBcnJheSh0aW1lcyArIDEpLmpvaW4oc3RyKTtcbn07XG5cbnZhciBwYWQgPSBleHBvcnRzLnBhZCA9IGZ1bmN0aW9uIHBhZChudW0sIG1heExlbmd0aCkge1xuICByZXR1cm4gcmVwZWF0KFwiMFwiLCBtYXhMZW5ndGggLSBudW0udG9TdHJpbmcoKS5sZW5ndGgpICsgbnVtO1xufTtcblxudmFyIGZvcm1hdFRpbWUgPSBleHBvcnRzLmZvcm1hdFRpbWUgPSBmdW5jdGlvbiBmb3JtYXRUaW1lKHRpbWUpIHtcbiAgcmV0dXJuIHBhZCh0aW1lLmdldEhvdXJzKCksIDIpICsgXCI6XCIgKyBwYWQodGltZS5nZXRNaW51dGVzKCksIDIpICsgXCI6XCIgKyBwYWQodGltZS5nZXRTZWNvbmRzKCksIDIpICsgXCIuXCIgKyBwYWQodGltZS5nZXRNaWxsaXNlY29uZHMoKSwgMyk7XG59O1xuXG4vLyBVc2UgcGVyZm9ybWFuY2UgQVBJIGlmIGl0J3MgYXZhaWxhYmxlIGluIG9yZGVyIHRvIGdldCBiZXR0ZXIgcHJlY2lzaW9uXG52YXIgdGltZXIgPSBleHBvcnRzLnRpbWVyID0gdHlwZW9mIHBlcmZvcm1hbmNlICE9PSBcInVuZGVmaW5lZFwiICYmIHBlcmZvcm1hbmNlICE9PSBudWxsICYmIHR5cGVvZiBwZXJmb3JtYW5jZS5ub3cgPT09IFwiZnVuY3Rpb25cIiA/IHBlcmZvcm1hbmNlIDogRGF0ZTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVkdXgtbG9nZ2VyL2xpYi9oZWxwZXJzLmpzXG4vLyBtb2R1bGUgaWQgPSA0OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQge1JFUVVFU1RfTE9HSU4sIFJFQ0VJVkVfTE9HSU59IGZyb20gJy4vQWN0aW9uc1R5cGVzJztcblxuaW1wb3J0IGxvZ2luIGZyb20gJy4uL2FwaS9sb2dpbic7XG5pbXBvcnQge21lc3NhZ2V9IGZyb20gJ2FudGQnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9naW4oZGF0YSkge1xuICByZXR1cm4gZGlzcGF0Y2ggPT57XG4gICAgICAgbWVzc2FnZS5sb2FkaW5nKCfnmbvlvZXkuK0uLi4nKTtcbiAgICAgICAgbG9naW4ubG9naW4oZGF0YSxjb25maWc9PntcbiAgICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOlJFQ0VJVkVfTE9HSU4sXG4gICAgICAgICAgICAgICAgY29uZmlnOmNvbmZpZ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9ICAgXG59XG5cblxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wdWJsaWMvYXBwL2FjdGlvbnMvZmV0Y2hMb2dpbkluZm8uanMiLCIvKipcbiAqIENyZWF0ZWQgYnkgbGlhb2ppYW5qdW4gb24gMjAxNi83LzI3LlxuICovXG5pbXBvcnQgZmV0Y2ggZnJvbSAnaXNvbW9ycGhpYy1mZXRjaCdcbmltcG9ydCB7bWVzc2FnZX0gZnJvbSAnYW50ZCdcbmltcG9ydCB7YnJvd3Nlckhpc3Rvcnl9IGZyb20gJ3JlYWN0LXJvdXRlcidcbmV4cG9ydCAgZGVmYXVsdHtcbiAgICBsb2dpbihkYXRhLCBjYil7XG4gICAgICBicm93c2VySGlzdG9yeS5wdXNoKCcvZWVJbkJ1cHRXZWIvZGFzaGJvYXJkJyk7XG4gICAgICBtZXNzYWdlLnN1Y2Nlc3MoJ+eZu+W9leaIkOWKn++8gScpO1xuICAgICAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgZm9yIChuYW1lIGluIGRhdGEpIHtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChuYW1lLCBkYXRhW25hbWVdKTtcbiAgICAgICAgfVxuICAgICAgICBmZXRjaCgnL2ZlZWxlcjIvbG9naW4vc3VibWl0Jywge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyxcbiAgICAgICAgICAgIGJvZHk6IGZvcm1EYXRhXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKVxuICAgICAgICAgICAgLnRoZW4oanNvbiA9PiB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChqc29uLmVyckNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3VjY2Vzcygn55m75b2V5oiQ5Yqf77yBJyk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaCgnL2VlSW5CdXB0V2ViL2Rhc2hib2FyZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2IoanNvbi5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEwMDEwMDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmVycm9yKFwi55So5oi35LiN5a2Y5ZyoXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTAwMTAwMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXJyb3IoXCLlr4bnoIHplJnor69cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXJyb3IoanNvbi5tc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcHVibGljL2FwcC9hcGkvbG9naW4uanMiLCIvKipcbiAqIENyZWF0ZWQgYnkgam9zZXBoaSBvbiAyMDE2LzEyLzIyLlxuICovXG5pbXBvcnQgUmVhY3Qse0NvbXBvbmVudH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQge01lbnUsSWNvbn0gZnJvbSAnYW50ZCc7XG5pbXBvcnQge2Jyb3dzZXJIaXN0b3J5fSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuXG5pbXBvcnQgJy4vaW5kZXguc2NzcydcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENmaWd1cmUgZXh0ZW5kcyBDb21wb25lbnR7XG4gIGNvbnN0cnVjdG9yKHByb3BzKXtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZT17XG5cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKXtcbiAgICByZXR1cm4oXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpZ3VyZVwiPlxuICAgICAgICDliqjlm74uLi5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3B1YmxpYy9hcHAvY29tcG9uZW50cy9DZmlndXJlL2luZGV4LmpzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGpvc2VwaGkgb24gMjAxNi8xMi8yMS5cbiAqL1xuaW1wb3J0IFJlYWN0LHtDb21wb25lbnR9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHtNZW51LEljb259IGZyb20gJ2FudGQnO1xuaW1wb3J0IHticm93c2VySGlzdG9yeX0gZnJvbSAncmVhY3Qtcm91dGVyJztcblxuaW1wb3J0ICcuL2luZGV4LnNjc3MnXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaGFubmVsIGV4dGVuZHMgQ29tcG9uZW50e1xuICBjb25zdHJ1Y3Rvcihwcm9wcyl7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGU9e1xuXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCl7XG4gICAgcmV0dXJuKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGFubmVsXCI+XG4gICAgICAgIDxkaXYgb25DbGljaz17KCk9Pnticm93c2VySGlzdG9yeS5wdXNoKCl9fSBzdHlsZT17e2ZvbnRTaXplOlwiNDBweFwiLGNvbG9yOlwicHVycGxlXCJ9fT7lv6vpgJ/pgJrpgZM8L2Rpdj5cbiAgICAgICAgPGRpdiBvbkNsaWNrPXsoKT0+e2Jyb3dzZXJIaXN0b3J5LnB1c2goKX19PuWtpuWRmOazqOWGjC/nmbvlvZU8L2Rpdj5cbiAgICAgICAgPGRpdiBvbkNsaWNrPXsoKT0+e2Jyb3dzZXJIaXN0b3J5LnB1c2goKX19PuWtpuWRmOS4reW/gzwvZGl2PlxuICAgICAgICA8ZGl2IG9uQ2xpY2s9eygpPT57YnJvd3Nlckhpc3RvcnkucHVzaCgpfX0+6K++56iL5Z+56K6tPC9kaXY+XG4gICAgICAgIDxkaXYgb25DbGljaz17KCk9Pnticm93c2VySGlzdG9yeS5wdXNoKCl9fT7ogZTns7vmiJHku6w8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3B1YmxpYy9hcHAvY29tcG9uZW50cy9DaGFubmVsL2luZGV4LmpzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGpvc2VwaGkgb24gMjAxNi8xMi8yMi5cbiAqL1xuaW1wb3J0IFJlYWN0LCB7Q29tcG9uZW50fSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7TWVudSwgSWNvbn0gZnJvbSAnYW50ZCc7XG5pbXBvcnQge2Jyb3dzZXJIaXN0b3J5fSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuXG5pbXBvcnQgJy4vaW5kZXguc2NzcydcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNob3dMaXN0IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHt9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgdHJlbmRzTGlzdCA9IHRoaXMucHJvcHMudHJlbmRzTGlzdC5tYXAoKHZhbHVlLCBpbmRleCkgPT5cbiAgICAgIDxsaSBrZXk9e2luZGV4fT48ZGl2IGNsYXNzTmFtZT1cImNvbnRlbnRcIj57dmFsdWUuY29udGVudH08L2Rpdj4gPGRpdiBjbGFzc05hbWU9XCJ0aW1lXCI+W3t2YWx1ZS50aW1lfV0gPC9kaXY+PC9saT4pO1xuICAgIGNvbnN0IG5ld0NsYXNzTGlzdCA9IHRoaXMucHJvcHMubmV3Q2xhc3NMaXN0Lm1hcCgodmFsdWUsIGluZGV4KSA9PlxuICAgICAgPGxpIGtleT17aW5kZXh9PjxkaXYgY2xhc3NOYW1lPVwiY29udGVudFwiPnt2YWx1ZS5jb250ZW50fTwvZGl2PiA8ZGl2IGNsYXNzTmFtZT1cInRpbWVcIj5be3ZhbHVlLnRpbWV9XSA8L2Rpdj48L2xpPik7XG4gICAgY29uc3QgaG90Q2xhc3NMaXN0ID0gdGhpcy5wcm9wcy5ob3RDbGFzc0xpc3QubWFwKCh2YWx1ZSwgaW5kZXgpID0+XG4gICAgICA8bGkga2V5PXtpbmRleH0+PGRpdiBjbGFzc05hbWU9XCJjb250ZW50XCI+e3ZhbHVlLmNvbnRlbnR9PC9kaXY+IDxkaXYgY2xhc3NOYW1lPVwidGltZVwiPlt7dmFsdWUudGltZX1dIDwvZGl2PjwvbGk+KTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNob3dMaXN0XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmV3VHJlbmRzXCI+XG4gICAgICAgICAgPGgzPuacgOaWsOWKqOaAgTwvaDM+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJibGFua1wiLz5cbiAgICAgICAgICA8dWw+e3RyZW5kc0xpc3R9PC91bD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJsYW5rXCIvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXdDbGFzc1wiIHN0eWxlPXt7bWFyZ2luOiBcIjAgMiVcIn19PlxuICAgICAgICAgIDxoMz7mnIDmlrDor77nqIs8L2gzPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmxhbmtcIi8+XG4gICAgICAgICAgPHVsPntuZXdDbGFzc0xpc3R9PC91bD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJsYW5rXCIvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJob3RDbGFzc1wiPlxuICAgICAgICAgIDxoMz7mnIDng63or77nqIs8L2gzPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmxhbmtcIi8+XG4gICAgICAgICAgPHVsPntob3RDbGFzc0xpc3R9PC91bD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJsYW5rXCIvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3B1YmxpYy9hcHAvY29tcG9uZW50cy9TaG93TGlzdC9pbmRleC5qcyIsIi8qKlxuICogQ3JlYXRlZCBieSBqb3NlcGhpIG9uIDIwMTYvMTIvMTkuXG4gKi9cbmltcG9ydCBSZWFjdCx7Q29tcG9uZW50fSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7TWVudSxJY29ufSBmcm9tICdhbnRkJztcbmltcG9ydCB7YnJvd3Nlckhpc3Rvcnl9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5cbmltcG9ydCAnLi9pbmRleC5zY3NzJ1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGl0bGUgZXh0ZW5kcyBDb21wb25lbnR7XG4gIGNvbnN0cnVjdG9yKHByb3BzKXtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZT17XG5cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKXtcbiAgICByZXR1cm4oXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpdGxlXCI+XG4gICAgICAgIDxkaXYgb25DbGljaz17KCk9Pnticm93c2VySGlzdG9yeS5wdXNoKCl9fT7pppbpobU8L2Rpdj5cbiAgICAgICAgPGRpdiBvbkNsaWNrPXsoKT0+e2Jyb3dzZXJIaXN0b3J5LnB1c2goKX19PuaWsOmXu+i1hOiurzwvZGl2PlxuICAgICAgICA8ZGl2IG9uQ2xpY2s9eygpPT57YnJvd3Nlckhpc3RvcnkucHVzaCgpfX0+5Zyo57q/5a2m5LmgPC9kaXY+XG4gICAgICAgIDxkaXYgb25DbGljaz17KCk9Pnticm93c2VySGlzdG9yeS5wdXNoKCl9fT7kuIvovb3kuJPljLo8L2Rpdj5cbiAgICAgICAgPGRpdiBvbkNsaWNrPXsoKT0+e2Jyb3dzZXJIaXN0b3J5LnB1c2goKX19PuWFs+S6juaIkeS7rDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcHVibGljL2FwcC9jb21wb25lbnRzL1RpdGxlL1RpdGxlLmpzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGpvc2VwaGkgb24gMjAxNi8xMi8xOC5cbiAqL1xuaW1wb3J0ICdiYWJlbC1wb2x5ZmlsbCdcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHJlbmRlciB9IGZyb20gJ3JlYWN0LWRvbSdcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgeyBSb3V0ZXIsIFJvdXRlLCBicm93c2VySGlzdG9yeSwgSW5kZXhSb3V0ZSB9IGZyb20gJ3JlYWN0LXJvdXRlcidcblxuaW1wb3J0IGNvbmZpZ3VyZVN0b3JlIGZyb20gJy4vc3RvcmUvY29uZmlndXJlU3RvcmUnXG5pbXBvcnQgJy4vc3R5bGVzaGVldHMvaW5kZXguc2NzcydcblxuaW1wb3J0IERhc2hib2FyZCBmcm9tICcuL3BhZ2VzL0luZGV4L2luZGV4J1xuaW1wb3J0IEhvbWVwYWdlIGZyb20gJy4vcGFnZXMvRmlyc3RQYWdlL2luZGV4J1xuaW1wb3J0IExvZ2luICBmcm9tICcuL3BhZ2VzL0xvZ2luL0xvZ2luJztcblxuY29uc3Qgc3RvcmUgPSBjb25maWd1cmVTdG9yZSgpXG5yZW5kZXIoXG4gIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxuICAgIDxSb3V0ZXIgaGlzdG9yeT17YnJvd3Nlckhpc3Rvcnl9PlxuICAgICAgPFJvdXRlIHBhdGg9XCIvXCIgY29tcG9uZW50PXtEYXNoYm9hcmRzfS8+XG4gICAgICA8Um91dGUgcGF0aD1cIi9sb2dpblwiIGNvbXBvbmVudD17TG9naW59Lz5cbiAgICAgIDxSb3V0ZSBwYXRoPVwiL3JlZ2lzdGVyXCIvPlxuICAgICAgPFJvdXRlIHBhdGg9Jy9lZUluQnVwdFdlYi9kYXNoYm9hcmQnIGNvbXBvbmVudD17RGFzaGJvYXJkfS8+XG4gICAgPC9Sb3V0ZXI+XG4gIDwvUHJvdmlkZXI+LFxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpXG4pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcHVibGljL2FwcC9pbmRleC5qcyIsIi8qKlxuICogQ3JlYXRlZCBieSBqYWNraWVsaWFvIG9uIDIwMTcvMS8yNC5cbiAqL1xuaW1wb3J0IFJlYWN0LCB7Q29tcG9uZW50fSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7Y29ubmVjdH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50J1xuaW1wb3J0ICcuL2luZGV4LnNjc3MnXG5cbmNsYXNzIEhvbWVQYWdlIGV4dGVuZHMgQ29tcG9uZW50e1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKXtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlPXt9XG4gICAgfVxuICAgIHJlbmRlcigpe1xuICAgICAgICByZXR1cm4oXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCIgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aXRsZVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGl0bGUtbmFtZSB0aXRsZS1sZWZ0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICDlhL/nq6XpgILljLvluIjorq3lubPlj7BcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpdGxlLXJpZ2h0XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2dpblwiPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj7nmbvpmYY8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIC9cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+5rOo5YaMPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpbWVcIj57bW9tZW50KCkuZm9ybWF0KFwiTU0vREQvWVlZWVwiKX0kbmJzcDt7bW9tZW50KCkuZm9ybWF0KFwiSEg6bW1cIil9PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBIb21lUGFnZVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3B1YmxpYy9hcHAvcGFnZXMvRmlyc3RQYWdlL2luZGV4LmpzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGpvc2VwaGkgb24gMjAxNi8xMi8xOS5cbiAqL1xuaW1wb3J0IFJlYWN0LCB7Q29tcG9uZW50fSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7Y29ubmVjdH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHticm93c2VySGlzdG9yeX0gZnJvbSAncmVhY3Qtcm91dGVyJztcbmltcG9ydCB7SW5wdXQsIEJ1dHRvbiwgSWNvbn0gZnJvbSAnYW50ZCdcbmNvbnN0IFNlYXJjaCA9IElucHV0LlNlYXJjaDtcblxuaW1wb3J0ICcuL2luZGV4LnNjc3MnXG5pbXBvcnQgVGl0bGUgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9UaXRsZS9UaXRsZSdcbmltcG9ydCBDaGFubmVsIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvQ2hhbm5lbC9pbmRleCdcbmltcG9ydCBDZmlndXJlIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvQ2ZpZ3VyZS9pbmRleCdcbmltcG9ydCBTaG93TGlzdCBmcm9tICcuLi8uLi9jb21wb25lbnRzL1Nob3dMaXN0L2luZGV4J1xuXG5jbGFzcyBJbmRleCBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7fVxuICAgIHRoaXMuaGFuZGxlU2lnbiA9IHRoaXMuaGFuZGxlU2lnbi5iaW5kKHRoaXMpXG4gIH1cblxuICBoYW5kbGVTaWduKGUpIHtcblxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHRyZW5kc0xpc3QgPSBbe2NvbnRlbnQ6IFwi6auY6ICD5aSN5LmgMTIzMjMxMzEyMzEzMTMyMTMxMzEyMzEzMTMxMjMxMjNcIiwgdGltZTogXCIyMDE2LTExLTI4XCJ9LCB7XG4gICAgICBjb250ZW50OiBcIumrmOiAg+WkjeS5oFwiLFxuICAgICAgdGltZTogXCIyMDE2LTExLTI4XCJcbiAgICB9XG4gICAgICAsIHtjb250ZW50OiBcIumrmOiAg+WkjeS5oFwiLCB0aW1lOiBcIjIwMTYtMTEtMjhcIn0sIHtjb250ZW50OiBcIumrmOiAg+WkjeS5oFwiLCB0aW1lOiBcIjIwMTYtMTEtMjhcIn0sIHtcbiAgICAgICAgY29udGVudDogXCLpq5jogIPlpI3kuaBcIixcbiAgICAgICAgdGltZTogXCIyMDE2LTExLTI4XCJcbiAgICAgIH1dO1xuICAgIGNvbnN0IG5ld0NsYXNzTGlzdCA9IFt7Y29udGVudDogXCLpq5jogIPlpI3kuaBcIiwgdGltZTogXCIyMDE2LTExLTI4XCJ9LCB7Y29udGVudDogXCLpq5jogIPlpI3kuaBcIiwgdGltZTogXCIyMDE2LTExLTI4XCJ9XG4gICAgICAsIHtjb250ZW50OiBcIumrmOiAg+WkjeS5oFwiLCB0aW1lOiBcIjIwMTYtMTEtMjhcIn0sIHtjb250ZW50OiBcIumrmOiAg+WkjeS5oFwiLCB0aW1lOiBcIjIwMTYtMTEtMjhcIn0sIHtcbiAgICAgICAgY29udGVudDogXCLpq5jogIPlpI3kuaBcIixcbiAgICAgICAgdGltZTogXCIyMDE2LTExLTI4XCJcbiAgICAgIH1dO1xuICAgIGNvbnN0IGhvdENsYXNzTGlzdCA9IFt7Y29udGVudDogXCLpq5jogIPlpI3kuaBcIiwgdGltZTogXCIyMDE2LTExLTI4XCJ9LCB7Y29udGVudDogXCLpq5jogIPlpI3kuaBcIiwgdGltZTogXCIyMDE2LTExLTI4XCJ9XG4gICAgICAsIHtjb250ZW50OiBcIumrmOiAg+WkjeS5oFwiLCB0aW1lOiBcIjIwMTYtMTEtMjhcIn0sIHtjb250ZW50OiBcIumrmOiAg+WkjeS5oFwiLCB0aW1lOiBcIjIwMTYtMTEtMjhcIn0sIHtcbiAgICAgICAgY29udGVudDogXCLpq5jogIPlpI3kuaBcIixcbiAgICAgICAgdGltZTogXCIyMDE2LTExLTI4XCJcbiAgICAgIH1dO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNpZ25cIj5cbiAgICAgICAgICA8U2VhcmNoIHBsYWNlaG9sZGVyPVwi6K+36L6T5YWl5oKo6KaB5p+l5om+55qE5YaF5a65XCIgb25TZWFyY2g9e3ZhbHVlID0+IGNvbnNvbGUubG9nKHZhbHVlKX0vPlxuICAgICAgICAgIDxCdXR0b24uR3JvdXAgc2l6ZT1cImRlZmF1bHRcIj5cbiAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cInByaW1hcnlcIiBvbkNsaWNrPXsoKSA9PiBicm93c2VySGlzdG9yeS5wdXNoKCcvbG9naW4nKX0+PEljb24gdHlwZT1cInVzZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gYnJvd3Nlckhpc3RvcnkucHVzaCgnL2xvZ2luJyl9Lz7nmbvlvZU8L0J1dHRvbj5cbiAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4gYnJvd3Nlckhpc3RvcnkucHVzaCgnLycpfT7ms6jlhow8L0J1dHRvbj5cbiAgICAgICAgICA8L0J1dHRvbi5Hcm91cD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29tcGFueVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW1nXCIvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmFtZVwiPlxuICAgICAgICAgICAgPGgxPuWEv+enkeWMu+W4iOWfueiureW5s+WPsDwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8VGl0bGUvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5uZWwtaW1nXCI+XG4gICAgICAgICAgPENoYW5uZWwvPlxuICAgICAgICAgIDxDZmlndXJlLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXY+PFNob3dMaXN0IHRyZW5kc0xpc3Q9e3RyZW5kc0xpc3R9IG5ld0NsYXNzTGlzdD17bmV3Q2xhc3NMaXN0fSBob3RDbGFzc0xpc3Q9e2hvdENsYXNzTGlzdH0vPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvb3RlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZnJpZW5kVXJsXCI+5Y+L5oOF6ZO+5o6lOlxuICAgICAgICAgICAgey8qPGEgaHJlZj1cImh0dHBzOi8vYmJzLmJ5ci5jblwiPuWMl+mCruS6uuiuuuWdm+iAg+eglOeJiDwvYT48ZW0+fDwvZW0+Ki99XG4gICAgICAgICAgICA8YSBocmVmPVwiaHR0cDovL3d3dy5iam11LmVkdS5jbi9cIj7ljJfkuqzlpKflrabljLvlrabpg6g8L2E+PGVtPnw8L2VtPlxuICAgICAgICAgICAgPGEgaHJlZj1cImh0dHA6Ly93d3cuY2N0Zi5vcmcuY24vXCI+5Lit5Zu95YS/56ul5bCR5bm05Z+66YeR5LyaPC9hPjxlbT58PC9lbT5cbiAgICAgICAgICAgIDxhIGhyZWY9XCJodHRwOi8vd3d3LmJkZHl5eS5jb20uY24vXCI+5YyX5Lqs5aSn5a2m56ys5LiA5Yy76ZmiPC9hPjxlbT58PC9lbT5cbiAgICAgICAgICAgIDxhIGhyZWY9XCJodHRwOi8vYmRmY2suY25rbWUuY29tL1wiPuWMl+S6rOWkp+WtpuesrOS4gOWMu+mZouWmh+S6p+enkTwvYT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBob25lXCIgb25DbGljaz17KCkgPT4gYnJvd3Nlckhpc3RvcnkucHVzaCgnL2xvZ2luJyl9PlxuICAgICAgICAgICAgPEljb24gdHlwZT1cInBob25lXCIgb25DbGljaz17KCkgPT4gYnJvd3Nlckhpc3RvcnkucHVzaCgnL2xvZ2luJyl9Lz7lkqjor6Lng63nur/vvJpcbiAgICAgICAgICAgIDxhPjEzNTIwNDA1NDcxPC9hPjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEluZGV4O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3B1YmxpYy9hcHAvcGFnZXMvSW5kZXgvaW5kZXguanMiLCJpbXBvcnQgJy4vTG9naW4uc2NzcydcbmltcG9ydCBSZWFjdCwge0NvbXBvbmVudCwgUHJvcFR5cGVzfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7YnJvd3Nlckhpc3Rvcnl9IGZyb20gJ3JlYWN0LXJvdXRlcidcbmltcG9ydCB7Y29ubmVjdH0gZnJvbSAncmVhY3QtcmVkdXgnXG5cbmltcG9ydCB7SWNvbiwgSW5wdXQsIEJ1dHRvbiwgRm9ybSwgUm93LCBDb2wsIG1lc3NhZ2V9IGZyb20gJ2FudGQnXG5pbXBvcnQge2dldExvZ2lufSBmcm9tICcuLi8uLi9hY3Rpb25zL2ZldGNoTG9naW5JbmZvJ1xuXG5jbGFzcyBMb2dpbiBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHVzZXJuYW1lOiAnJyxcbiAgICAgIHBhc3N3b3JkOiAnJ1xuICAgIH1cbiAgICB0aGlzLmhhbmRsZVByZXNzRW50ZXIgPSB0aGlzLmhhbmRsZVByZXNzRW50ZXIuYmluZCh0aGlzKVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZVByZXNzRW50ZXIpXG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlUHJlc3NFbnRlcilcbiAgfVxuXG4gIGhhbmRsZVByZXNzRW50ZXIoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXlDb2RlID09IDEzKSB7XG4gICAgICB0aGlzLmhhbmRsZVN1Ym1pdCgpXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlQ2hhbmdlKGUpIHtcbiAgICBsZXQgdmFsdWUgPSBlLnRhcmdldC52YWx1ZVxuICAgIGxldCBuYW1lID0gZS50YXJnZXQubmFtZVxuICAgIHRoaXMuc2V0U3RhdGUoe1tuYW1lXTogdmFsdWV9KVxuICB9XG5cbiAgaGFuZGxlU3VibWl0KCkge1xuICAgIGxldCBkYXRhID0ge1xuICAgICAgZW1haWw6IHRoaXMuc3RhdGUudXNlcm5hbWUsXG4gICAgICBwd2Q6IHRoaXMuc3RhdGUucGFzc3dvcmRcbiAgICB9XG4gICAgaWYgKGRhdGEuZW1haWwgPT0gXCJcIikge1xuICAgICAgbWVzc2FnZS5lcnJvcihcIuivt+i+k+WFpeeUqOaIt+WQjVwiLCAyKVxuICAgIH1cbiAgICBlbHNlIGlmIChkYXRhLnB3ZCA9PSBcIlwiKSB7XG4gICAgICBtZXNzYWdlLmVycm9yKFwi6K+36L6T5YWl5a+G56CBXCIsIDIpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChnZXRMb2dpbihkYXRhKSlcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgZm9ybUl0ZW1MYXlvdXQgPSB7XG4gICAgICBsYWJlbENvbDoge3NwYW46IDZ9LFxuICAgICAgd3JhcHBlckNvbDoge3NwYW46IDE0fSxcbiAgICB9XG4gICAgY29uc3QgRm9ybUl0ZW0gPSBGb3JtLkl0ZW1cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2dpbkNvbnRhaW5lclwiPlxuICAgICAgICA8SWNvbiB0eXBlPVwiYXBwbGVcIiBjbGFzc05hbWU9XCJsb2dvXCIvPlxuICAgICAgICA8aDI+ZWVJbkJ1cHRXZWLnmbvlvZU8L2gyPlxuICAgICAgICA8Rm9ybSBob3Jpem9udGFsIGNsYXNzTmFtZT1cImxvZ2luRm9ybVwiPlxuICAgICAgICAgIDxGb3JtSXRlbVxuICAgICAgICAgICAgey4uLmZvcm1JdGVtTGF5b3V0fVxuICAgICAgICAgICAgbGFiZWw9XCLnlKjmiLflkI1cIj5cbiAgICAgICAgICAgIDxJbnB1dCBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKX0gbmFtZT1cInVzZXJuYW1lXCIvPlxuICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgICAgPEZvcm1JdGVtXG4gICAgICAgICAgICB7Li4uZm9ybUl0ZW1MYXlvdXR9XG4gICAgICAgICAgICBsYWJlbD1cIuWvhueggVwiPlxuICAgICAgICAgICAgPElucHV0IHR5cGU9XCJwYXNzd29yZFwiIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpfSBuYW1lPVwicGFzc3dvcmRcIi8+XG4gICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICA8Rm9ybUl0ZW1cbiAgICAgICAgICAgIHdyYXBwZXJDb2w9e3tvZmZzZXQ6Niwgc3BhbjoxNH19PlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlU3VibWl0LmJpbmQodGhpcyl9PlxuICAgICAgICAgICAgICDnmbsmbmJzcDsmbmJzcDvlvZVcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPGEgc3JjPVwiXCI+5rOo5YaMPC9hPlxuICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgIDwvRm9ybT5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG59XG5Mb2dpbi5wcm9wVHlwZXMgPSB7XG4gIGxvZ2luOiBQcm9wVHlwZXMuc2hhcGUoe30pLmlzUmVxdWlyZWRcbn1cbmZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIGxvZ2luOiBzdGF0ZS5sb2dpblxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzKShMb2dpbilcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wdWJsaWMvYXBwL3BhZ2VzL0xvZ2luL0xvZ2luLmpzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGxpYW9qaWFuanVuIG9uIDIwMTYvNy8yNy5cbiAqL1xuaW1wb3J0IHtcbiAgICBSRUNFSVZFX0xPR0lOLFJFUVVFU1RfTE9HSU5cbn1mcm9tICcuLi9hY3Rpb25zL0FjdGlvbnNUeXBlcyc7XG5cbmltcG9ydCB7bWVzc2FnZX0gZnJvbSAnYW50ZCc7XG5cbmNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgbG9naW46e31cbn1cbmV4cG9ydCBmdW5jdGlvbiBsb2dpbihzdGF0ZT1pbml0aWFsU3RhdGUubG9naW4sYWN0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSl7XG4gICAgICBjYXNlIFJFQ0VJVkVfTE9HSU46XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxzdGF0ZSxhY3Rpb24ubG9naW4pO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlXG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3B1YmxpYy9hcHAvcmVkdWNlcnMvbG9naW4uanMiLCJpbXBvcnQgeyBjcmVhdGVTdG9yZSwgYXBwbHlNaWRkbGV3YXJlIH0gZnJvbSAncmVkdXgnXG5pbXBvcnQgdGh1bmtNaWRkbGV3YXJlIGZyb20gJ3JlZHV4LXRodW5rJ1xuaW1wb3J0IGNyZWF0ZUxvZ2dlciBmcm9tICdyZWR1eC1sb2dnZXInXG5pbXBvcnQgcm9vdFJlZHVjZXIgZnJvbSAnLi4vcmVkdWNlcnMnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbmZpZ3VyZVN0b3JlKGluaXRpYWxTdGF0ZSkge1xuICBjb25zdCBzdG9yZSA9IGNyZWF0ZVN0b3JlKFxuICAgIHJvb3RSZWR1Y2VyLFxuICAgIGluaXRpYWxTdGF0ZSxcbiAgICBhcHBseU1pZGRsZXdhcmUodGh1bmtNaWRkbGV3YXJlLCBjcmVhdGVMb2dnZXIoKSlcbiAgKVxuXG4gIGlmIChtb2R1bGUuaG90KSB7XG4gICAgLy8gRW5hYmxlIFdlYnBhY2sgaG90IG1vZHVsZSByZXBsYWNlbWVudCBmb3IgcmVkdWNlcnNcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgnLi4vcmVkdWNlcnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBuZXh0Um9vdFJlZHVjZXIgPSByZXF1aXJlKCcuLi9yZWR1Y2VycycpLmRlZmF1bHRcbiAgICAgIHN0b3JlLnJlcGxhY2VSZWR1Y2VyKG5leHRSb290UmVkdWNlcilcbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIHN0b3JlXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wdWJsaWMvYXBwL3N0b3JlL2NvbmZpZ3VyZVN0b3JlLmpzIiwiLyohXG4gKiBkZWVwLWRpZmYuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKi9cbjsoZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICAndXNlIHN0cmljdCc7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmYWN0b3J5KCk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgLy8gbGlrZSBOb2RlLlxuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgcm9vdC5EZWVwRGlmZiA9IGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbih1bmRlZmluZWQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciAkc2NvcGUsIGNvbmZsaWN0LCBjb25mbGljdFJlc29sdXRpb24gPSBbXTtcbiAgaWYgKHR5cGVvZiBnbG9iYWwgPT09ICdvYmplY3QnICYmIGdsb2JhbCkge1xuICAgICRzY29wZSA9IGdsb2JhbDtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICRzY29wZSA9IHdpbmRvdztcbiAgfSBlbHNlIHtcbiAgICAkc2NvcGUgPSB7fTtcbiAgfVxuICBjb25mbGljdCA9ICRzY29wZS5EZWVwRGlmZjtcbiAgaWYgKGNvbmZsaWN0KSB7XG4gICAgY29uZmxpY3RSZXNvbHV0aW9uLnB1c2goXG4gICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgY29uZmxpY3QgJiYgJHNjb3BlLkRlZXBEaWZmID09PSBhY2N1bXVsYXRlRGlmZikge1xuICAgICAgICAgICRzY29wZS5EZWVwRGlmZiA9IGNvbmZsaWN0O1xuICAgICAgICAgIGNvbmZsaWN0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIC8vIG5vZGVqcyBjb21wYXRpYmxlIG9uIHNlcnZlciBzaWRlIGFuZCBpbiB0aGUgYnJvd3Nlci5cbiAgZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3I7XG4gICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gRGlmZihraW5kLCBwYXRoKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdraW5kJywge1xuICAgICAgdmFsdWU6IGtpbmQsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGgpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncGF0aCcsIHtcbiAgICAgICAgdmFsdWU6IHBhdGgsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIERpZmZFZGl0KHBhdGgsIG9yaWdpbiwgdmFsdWUpIHtcbiAgICBEaWZmRWRpdC5zdXBlcl8uY2FsbCh0aGlzLCAnRScsIHBhdGgpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbGhzJywge1xuICAgICAgdmFsdWU6IG9yaWdpbixcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3JocycsIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxuICBpbmhlcml0cyhEaWZmRWRpdCwgRGlmZik7XG5cbiAgZnVuY3Rpb24gRGlmZk5ldyhwYXRoLCB2YWx1ZSkge1xuICAgIERpZmZOZXcuc3VwZXJfLmNhbGwodGhpcywgJ04nLCBwYXRoKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3JocycsIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxuICBpbmhlcml0cyhEaWZmTmV3LCBEaWZmKTtcblxuICBmdW5jdGlvbiBEaWZmRGVsZXRlZChwYXRoLCB2YWx1ZSkge1xuICAgIERpZmZEZWxldGVkLnN1cGVyXy5jYWxsKHRoaXMsICdEJywgcGF0aCk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdsaHMnLCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgaW5oZXJpdHMoRGlmZkRlbGV0ZWQsIERpZmYpO1xuXG4gIGZ1bmN0aW9uIERpZmZBcnJheShwYXRoLCBpbmRleCwgaXRlbSkge1xuICAgIERpZmZBcnJheS5zdXBlcl8uY2FsbCh0aGlzLCAnQScsIHBhdGgpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnaW5kZXgnLCB7XG4gICAgICB2YWx1ZTogaW5kZXgsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdpdGVtJywge1xuICAgICAgdmFsdWU6IGl0ZW0sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgaW5oZXJpdHMoRGlmZkFycmF5LCBEaWZmKTtcblxuICBmdW5jdGlvbiBhcnJheVJlbW92ZShhcnIsIGZyb20sIHRvKSB7XG4gICAgdmFyIHJlc3QgPSBhcnIuc2xpY2UoKHRvIHx8IGZyb20pICsgMSB8fCBhcnIubGVuZ3RoKTtcbiAgICBhcnIubGVuZ3RoID0gZnJvbSA8IDAgPyBhcnIubGVuZ3RoICsgZnJvbSA6IGZyb207XG4gICAgYXJyLnB1c2guYXBwbHkoYXJyLCByZXN0KTtcbiAgICByZXR1cm4gYXJyO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVhbFR5cGVPZihzdWJqZWN0KSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2Ygc3ViamVjdDtcbiAgICBpZiAodHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cblxuICAgIGlmIChzdWJqZWN0ID09PSBNYXRoKSB7XG4gICAgICByZXR1cm4gJ21hdGgnO1xuICAgIH0gZWxzZSBpZiAoc3ViamVjdCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuICdudWxsJztcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc3ViamVjdCkpIHtcbiAgICAgIHJldHVybiAnYXJyYXknO1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHN1YmplY3QpID09PSAnW29iamVjdCBEYXRlXScpIHtcbiAgICAgIHJldHVybiAnZGF0ZSc7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc3ViamVjdC50b1N0cmluZyAhPT0gJ3VuZGVmaW5lZCcgJiYgL15cXC8uKlxcLy8udGVzdChzdWJqZWN0LnRvU3RyaW5nKCkpKSB7XG4gICAgICByZXR1cm4gJ3JlZ2V4cCc7XG4gICAgfVxuICAgIHJldHVybiAnb2JqZWN0JztcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlZXBEaWZmKGxocywgcmhzLCBjaGFuZ2VzLCBwcmVmaWx0ZXIsIHBhdGgsIGtleSwgc3RhY2spIHtcbiAgICBwYXRoID0gcGF0aCB8fCBbXTtcbiAgICB2YXIgY3VycmVudFBhdGggPSBwYXRoLnNsaWNlKDApO1xuICAgIGlmICh0eXBlb2Yga2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHByZWZpbHRlcikge1xuICAgICAgICBpZiAodHlwZW9mKHByZWZpbHRlcikgPT09ICdmdW5jdGlvbicgJiYgcHJlZmlsdGVyKGN1cnJlbnRQYXRoLCBrZXkpKSB7IHJldHVybjsgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YocHJlZmlsdGVyKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBpZiAocHJlZmlsdGVyLnByZWZpbHRlciAmJiBwcmVmaWx0ZXIucHJlZmlsdGVyKGN1cnJlbnRQYXRoLCBrZXkpKSB7IHJldHVybjsgfVxuICAgICAgICAgIGlmIChwcmVmaWx0ZXIubm9ybWFsaXplKSB7XG4gICAgICAgICAgICB2YXIgYWx0ID0gcHJlZmlsdGVyLm5vcm1hbGl6ZShjdXJyZW50UGF0aCwga2V5LCBsaHMsIHJocyk7XG4gICAgICAgICAgICBpZiAoYWx0KSB7XG4gICAgICAgICAgICAgIGxocyA9IGFsdFswXTtcbiAgICAgICAgICAgICAgcmhzID0gYWx0WzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY3VycmVudFBhdGgucHVzaChrZXkpO1xuICAgIH1cblxuICAgIC8vIFVzZSBzdHJpbmcgY29tcGFyaXNvbiBmb3IgcmVnZXhlc1xuICAgIGlmIChyZWFsVHlwZU9mKGxocykgPT09ICdyZWdleHAnICYmIHJlYWxUeXBlT2YocmhzKSA9PT0gJ3JlZ2V4cCcpIHtcbiAgICAgIGxocyA9IGxocy50b1N0cmluZygpO1xuICAgICAgcmhzID0gcmhzLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgdmFyIGx0eXBlID0gdHlwZW9mIGxocztcbiAgICB2YXIgcnR5cGUgPSB0eXBlb2YgcmhzO1xuICAgIGlmIChsdHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChydHlwZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY2hhbmdlcyhuZXcgRGlmZk5ldyhjdXJyZW50UGF0aCwgcmhzKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChydHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNoYW5nZXMobmV3IERpZmZEZWxldGVkKGN1cnJlbnRQYXRoLCBsaHMpKTtcbiAgICB9IGVsc2UgaWYgKHJlYWxUeXBlT2YobGhzKSAhPT0gcmVhbFR5cGVPZihyaHMpKSB7XG4gICAgICBjaGFuZ2VzKG5ldyBEaWZmRWRpdChjdXJyZW50UGF0aCwgbGhzLCByaHMpKTtcbiAgICB9IGVsc2UgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChsaHMpID09PSAnW29iamVjdCBEYXRlXScgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHJocykgPT09ICdbb2JqZWN0IERhdGVdJyAmJiAoKGxocyAtIHJocykgIT09IDApKSB7XG4gICAgICBjaGFuZ2VzKG5ldyBEaWZmRWRpdChjdXJyZW50UGF0aCwgbGhzLCByaHMpKTtcbiAgICB9IGVsc2UgaWYgKGx0eXBlID09PSAnb2JqZWN0JyAmJiBsaHMgIT09IG51bGwgJiYgcmhzICE9PSBudWxsKSB7XG4gICAgICBzdGFjayA9IHN0YWNrIHx8IFtdO1xuICAgICAgaWYgKHN0YWNrLmluZGV4T2YobGhzKSA8IDApIHtcbiAgICAgICAgc3RhY2sucHVzaChsaHMpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsaHMpKSB7XG4gICAgICAgICAgdmFyIGksIGxlbiA9IGxocy5sZW5ndGg7XG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxocy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPj0gcmhzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBjaGFuZ2VzKG5ldyBEaWZmQXJyYXkoY3VycmVudFBhdGgsIGksIG5ldyBEaWZmRGVsZXRlZCh1bmRlZmluZWQsIGxoc1tpXSkpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRlZXBEaWZmKGxoc1tpXSwgcmhzW2ldLCBjaGFuZ2VzLCBwcmVmaWx0ZXIsIGN1cnJlbnRQYXRoLCBpLCBzdGFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHdoaWxlIChpIDwgcmhzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2hhbmdlcyhuZXcgRGlmZkFycmF5KGN1cnJlbnRQYXRoLCBpLCBuZXcgRGlmZk5ldyh1bmRlZmluZWQsIHJoc1tpKytdKSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgYWtleXMgPSBPYmplY3Qua2V5cyhsaHMpO1xuICAgICAgICAgIHZhciBwa2V5cyA9IE9iamVjdC5rZXlzKHJocyk7XG4gICAgICAgICAgYWtleXMuZm9yRWFjaChmdW5jdGlvbihrLCBpKSB7XG4gICAgICAgICAgICB2YXIgb3RoZXIgPSBwa2V5cy5pbmRleE9mKGspO1xuICAgICAgICAgICAgaWYgKG90aGVyID49IDApIHtcbiAgICAgICAgICAgICAgZGVlcERpZmYobGhzW2tdLCByaHNba10sIGNoYW5nZXMsIHByZWZpbHRlciwgY3VycmVudFBhdGgsIGssIHN0YWNrKTtcbiAgICAgICAgICAgICAgcGtleXMgPSBhcnJheVJlbW92ZShwa2V5cywgb3RoZXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZGVlcERpZmYobGhzW2tdLCB1bmRlZmluZWQsIGNoYW5nZXMsIHByZWZpbHRlciwgY3VycmVudFBhdGgsIGssIHN0YWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwa2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGspIHtcbiAgICAgICAgICAgIGRlZXBEaWZmKHVuZGVmaW5lZCwgcmhzW2tdLCBjaGFuZ2VzLCBwcmVmaWx0ZXIsIGN1cnJlbnRQYXRoLCBrLCBzdGFjayk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhY2subGVuZ3RoID0gc3RhY2subGVuZ3RoIC0gMTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGxocyAhPT0gcmhzKSB7XG4gICAgICBpZiAoIShsdHlwZSA9PT0gJ251bWJlcicgJiYgaXNOYU4obGhzKSAmJiBpc05hTihyaHMpKSkge1xuICAgICAgICBjaGFuZ2VzKG5ldyBEaWZmRWRpdChjdXJyZW50UGF0aCwgbGhzLCByaHMpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhY2N1bXVsYXRlRGlmZihsaHMsIHJocywgcHJlZmlsdGVyLCBhY2N1bSkge1xuICAgIGFjY3VtID0gYWNjdW0gfHwgW107XG4gICAgZGVlcERpZmYobGhzLCByaHMsXG4gICAgICBmdW5jdGlvbihkaWZmKSB7XG4gICAgICAgIGlmIChkaWZmKSB7XG4gICAgICAgICAgYWNjdW0ucHVzaChkaWZmKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByZWZpbHRlcik7XG4gICAgcmV0dXJuIChhY2N1bS5sZW5ndGgpID8gYWNjdW0gOiB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBseUFycmF5Q2hhbmdlKGFyciwgaW5kZXgsIGNoYW5nZSkge1xuICAgIGlmIChjaGFuZ2UucGF0aCAmJiBjaGFuZ2UucGF0aC5sZW5ndGgpIHtcbiAgICAgIHZhciBpdCA9IGFycltpbmRleF0sXG4gICAgICAgICAgaSwgdSA9IGNoYW5nZS5wYXRoLmxlbmd0aCAtIDE7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdTsgaSsrKSB7XG4gICAgICAgIGl0ID0gaXRbY2hhbmdlLnBhdGhbaV1dO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChjaGFuZ2Uua2luZCkge1xuICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICBhcHBseUFycmF5Q2hhbmdlKGl0W2NoYW5nZS5wYXRoW2ldXSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgIGRlbGV0ZSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSBjaGFuZ2UucmhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzd2l0Y2ggKGNoYW5nZS5raW5kKSB7XG4gICAgICAgIGNhc2UgJ0EnOlxuICAgICAgICAgIGFwcGx5QXJyYXlDaGFuZ2UoYXJyW2luZGV4XSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgIGFyciA9IGFycmF5UmVtb3ZlKGFyciwgaW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgY2FzZSAnTic6XG4gICAgICAgICAgYXJyW2luZGV4XSA9IGNoYW5nZS5yaHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBseUNoYW5nZSh0YXJnZXQsIHNvdXJjZSwgY2hhbmdlKSB7XG4gICAgaWYgKHRhcmdldCAmJiBzb3VyY2UgJiYgY2hhbmdlICYmIGNoYW5nZS5raW5kKSB7XG4gICAgICB2YXIgaXQgPSB0YXJnZXQsXG4gICAgICAgICAgaSA9IC0xLFxuICAgICAgICAgIGxhc3QgPSBjaGFuZ2UucGF0aCA/IGNoYW5nZS5wYXRoLmxlbmd0aCAtIDEgOiAwO1xuICAgICAgd2hpbGUgKCsraSA8IGxhc3QpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdFtjaGFuZ2UucGF0aFtpXV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgaXRbY2hhbmdlLnBhdGhbaV1dID0gKHR5cGVvZiBjaGFuZ2UucGF0aFtpXSA9PT0gJ251bWJlcicpID8gW10gOiB7fTtcbiAgICAgICAgfVxuICAgICAgICBpdCA9IGl0W2NoYW5nZS5wYXRoW2ldXTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoY2hhbmdlLmtpbmQpIHtcbiAgICAgICAgY2FzZSAnQSc6XG4gICAgICAgICAgYXBwbHlBcnJheUNoYW5nZShjaGFuZ2UucGF0aCA/IGl0W2NoYW5nZS5wYXRoW2ldXSA6IGl0LCBjaGFuZ2UuaW5kZXgsIGNoYW5nZS5pdGVtKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRCc6XG4gICAgICAgICAgZGVsZXRlIGl0W2NoYW5nZS5wYXRoW2ldXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRSc6XG4gICAgICAgIGNhc2UgJ04nOlxuICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9IGNoYW5nZS5yaHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmV2ZXJ0QXJyYXlDaGFuZ2UoYXJyLCBpbmRleCwgY2hhbmdlKSB7XG4gICAgaWYgKGNoYW5nZS5wYXRoICYmIGNoYW5nZS5wYXRoLmxlbmd0aCkge1xuICAgICAgLy8gdGhlIHN0cnVjdHVyZSBvZiB0aGUgb2JqZWN0IGF0IHRoZSBpbmRleCBoYXMgY2hhbmdlZC4uLlxuICAgICAgdmFyIGl0ID0gYXJyW2luZGV4XSxcbiAgICAgICAgICBpLCB1ID0gY2hhbmdlLnBhdGgubGVuZ3RoIC0gMTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB1OyBpKyspIHtcbiAgICAgICAgaXQgPSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGNoYW5nZS5raW5kKSB7XG4gICAgICAgIGNhc2UgJ0EnOlxuICAgICAgICAgIHJldmVydEFycmF5Q2hhbmdlKGl0W2NoYW5nZS5wYXRoW2ldXSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9IGNoYW5nZS5saHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9IGNoYW5nZS5saHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ04nOlxuICAgICAgICAgIGRlbGV0ZSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHRoZSBhcnJheSBpdGVtIGlzIGRpZmZlcmVudC4uLlxuICAgICAgc3dpdGNoIChjaGFuZ2Uua2luZCkge1xuICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICByZXZlcnRBcnJheUNoYW5nZShhcnJbaW5kZXhdLCBjaGFuZ2UuaW5kZXgsIGNoYW5nZS5pdGVtKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRCc6XG4gICAgICAgICAgYXJyW2luZGV4XSA9IGNoYW5nZS5saHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICAgIGFycltpbmRleF0gPSBjaGFuZ2UubGhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICBhcnIgPSBhcnJheVJlbW92ZShhcnIsIGluZGV4KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJldmVydENoYW5nZSh0YXJnZXQsIHNvdXJjZSwgY2hhbmdlKSB7XG4gICAgaWYgKHRhcmdldCAmJiBzb3VyY2UgJiYgY2hhbmdlICYmIGNoYW5nZS5raW5kKSB7XG4gICAgICB2YXIgaXQgPSB0YXJnZXQsXG4gICAgICAgICAgaSwgdTtcbiAgICAgIHUgPSBjaGFuZ2UucGF0aC5sZW5ndGggLSAxO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHU7IGkrKykge1xuICAgICAgICBpZiAodHlwZW9mIGl0W2NoYW5nZS5wYXRoW2ldXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBpdCA9IGl0W2NoYW5nZS5wYXRoW2ldXTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoY2hhbmdlLmtpbmQpIHtcbiAgICAgICAgY2FzZSAnQSc6XG4gICAgICAgICAgLy8gQXJyYXkgd2FzIG1vZGlmaWVkLi4uXG4gICAgICAgICAgLy8gaXQgd2lsbCBiZSBhbiBhcnJheS4uLlxuICAgICAgICAgIHJldmVydEFycmF5Q2hhbmdlKGl0W2NoYW5nZS5wYXRoW2ldXSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgIC8vIEl0ZW0gd2FzIGRlbGV0ZWQuLi5cbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSBjaGFuZ2UubGhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICAvLyBJdGVtIHdhcyBlZGl0ZWQuLi5cbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSBjaGFuZ2UubGhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICAvLyBJdGVtIGlzIG5ldy4uLlxuICAgICAgICAgIGRlbGV0ZSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYXBwbHlEaWZmKHRhcmdldCwgc291cmNlLCBmaWx0ZXIpIHtcbiAgICBpZiAodGFyZ2V0ICYmIHNvdXJjZSkge1xuICAgICAgdmFyIG9uQ2hhbmdlID0gZnVuY3Rpb24oY2hhbmdlKSB7XG4gICAgICAgIGlmICghZmlsdGVyIHx8IGZpbHRlcih0YXJnZXQsIHNvdXJjZSwgY2hhbmdlKSkge1xuICAgICAgICAgIGFwcGx5Q2hhbmdlKHRhcmdldCwgc291cmNlLCBjaGFuZ2UpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZGVlcERpZmYodGFyZ2V0LCBzb3VyY2UsIG9uQ2hhbmdlKTtcbiAgICB9XG4gIH1cblxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhhY2N1bXVsYXRlRGlmZiwge1xuXG4gICAgZGlmZjoge1xuICAgICAgdmFsdWU6IGFjY3VtdWxhdGVEaWZmLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgIH0sXG4gICAgb2JzZXJ2YWJsZURpZmY6IHtcbiAgICAgIHZhbHVlOiBkZWVwRGlmZixcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9LFxuICAgIGFwcGx5RGlmZjoge1xuICAgICAgdmFsdWU6IGFwcGx5RGlmZixcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9LFxuICAgIGFwcGx5Q2hhbmdlOiB7XG4gICAgICB2YWx1ZTogYXBwbHlDaGFuZ2UsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSxcbiAgICByZXZlcnRDaGFuZ2U6IHtcbiAgICAgIHZhbHVlOiByZXZlcnRDaGFuZ2UsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSxcbiAgICBpc0NvbmZsaWN0OiB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIGNvbmZsaWN0O1xuICAgICAgfSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9LFxuICAgIG5vQ29uZmxpY3Q6IHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNvbmZsaWN0UmVzb2x1dGlvbikge1xuICAgICAgICAgIGNvbmZsaWN0UmVzb2x1dGlvbi5mb3JFYWNoKGZ1bmN0aW9uKGl0KSB7XG4gICAgICAgICAgICBpdCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbmZsaWN0UmVzb2x1dGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjY3VtdWxhdGVEaWZmO1xuICAgICAgfSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBhY2N1bXVsYXRlRGlmZjtcbn0pKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9kZWVwLWRpZmYvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDYyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBwU2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG52YXIgb2JqZWN0S2V5cyA9IHJlcXVpcmUoJy4vbGliL2tleXMuanMnKTtcbnZhciBpc0FyZ3VtZW50cyA9IHJlcXVpcmUoJy4vbGliL2lzX2FyZ3VtZW50cy5qcycpO1xuXG52YXIgZGVlcEVxdWFsID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYWN0dWFsLCBleHBlY3RlZCwgb3B0cykge1xuICBpZiAoIW9wdHMpIG9wdHMgPSB7fTtcbiAgLy8gNy4xLiBBbGwgaWRlbnRpY2FsIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgYXMgZGV0ZXJtaW5lZCBieSA9PT0uXG4gIGlmIChhY3R1YWwgPT09IGV4cGVjdGVkKSB7XG4gICAgcmV0dXJuIHRydWU7XG5cbiAgfSBlbHNlIGlmIChhY3R1YWwgaW5zdGFuY2VvZiBEYXRlICYmIGV4cGVjdGVkIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgIHJldHVybiBhY3R1YWwuZ2V0VGltZSgpID09PSBleHBlY3RlZC5nZXRUaW1lKCk7XG5cbiAgLy8gNy4zLiBPdGhlciBwYWlycyB0aGF0IGRvIG5vdCBib3RoIHBhc3MgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnLFxuICAvLyBlcXVpdmFsZW5jZSBpcyBkZXRlcm1pbmVkIGJ5ID09LlxuICB9IGVsc2UgaWYgKCFhY3R1YWwgfHwgIWV4cGVjdGVkIHx8IHR5cGVvZiBhY3R1YWwgIT0gJ29iamVjdCcgJiYgdHlwZW9mIGV4cGVjdGVkICE9ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG9wdHMuc3RyaWN0ID8gYWN0dWFsID09PSBleHBlY3RlZCA6IGFjdHVhbCA9PSBleHBlY3RlZDtcblxuICAvLyA3LjQuIEZvciBhbGwgb3RoZXIgT2JqZWN0IHBhaXJzLCBpbmNsdWRpbmcgQXJyYXkgb2JqZWN0cywgZXF1aXZhbGVuY2UgaXNcbiAgLy8gZGV0ZXJtaW5lZCBieSBoYXZpbmcgdGhlIHNhbWUgbnVtYmVyIG9mIG93bmVkIHByb3BlcnRpZXMgKGFzIHZlcmlmaWVkXG4gIC8vIHdpdGggT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKSwgdGhlIHNhbWUgc2V0IG9mIGtleXNcbiAgLy8gKGFsdGhvdWdoIG5vdCBuZWNlc3NhcmlseSB0aGUgc2FtZSBvcmRlciksIGVxdWl2YWxlbnQgdmFsdWVzIGZvciBldmVyeVxuICAvLyBjb3JyZXNwb25kaW5nIGtleSwgYW5kIGFuIGlkZW50aWNhbCAncHJvdG90eXBlJyBwcm9wZXJ0eS4gTm90ZTogdGhpc1xuICAvLyBhY2NvdW50cyBmb3IgYm90aCBuYW1lZCBhbmQgaW5kZXhlZCBwcm9wZXJ0aWVzIG9uIEFycmF5cy5cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gb2JqRXF1aXYoYWN0dWFsLCBleHBlY3RlZCwgb3B0cyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNVbmRlZmluZWRPck51bGwodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGlzQnVmZmVyICh4KSB7XG4gIGlmICgheCB8fCB0eXBlb2YgeCAhPT0gJ29iamVjdCcgfHwgdHlwZW9mIHgubGVuZ3RoICE9PSAnbnVtYmVyJykgcmV0dXJuIGZhbHNlO1xuICBpZiAodHlwZW9mIHguY29weSAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgeC5zbGljZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoeC5sZW5ndGggPiAwICYmIHR5cGVvZiB4WzBdICE9PSAnbnVtYmVyJykgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gb2JqRXF1aXYoYSwgYiwgb3B0cykge1xuICB2YXIgaSwga2V5O1xuICBpZiAoaXNVbmRlZmluZWRPck51bGwoYSkgfHwgaXNVbmRlZmluZWRPck51bGwoYikpXG4gICAgcmV0dXJuIGZhbHNlO1xuICAvLyBhbiBpZGVudGljYWwgJ3Byb3RvdHlwZScgcHJvcGVydHkuXG4gIGlmIChhLnByb3RvdHlwZSAhPT0gYi5wcm90b3R5cGUpIHJldHVybiBmYWxzZTtcbiAgLy9+fn5JJ3ZlIG1hbmFnZWQgdG8gYnJlYWsgT2JqZWN0LmtleXMgdGhyb3VnaCBzY3Jld3kgYXJndW1lbnRzIHBhc3NpbmcuXG4gIC8vICAgQ29udmVydGluZyB0byBhcnJheSBzb2x2ZXMgdGhlIHByb2JsZW0uXG4gIGlmIChpc0FyZ3VtZW50cyhhKSkge1xuICAgIGlmICghaXNBcmd1bWVudHMoYikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgYSA9IHBTbGljZS5jYWxsKGEpO1xuICAgIGIgPSBwU2xpY2UuY2FsbChiKTtcbiAgICByZXR1cm4gZGVlcEVxdWFsKGEsIGIsIG9wdHMpO1xuICB9XG4gIGlmIChpc0J1ZmZlcihhKSkge1xuICAgIGlmICghaXNCdWZmZXIoYikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAoaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoYVtpXSAhPT0gYltpXSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB0cnkge1xuICAgIHZhciBrYSA9IG9iamVjdEtleXMoYSksXG4gICAgICAgIGtiID0gb2JqZWN0S2V5cyhiKTtcbiAgfSBjYXRjaCAoZSkgey8vaGFwcGVucyB3aGVuIG9uZSBpcyBhIHN0cmluZyBsaXRlcmFsIGFuZCB0aGUgb3RoZXIgaXNuJ3RcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gaGF2aW5nIHRoZSBzYW1lIG51bWJlciBvZiBvd25lZCBwcm9wZXJ0aWVzIChrZXlzIGluY29ycG9yYXRlc1xuICAvLyBoYXNPd25Qcm9wZXJ0eSlcbiAgaWYgKGthLmxlbmd0aCAhPSBrYi5sZW5ndGgpXG4gICAgcmV0dXJuIGZhbHNlO1xuICAvL3RoZSBzYW1lIHNldCBvZiBrZXlzIChhbHRob3VnaCBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgb3JkZXIpLFxuICBrYS5zb3J0KCk7XG4gIGtiLnNvcnQoKTtcbiAgLy9+fn5jaGVhcCBrZXkgdGVzdFxuICBmb3IgKGkgPSBrYS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGlmIChrYVtpXSAhPSBrYltpXSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvL2VxdWl2YWxlbnQgdmFsdWVzIGZvciBldmVyeSBjb3JyZXNwb25kaW5nIGtleSwgYW5kXG4gIC8vfn5+cG9zc2libHkgZXhwZW5zaXZlIGRlZXAgdGVzdFxuICBmb3IgKGkgPSBrYS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGtleSA9IGthW2ldO1xuICAgIGlmICghZGVlcEVxdWFsKGFba2V5XSwgYltrZXldLCBvcHRzKSkgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0eXBlb2YgYSA9PT0gdHlwZW9mIGI7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZGVlcC1lcXVhbC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNjNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIHN1cHBvcnRzQXJndW1lbnRzQ2xhc3MgPSAoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmd1bWVudHMpXG59KSgpID09ICdbb2JqZWN0IEFyZ3VtZW50c10nO1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBzdXBwb3J0c0FyZ3VtZW50c0NsYXNzID8gc3VwcG9ydGVkIDogdW5zdXBwb3J0ZWQ7XG5cbmV4cG9ydHMuc3VwcG9ydGVkID0gc3VwcG9ydGVkO1xuZnVuY3Rpb24gc3VwcG9ydGVkKG9iamVjdCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCkgPT0gJ1tvYmplY3QgQXJndW1lbnRzXSc7XG59O1xuXG5leHBvcnRzLnVuc3VwcG9ydGVkID0gdW5zdXBwb3J0ZWQ7XG5mdW5jdGlvbiB1bnN1cHBvcnRlZChvYmplY3Qpe1xuICByZXR1cm4gb2JqZWN0ICYmXG4gICAgdHlwZW9mIG9iamVjdCA9PSAnb2JqZWN0JyAmJlxuICAgIHR5cGVvZiBvYmplY3QubGVuZ3RoID09ICdudW1iZXInICYmXG4gICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ2NhbGxlZScpICYmXG4gICAgIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmplY3QsICdjYWxsZWUnKSB8fFxuICAgIGZhbHNlO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9kZWVwLWVxdWFsL2xpYi9pc19hcmd1bWVudHMuanNcbi8vIG1vZHVsZSBpZCA9IDY0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiBPYmplY3Qua2V5cyA9PT0gJ2Z1bmN0aW9uJ1xuICA/IE9iamVjdC5rZXlzIDogc2hpbTtcblxuZXhwb3J0cy5zaGltID0gc2hpbTtcbmZ1bmN0aW9uIHNoaW0gKG9iaikge1xuICB2YXIga2V5cyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSBrZXlzLnB1c2goa2V5KTtcbiAgcmV0dXJuIGtleXM7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZGVlcC1lcXVhbC9saWIva2V5cy5qc1xuLy8gbW9kdWxlIGlkID0gNjVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG52YXIgX3NsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuZXhwb3J0cy5sb29wQXN5bmMgPSBsb29wQXN5bmM7XG5cbmZ1bmN0aW9uIGxvb3BBc3luYyh0dXJucywgd29yaywgY2FsbGJhY2spIHtcbiAgdmFyIGN1cnJlbnRUdXJuID0gMCxcbiAgICAgIGlzRG9uZSA9IGZhbHNlO1xuICB2YXIgc3luYyA9IGZhbHNlLFxuICAgICAgaGFzTmV4dCA9IGZhbHNlLFxuICAgICAgZG9uZUFyZ3MgPSB1bmRlZmluZWQ7XG5cbiAgZnVuY3Rpb24gZG9uZSgpIHtcbiAgICBpc0RvbmUgPSB0cnVlO1xuICAgIGlmIChzeW5jKSB7XG4gICAgICAvLyBJdGVyYXRlIGluc3RlYWQgb2YgcmVjdXJzaW5nIGlmIHBvc3NpYmxlLlxuICAgICAgZG9uZUFyZ3MgPSBbXS5jb25jYXQoX3NsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2FsbGJhY2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgaWYgKGlzRG9uZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGhhc05leHQgPSB0cnVlO1xuICAgIGlmIChzeW5jKSB7XG4gICAgICAvLyBJdGVyYXRlIGluc3RlYWQgb2YgcmVjdXJzaW5nIGlmIHBvc3NpYmxlLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN5bmMgPSB0cnVlO1xuXG4gICAgd2hpbGUgKCFpc0RvbmUgJiYgY3VycmVudFR1cm4gPCB0dXJucyAmJiBoYXNOZXh0KSB7XG4gICAgICBoYXNOZXh0ID0gZmFsc2U7XG4gICAgICB3b3JrLmNhbGwodGhpcywgY3VycmVudFR1cm4rKywgbmV4dCwgZG9uZSk7XG4gICAgfVxuXG4gICAgc3luYyA9IGZhbHNlO1xuXG4gICAgaWYgKGlzRG9uZSkge1xuICAgICAgLy8gVGhpcyBtZWFucyB0aGUgbG9vcCBmaW5pc2hlZCBzeW5jaHJvbm91c2x5LlxuICAgICAgY2FsbGJhY2suYXBwbHkodGhpcywgZG9uZUFyZ3MpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChjdXJyZW50VHVybiA+PSB0dXJucyAmJiBoYXNOZXh0KSB7XG4gICAgICBpc0RvbmUgPSB0cnVlO1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH1cblxuICBuZXh0KCk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2hpc3RvcnkvbGliL0FzeW5jVXRpbHMuanNcbi8vIG1vZHVsZSBpZCA9IDY2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX2ludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuXG52YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuXG52YXIgX0FjdGlvbnMgPSByZXF1aXJlKCcuL0FjdGlvbnMnKTtcblxudmFyIF9QYXRoVXRpbHMgPSByZXF1aXJlKCcuL1BhdGhVdGlscycpO1xuXG52YXIgX0V4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnLi9FeGVjdXRpb25FbnZpcm9ubWVudCcpO1xuXG52YXIgX0RPTVV0aWxzID0gcmVxdWlyZSgnLi9ET01VdGlscycpO1xuXG52YXIgX0RPTVN0YXRlU3RvcmFnZSA9IHJlcXVpcmUoJy4vRE9NU3RhdGVTdG9yYWdlJyk7XG5cbnZhciBfY3JlYXRlRE9NSGlzdG9yeSA9IHJlcXVpcmUoJy4vY3JlYXRlRE9NSGlzdG9yeScpO1xuXG52YXIgX2NyZWF0ZURPTUhpc3RvcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlRE9NSGlzdG9yeSk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhIGhpc3Rvcnkgb2JqZWN0IHRoYXQgdXNlcyBIVE1MNSdzIGhpc3RvcnkgQVBJXG4gKiAocHVzaFN0YXRlLCByZXBsYWNlU3RhdGUsIGFuZCB0aGUgcG9wc3RhdGUgZXZlbnQpIHRvIG1hbmFnZSBoaXN0b3J5LlxuICogVGhpcyBpcyB0aGUgcmVjb21tZW5kZWQgbWV0aG9kIG9mIG1hbmFnaW5nIGhpc3RvcnkgaW4gYnJvd3NlcnMgYmVjYXVzZVxuICogaXQgcHJvdmlkZXMgdGhlIGNsZWFuZXN0IFVSTHMuXG4gKlxuICogTm90ZTogSW4gYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCB0aGUgSFRNTDUgaGlzdG9yeSBBUEkgZnVsbFxuICogcGFnZSByZWxvYWRzIHdpbGwgYmUgdXNlZCB0byBwcmVzZXJ2ZSBVUkxzLlxuICovXG5mdW5jdGlvbiBjcmVhdGVCcm93c2VySGlzdG9yeSgpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblxuICAhX0V4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfaW52YXJpYW50MlsnZGVmYXVsdCddKGZhbHNlLCAnQnJvd3NlciBoaXN0b3J5IG5lZWRzIGEgRE9NJykgOiBfaW52YXJpYW50MlsnZGVmYXVsdCddKGZhbHNlKSA6IHVuZGVmaW5lZDtcblxuICB2YXIgZm9yY2VSZWZyZXNoID0gb3B0aW9ucy5mb3JjZVJlZnJlc2g7XG5cbiAgdmFyIGlzU3VwcG9ydGVkID0gX0RPTVV0aWxzLnN1cHBvcnRzSGlzdG9yeSgpO1xuICB2YXIgdXNlUmVmcmVzaCA9ICFpc1N1cHBvcnRlZCB8fCBmb3JjZVJlZnJlc2g7XG5cbiAgZnVuY3Rpb24gZ2V0Q3VycmVudExvY2F0aW9uKGhpc3RvcnlTdGF0ZSkge1xuICAgIHRyeSB7XG4gICAgICBoaXN0b3J5U3RhdGUgPSBoaXN0b3J5U3RhdGUgfHwgd2luZG93Lmhpc3Rvcnkuc3RhdGUgfHwge307XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaGlzdG9yeVN0YXRlID0ge307XG4gICAgfVxuXG4gICAgdmFyIHBhdGggPSBfRE9NVXRpbHMuZ2V0V2luZG93UGF0aCgpO1xuICAgIHZhciBfaGlzdG9yeVN0YXRlID0gaGlzdG9yeVN0YXRlO1xuICAgIHZhciBrZXkgPSBfaGlzdG9yeVN0YXRlLmtleTtcblxuICAgIHZhciBzdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICBpZiAoa2V5KSB7XG4gICAgICBzdGF0ZSA9IF9ET01TdGF0ZVN0b3JhZ2UucmVhZFN0YXRlKGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlID0gbnVsbDtcbiAgICAgIGtleSA9IGhpc3RvcnkuY3JlYXRlS2V5KCk7XG5cbiAgICAgIGlmIChpc1N1cHBvcnRlZCkgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKF9leHRlbmRzKHt9LCBoaXN0b3J5U3RhdGUsIHsga2V5OiBrZXkgfSksIG51bGwpO1xuICAgIH1cblxuICAgIHZhciBsb2NhdGlvbiA9IF9QYXRoVXRpbHMucGFyc2VQYXRoKHBhdGgpO1xuXG4gICAgcmV0dXJuIGhpc3RvcnkuY3JlYXRlTG9jYXRpb24oX2V4dGVuZHMoe30sIGxvY2F0aW9uLCB7IHN0YXRlOiBzdGF0ZSB9KSwgdW5kZWZpbmVkLCBrZXkpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnRQb3BTdGF0ZUxpc3RlbmVyKF9yZWYpIHtcbiAgICB2YXIgdHJhbnNpdGlvblRvID0gX3JlZi50cmFuc2l0aW9uVG87XG5cbiAgICBmdW5jdGlvbiBwb3BTdGF0ZUxpc3RlbmVyKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQuc3RhdGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuOyAvLyBJZ25vcmUgZXh0cmFuZW91cyBwb3BzdGF0ZSBldmVudHMgaW4gV2ViS2l0LlxuXG4gICAgICB0cmFuc2l0aW9uVG8oZ2V0Q3VycmVudExvY2F0aW9uKGV2ZW50LnN0YXRlKSk7XG4gICAgfVxuXG4gICAgX0RPTVV0aWxzLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LCAncG9wc3RhdGUnLCBwb3BTdGF0ZUxpc3RlbmVyKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBfRE9NVXRpbHMucmVtb3ZlRXZlbnRMaXN0ZW5lcih3aW5kb3csICdwb3BzdGF0ZScsIHBvcFN0YXRlTGlzdGVuZXIpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBmaW5pc2hUcmFuc2l0aW9uKGxvY2F0aW9uKSB7XG4gICAgdmFyIGJhc2VuYW1lID0gbG9jYXRpb24uYmFzZW5hbWU7XG4gICAgdmFyIHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWU7XG4gICAgdmFyIHNlYXJjaCA9IGxvY2F0aW9uLnNlYXJjaDtcbiAgICB2YXIgaGFzaCA9IGxvY2F0aW9uLmhhc2g7XG4gICAgdmFyIHN0YXRlID0gbG9jYXRpb24uc3RhdGU7XG4gICAgdmFyIGFjdGlvbiA9IGxvY2F0aW9uLmFjdGlvbjtcbiAgICB2YXIga2V5ID0gbG9jYXRpb24ua2V5O1xuXG4gICAgaWYgKGFjdGlvbiA9PT0gX0FjdGlvbnMuUE9QKSByZXR1cm47IC8vIE5vdGhpbmcgdG8gZG8uXG5cbiAgICBfRE9NU3RhdGVTdG9yYWdlLnNhdmVTdGF0ZShrZXksIHN0YXRlKTtcblxuICAgIHZhciBwYXRoID0gKGJhc2VuYW1lIHx8ICcnKSArIHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcbiAgICB2YXIgaGlzdG9yeVN0YXRlID0ge1xuICAgICAga2V5OiBrZXlcbiAgICB9O1xuXG4gICAgaWYgKGFjdGlvbiA9PT0gX0FjdGlvbnMuUFVTSCkge1xuICAgICAgaWYgKHVzZVJlZnJlc2gpIHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBwYXRoO1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIFByZXZlbnQgbG9jYXRpb24gdXBkYXRlLlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoaGlzdG9yeVN0YXRlLCBudWxsLCBwYXRoKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSRVBMQUNFXG4gICAgICBpZiAodXNlUmVmcmVzaCkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShwYXRoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBQcmV2ZW50IGxvY2F0aW9uIHVwZGF0ZS5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKGhpc3RvcnlTdGF0ZSwgbnVsbCwgcGF0aCk7XG4gICAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgaGlzdG9yeSA9IF9jcmVhdGVET01IaXN0b3J5MlsnZGVmYXVsdCddKF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgZ2V0Q3VycmVudExvY2F0aW9uOiBnZXRDdXJyZW50TG9jYXRpb24sXG4gICAgZmluaXNoVHJhbnNpdGlvbjogZmluaXNoVHJhbnNpdGlvbixcbiAgICBzYXZlU3RhdGU6IF9ET01TdGF0ZVN0b3JhZ2Uuc2F2ZVN0YXRlXG4gIH0pKTtcblxuICB2YXIgbGlzdGVuZXJDb3VudCA9IDAsXG4gICAgICBzdG9wUG9wU3RhdGVMaXN0ZW5lciA9IHVuZGVmaW5lZDtcblxuICBmdW5jdGlvbiBsaXN0ZW5CZWZvcmUobGlzdGVuZXIpIHtcbiAgICBpZiAoKytsaXN0ZW5lckNvdW50ID09PSAxKSBzdG9wUG9wU3RhdGVMaXN0ZW5lciA9IHN0YXJ0UG9wU3RhdGVMaXN0ZW5lcihoaXN0b3J5KTtcblxuICAgIHZhciB1bmxpc3RlbiA9IGhpc3RvcnkubGlzdGVuQmVmb3JlKGxpc3RlbmVyKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB1bmxpc3RlbigpO1xuXG4gICAgICBpZiAoLS1saXN0ZW5lckNvdW50ID09PSAwKSBzdG9wUG9wU3RhdGVMaXN0ZW5lcigpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICBpZiAoKytsaXN0ZW5lckNvdW50ID09PSAxKSBzdG9wUG9wU3RhdGVMaXN0ZW5lciA9IHN0YXJ0UG9wU3RhdGVMaXN0ZW5lcihoaXN0b3J5KTtcblxuICAgIHZhciB1bmxpc3RlbiA9IGhpc3RvcnkubGlzdGVuKGxpc3RlbmVyKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB1bmxpc3RlbigpO1xuXG4gICAgICBpZiAoLS1saXN0ZW5lckNvdW50ID09PSAwKSBzdG9wUG9wU3RhdGVMaXN0ZW5lcigpO1xuICAgIH07XG4gIH1cblxuICAvLyBkZXByZWNhdGVkXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vaykge1xuICAgIGlmICgrK2xpc3RlbmVyQ291bnQgPT09IDEpIHN0b3BQb3BTdGF0ZUxpc3RlbmVyID0gc3RhcnRQb3BTdGF0ZUxpc3RlbmVyKGhpc3RvcnkpO1xuXG4gICAgaGlzdG9yeS5yZWdpc3RlclRyYW5zaXRpb25Ib29rKGhvb2spO1xuICB9XG5cbiAgLy8gZGVwcmVjYXRlZFxuICBmdW5jdGlvbiB1bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vaykge1xuICAgIGhpc3RvcnkudW5yZWdpc3RlclRyYW5zaXRpb25Ib29rKGhvb2spO1xuXG4gICAgaWYgKC0tbGlzdGVuZXJDb3VudCA9PT0gMCkgc3RvcFBvcFN0YXRlTGlzdGVuZXIoKTtcbiAgfVxuXG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgaGlzdG9yeSwge1xuICAgIGxpc3RlbkJlZm9yZTogbGlzdGVuQmVmb3JlLFxuICAgIGxpc3RlbjogbGlzdGVuLFxuICAgIHJlZ2lzdGVyVHJhbnNpdGlvbkhvb2s6IHJlZ2lzdGVyVHJhbnNpdGlvbkhvb2ssXG4gICAgdW5yZWdpc3RlclRyYW5zaXRpb25Ib29rOiB1bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2tcbiAgfSk7XG59XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGNyZWF0ZUJyb3dzZXJIaXN0b3J5O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2hpc3RvcnkvbGliL2NyZWF0ZUJyb3dzZXJIaXN0b3J5LmpzXG4vLyBtb2R1bGUgaWQgPSA2N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbnZhciBfQWN0aW9ucyA9IHJlcXVpcmUoJy4vQWN0aW9ucycpO1xuXG52YXIgX1BhdGhVdGlscyA9IHJlcXVpcmUoJy4vUGF0aFV0aWxzJyk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKCkge1xuICB2YXIgbG9jYXRpb24gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyAnLycgOiBhcmd1bWVudHNbMF07XG4gIHZhciBhY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBfQWN0aW9ucy5QT1AgOiBhcmd1bWVudHNbMV07XG4gIHZhciBrZXkgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzJdO1xuXG4gIHZhciBfZm91cnRoQXJnID0gYXJndW1lbnRzLmxlbmd0aCA8PSAzIHx8IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1szXTtcblxuICBpZiAodHlwZW9mIGxvY2F0aW9uID09PSAnc3RyaW5nJykgbG9jYXRpb24gPSBfUGF0aFV0aWxzLnBhcnNlUGF0aChsb2NhdGlvbik7XG5cbiAgaWYgKHR5cGVvZiBhY3Rpb24gPT09ICdvYmplY3QnKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGZhbHNlLCAnVGhlIHN0YXRlICgybmQpIGFyZ3VtZW50IHRvIGNyZWF0ZUxvY2F0aW9uIGlzIGRlcHJlY2F0ZWQ7IHVzZSBhICcgKyAnbG9jYXRpb24gZGVzY3JpcHRvciBpbnN0ZWFkJykgOiB1bmRlZmluZWQ7XG5cbiAgICBsb2NhdGlvbiA9IF9leHRlbmRzKHt9LCBsb2NhdGlvbiwgeyBzdGF0ZTogYWN0aW9uIH0pO1xuXG4gICAgYWN0aW9uID0ga2V5IHx8IF9BY3Rpb25zLlBPUDtcbiAgICBrZXkgPSBfZm91cnRoQXJnO1xuICB9XG5cbiAgdmFyIHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWUgfHwgJy8nO1xuICB2YXIgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoIHx8ICcnO1xuICB2YXIgaGFzaCA9IGxvY2F0aW9uLmhhc2ggfHwgJyc7XG4gIHZhciBzdGF0ZSA9IGxvY2F0aW9uLnN0YXRlIHx8IG51bGw7XG5cbiAgcmV0dXJuIHtcbiAgICBwYXRobmFtZTogcGF0aG5hbWUsXG4gICAgc2VhcmNoOiBzZWFyY2gsXG4gICAgaGFzaDogaGFzaCxcbiAgICBzdGF0ZTogc3RhdGUsXG4gICAgYWN0aW9uOiBhY3Rpb24sXG4gICAga2V5OiBrZXlcbiAgfTtcbn1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gY3JlYXRlTG9jYXRpb247XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaGlzdG9yeS9saWIvY3JlYXRlTG9jYXRpb24uanNcbi8vIG1vZHVsZSBpZCA9IDY4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCd3YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxudmFyIF9pbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcblxudmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblxudmFyIF9QYXRoVXRpbHMgPSByZXF1aXJlKCcuL1BhdGhVdGlscycpO1xuXG52YXIgX0FjdGlvbnMgPSByZXF1aXJlKCcuL0FjdGlvbnMnKTtcblxudmFyIF9jcmVhdGVIaXN0b3J5ID0gcmVxdWlyZSgnLi9jcmVhdGVIaXN0b3J5Jyk7XG5cbnZhciBfY3JlYXRlSGlzdG9yeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVIaXN0b3J5KTtcblxuZnVuY3Rpb24gY3JlYXRlU3RhdGVTdG9yYWdlKGVudHJpZXMpIHtcbiAgcmV0dXJuIGVudHJpZXMuZmlsdGVyKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgIHJldHVybiBlbnRyeS5zdGF0ZTtcbiAgfSkucmVkdWNlKGZ1bmN0aW9uIChtZW1vLCBlbnRyeSkge1xuICAgIG1lbW9bZW50cnkua2V5XSA9IGVudHJ5LnN0YXRlO1xuICAgIHJldHVybiBtZW1vO1xuICB9LCB7fSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU1lbW9yeUhpc3RvcnkoKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucykpIHtcbiAgICBvcHRpb25zID0geyBlbnRyaWVzOiBvcHRpb25zIH07XG4gIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgb3B0aW9ucyA9IHsgZW50cmllczogW29wdGlvbnNdIH07XG4gIH1cblxuICB2YXIgaGlzdG9yeSA9IF9jcmVhdGVIaXN0b3J5MlsnZGVmYXVsdCddKF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgZ2V0Q3VycmVudExvY2F0aW9uOiBnZXRDdXJyZW50TG9jYXRpb24sXG4gICAgZmluaXNoVHJhbnNpdGlvbjogZmluaXNoVHJhbnNpdGlvbixcbiAgICBzYXZlU3RhdGU6IHNhdmVTdGF0ZSxcbiAgICBnbzogZ29cbiAgfSkpO1xuXG4gIHZhciBfb3B0aW9ucyA9IG9wdGlvbnM7XG4gIHZhciBlbnRyaWVzID0gX29wdGlvbnMuZW50cmllcztcbiAgdmFyIGN1cnJlbnQgPSBfb3B0aW9ucy5jdXJyZW50O1xuXG4gIGlmICh0eXBlb2YgZW50cmllcyA9PT0gJ3N0cmluZycpIHtcbiAgICBlbnRyaWVzID0gW2VudHJpZXNdO1xuICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KGVudHJpZXMpKSB7XG4gICAgZW50cmllcyA9IFsnLyddO1xuICB9XG5cbiAgZW50cmllcyA9IGVudHJpZXMubWFwKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgIHZhciBrZXkgPSBoaXN0b3J5LmNyZWF0ZUtleSgpO1xuXG4gICAgaWYgKHR5cGVvZiBlbnRyeSA9PT0gJ3N0cmluZycpIHJldHVybiB7IHBhdGhuYW1lOiBlbnRyeSwga2V5OiBrZXkgfTtcblxuICAgIGlmICh0eXBlb2YgZW50cnkgPT09ICdvYmplY3QnICYmIGVudHJ5KSByZXR1cm4gX2V4dGVuZHMoe30sIGVudHJ5LCB7IGtleToga2V5IH0pO1xuXG4gICAgIWZhbHNlID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UsICdVbmFibGUgdG8gY3JlYXRlIGhpc3RvcnkgZW50cnkgZnJvbSAlcycsIGVudHJ5KSA6IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UpIDogdW5kZWZpbmVkO1xuICB9KTtcblxuICBpZiAoY3VycmVudCA9PSBudWxsKSB7XG4gICAgY3VycmVudCA9IGVudHJpZXMubGVuZ3RoIC0gMTtcbiAgfSBlbHNlIHtcbiAgICAhKGN1cnJlbnQgPj0gMCAmJiBjdXJyZW50IDwgZW50cmllcy5sZW5ndGgpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UsICdDdXJyZW50IGluZGV4IG11c3QgYmUgPj0gMCBhbmQgPCAlcywgd2FzICVzJywgZW50cmllcy5sZW5ndGgsIGN1cnJlbnQpIDogX2ludmFyaWFudDJbJ2RlZmF1bHQnXShmYWxzZSkgOiB1bmRlZmluZWQ7XG4gIH1cblxuICB2YXIgc3RvcmFnZSA9IGNyZWF0ZVN0YXRlU3RvcmFnZShlbnRyaWVzKTtcblxuICBmdW5jdGlvbiBzYXZlU3RhdGUoa2V5LCBzdGF0ZSkge1xuICAgIHN0b3JhZ2Vba2V5XSA9IHN0YXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVhZFN0YXRlKGtleSkge1xuICAgIHJldHVybiBzdG9yYWdlW2tleV07XG4gIH1cblxuICBmdW5jdGlvbiBnZXRDdXJyZW50TG9jYXRpb24oKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tjdXJyZW50XTtcbiAgICB2YXIgYmFzZW5hbWUgPSBlbnRyeS5iYXNlbmFtZTtcbiAgICB2YXIgcGF0aG5hbWUgPSBlbnRyeS5wYXRobmFtZTtcbiAgICB2YXIgc2VhcmNoID0gZW50cnkuc2VhcmNoO1xuXG4gICAgdmFyIHBhdGggPSAoYmFzZW5hbWUgfHwgJycpICsgcGF0aG5hbWUgKyAoc2VhcmNoIHx8ICcnKTtcblxuICAgIHZhciBrZXkgPSB1bmRlZmluZWQsXG4gICAgICAgIHN0YXRlID0gdW5kZWZpbmVkO1xuICAgIGlmIChlbnRyeS5rZXkpIHtcbiAgICAgIGtleSA9IGVudHJ5LmtleTtcbiAgICAgIHN0YXRlID0gcmVhZFN0YXRlKGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtleSA9IGhpc3RvcnkuY3JlYXRlS2V5KCk7XG4gICAgICBzdGF0ZSA9IG51bGw7XG4gICAgICBlbnRyeS5rZXkgPSBrZXk7XG4gICAgfVxuXG4gICAgdmFyIGxvY2F0aW9uID0gX1BhdGhVdGlscy5wYXJzZVBhdGgocGF0aCk7XG5cbiAgICByZXR1cm4gaGlzdG9yeS5jcmVhdGVMb2NhdGlvbihfZXh0ZW5kcyh7fSwgbG9jYXRpb24sIHsgc3RhdGU6IHN0YXRlIH0pLCB1bmRlZmluZWQsIGtleSk7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5HbyhuKSB7XG4gICAgdmFyIGluZGV4ID0gY3VycmVudCArIG47XG4gICAgcmV0dXJuIGluZGV4ID49IDAgJiYgaW5kZXggPCBlbnRyaWVzLmxlbmd0aDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvKG4pIHtcbiAgICBpZiAobikge1xuICAgICAgaWYgKCFjYW5HbyhuKSkge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10oZmFsc2UsICdDYW5ub3QgZ28oJXMpIHRoZXJlIGlzIG5vdCBlbm91Z2ggaGlzdG9yeScsIG4pIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGN1cnJlbnQgKz0gbjtcblxuICAgICAgdmFyIGN1cnJlbnRMb2NhdGlvbiA9IGdldEN1cnJlbnRMb2NhdGlvbigpO1xuXG4gICAgICAvLyBjaGFuZ2UgYWN0aW9uIHRvIFBPUFxuICAgICAgaGlzdG9yeS50cmFuc2l0aW9uVG8oX2V4dGVuZHMoe30sIGN1cnJlbnRMb2NhdGlvbiwgeyBhY3Rpb246IF9BY3Rpb25zLlBPUCB9KSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmluaXNoVHJhbnNpdGlvbihsb2NhdGlvbikge1xuICAgIHN3aXRjaCAobG9jYXRpb24uYWN0aW9uKSB7XG4gICAgICBjYXNlIF9BY3Rpb25zLlBVU0g6XG4gICAgICAgIGN1cnJlbnQgKz0gMTtcblxuICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IG9uIHRoZSB0b3Agb2Ygc3RhY2tcbiAgICAgICAgLy8gcmVtb3ZlIHJlc3QgYW5kIHB1c2ggbmV3XG4gICAgICAgIGlmIChjdXJyZW50IDwgZW50cmllcy5sZW5ndGgpIGVudHJpZXMuc3BsaWNlKGN1cnJlbnQpO1xuXG4gICAgICAgIGVudHJpZXMucHVzaChsb2NhdGlvbik7XG4gICAgICAgIHNhdmVTdGF0ZShsb2NhdGlvbi5rZXksIGxvY2F0aW9uLnN0YXRlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIF9BY3Rpb25zLlJFUExBQ0U6XG4gICAgICAgIGVudHJpZXNbY3VycmVudF0gPSBsb2NhdGlvbjtcbiAgICAgICAgc2F2ZVN0YXRlKGxvY2F0aW9uLmtleSwgbG9jYXRpb24uc3RhdGUpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaGlzdG9yeTtcbn1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gY3JlYXRlTWVtb3J5SGlzdG9yeTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9oaXN0b3J5L2xpYi9jcmVhdGVNZW1vcnlIaXN0b3J5LmpzXG4vLyBtb2R1bGUgaWQgPSA2OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIENvcHlyaWdodCAyMDE1LCBZYWhvbyEgSW5jLlxuICogQ29weXJpZ2h0cyBsaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBMaWNlbnNlLiBTZWUgdGhlIGFjY29tcGFueWluZyBMSUNFTlNFIGZpbGUgZm9yIHRlcm1zLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSRUFDVF9TVEFUSUNTID0ge1xuICAgIGNoaWxkQ29udGV4dFR5cGVzOiB0cnVlLFxuICAgIGNvbnRleHRUeXBlczogdHJ1ZSxcbiAgICBkZWZhdWx0UHJvcHM6IHRydWUsXG4gICAgZGlzcGxheU5hbWU6IHRydWUsXG4gICAgZ2V0RGVmYXVsdFByb3BzOiB0cnVlLFxuICAgIG1peGluczogdHJ1ZSxcbiAgICBwcm9wVHlwZXM6IHRydWUsXG4gICAgdHlwZTogdHJ1ZVxufTtcblxudmFyIEtOT1dOX1NUQVRJQ1MgPSB7XG4gICAgbmFtZTogdHJ1ZSxcbiAgICBsZW5ndGg6IHRydWUsXG4gICAgcHJvdG90eXBlOiB0cnVlLFxuICAgIGNhbGxlcjogdHJ1ZSxcbiAgICBhcmd1bWVudHM6IHRydWUsXG4gICAgYXJpdHk6IHRydWVcbn07XG5cbnZhciBpc0dldE93blByb3BlcnR5U3ltYm9sc0F2YWlsYWJsZSA9IHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKHRhcmdldENvbXBvbmVudCwgc291cmNlQ29tcG9uZW50LCBjdXN0b21TdGF0aWNzKSB7XG4gICAgaWYgKHR5cGVvZiBzb3VyY2VDb21wb25lbnQgIT09ICdzdHJpbmcnKSB7IC8vIGRvbid0IGhvaXN0IG92ZXIgc3RyaW5nIChodG1sKSBjb21wb25lbnRzXG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc291cmNlQ29tcG9uZW50KTtcblxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoaXNHZXRPd25Qcm9wZXJ0eVN5bWJvbHNBdmFpbGFibGUpIHtcbiAgICAgICAgICAgIGtleXMgPSBrZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZUNvbXBvbmVudCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoIVJFQUNUX1NUQVRJQ1Nba2V5c1tpXV0gJiYgIUtOT1dOX1NUQVRJQ1Nba2V5c1tpXV0gJiYgKCFjdXN0b21TdGF0aWNzIHx8ICFjdXN0b21TdGF0aWNzW2tleXNbaV1dKSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldENvbXBvbmVudFtrZXlzW2ldXSA9IHNvdXJjZUNvbXBvbmVudFtrZXlzW2ldXTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldENvbXBvbmVudDtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDcwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHRoZSB3aGF0d2ctZmV0Y2ggcG9seWZpbGwgaW5zdGFsbHMgdGhlIGZldGNoKCkgZnVuY3Rpb25cbi8vIG9uIHRoZSBnbG9iYWwgb2JqZWN0ICh3aW5kb3cgb3Igc2VsZilcbi8vXG4vLyBSZXR1cm4gdGhhdCBhcyB0aGUgZXhwb3J0IGZvciB1c2UgaW4gV2VicGFjaywgQnJvd3NlcmlmeSBldGMuXG5yZXF1aXJlKCd3aGF0d2ctZmV0Y2gnKTtcbm1vZHVsZS5leHBvcnRzID0gc2VsZi5mZXRjaC5iaW5kKHNlbGYpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2lzb21vcnBoaWMtZmV0Y2gvZmV0Y2gtbnBtLWJyb3dzZXJpZnkuanNcbi8vIG1vZHVsZSBpZCA9IDcxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcbnZhciBzdHJpY3RVcmlFbmNvZGUgPSByZXF1aXJlKCdzdHJpY3QtdXJpLWVuY29kZScpO1xuXG5leHBvcnRzLmV4dHJhY3QgPSBmdW5jdGlvbiAoc3RyKSB7XG5cdHJldHVybiBzdHIuc3BsaXQoJz8nKVsxXSB8fCAnJztcbn07XG5cbmV4cG9ydHMucGFyc2UgPSBmdW5jdGlvbiAoc3RyKSB7XG5cdGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuXHRcdHJldHVybiB7fTtcblx0fVxuXG5cdHN0ciA9IHN0ci50cmltKCkucmVwbGFjZSgvXihcXD98I3wmKS8sICcnKTtcblxuXHRpZiAoIXN0cikge1xuXHRcdHJldHVybiB7fTtcblx0fVxuXG5cdHJldHVybiBzdHIuc3BsaXQoJyYnKS5yZWR1Y2UoZnVuY3Rpb24gKHJldCwgcGFyYW0pIHtcblx0XHR2YXIgcGFydHMgPSBwYXJhbS5yZXBsYWNlKC9cXCsvZywgJyAnKS5zcGxpdCgnPScpO1xuXHRcdC8vIEZpcmVmb3ggKHByZSA0MCkgZGVjb2RlcyBgJTNEYCB0byBgPWBcblx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL3F1ZXJ5LXN0cmluZy9wdWxsLzM3XG5cdFx0dmFyIGtleSA9IHBhcnRzLnNoaWZ0KCk7XG5cdFx0dmFyIHZhbCA9IHBhcnRzLmxlbmd0aCA+IDAgPyBwYXJ0cy5qb2luKCc9JykgOiB1bmRlZmluZWQ7XG5cblx0XHRrZXkgPSBkZWNvZGVVUklDb21wb25lbnQoa2V5KTtcblxuXHRcdC8vIG1pc3NpbmcgYD1gIHNob3VsZCBiZSBgbnVsbGA6XG5cdFx0Ly8gaHR0cDovL3czLm9yZy9UUi8yMDEyL1dELXVybC0yMDEyMDUyNC8jY29sbGVjdC11cmwtcGFyYW1ldGVyc1xuXHRcdHZhbCA9IHZhbCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGRlY29kZVVSSUNvbXBvbmVudCh2YWwpO1xuXG5cdFx0aWYgKCFyZXQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0cmV0W2tleV0gPSB2YWw7XG5cdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHJldFtrZXldKSkge1xuXHRcdFx0cmV0W2tleV0ucHVzaCh2YWwpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXRba2V5XSA9IFtyZXRba2V5XSwgdmFsXTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmV0O1xuXHR9LCB7fSk7XG59O1xuXG5leHBvcnRzLnN0cmluZ2lmeSA9IGZ1bmN0aW9uIChvYmopIHtcblx0cmV0dXJuIG9iaiA/IE9iamVjdC5rZXlzKG9iaikuc29ydCgpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0dmFyIHZhbCA9IG9ialtrZXldO1xuXG5cdFx0aWYgKHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gJyc7XG5cdFx0fVxuXG5cdFx0aWYgKHZhbCA9PT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIGtleTtcblx0XHR9XG5cblx0XHRpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG5cdFx0XHRyZXR1cm4gdmFsLnNsaWNlKCkuc29ydCgpLm1hcChmdW5jdGlvbiAodmFsMikge1xuXHRcdFx0XHRyZXR1cm4gc3RyaWN0VXJpRW5jb2RlKGtleSkgKyAnPScgKyBzdHJpY3RVcmlFbmNvZGUodmFsMik7XG5cdFx0XHR9KS5qb2luKCcmJyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHN0cmljdFVyaUVuY29kZShrZXkpICsgJz0nICsgc3RyaWN0VXJpRW5jb2RlKHZhbCk7XG5cdH0pLmZpbHRlcihmdW5jdGlvbiAoeCkge1xuXHRcdHJldHVybiB4Lmxlbmd0aCA+IDA7XG5cdH0pLmpvaW4oJyYnKSA6ICcnO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9xdWVyeS1zdHJpbmcvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDcyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9yb3V0ZXJXYXJuaW5nID0gcmVxdWlyZSgnLi9yb3V0ZXJXYXJuaW5nJyk7XG5cbnZhciBfcm91dGVyV2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3V0ZXJXYXJuaW5nKTtcblxudmFyIF9JbnRlcm5hbFByb3BUeXBlcyA9IHJlcXVpcmUoJy4vSW50ZXJuYWxQcm9wVHlwZXMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBBIG1peGluIHRoYXQgYWRkcyB0aGUgXCJoaXN0b3J5XCIgaW5zdGFuY2UgdmFyaWFibGUgdG8gY29tcG9uZW50cy5cbiAqL1xudmFyIEhpc3RvcnkgPSB7XG5cbiAgY29udGV4dFR5cGVzOiB7XG4gICAgaGlzdG9yeTogX0ludGVybmFsUHJvcFR5cGVzLmhpc3RvcnlcbiAgfSxcblxuICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ3RoZSBgSGlzdG9yeWAgbWl4aW4gaXMgZGVwcmVjYXRlZCwgcGxlYXNlIGFjY2VzcyBgY29udGV4dC5yb3V0ZXJgIHdpdGggeW91ciBvd24gYGNvbnRleHRUeXBlc2AuIGh0dHA6Ly90aW55LmNjL3JvdXRlci1oaXN0b3J5bWl4aW4nKSA6IHZvaWQgMDtcbiAgICB0aGlzLmhpc3RvcnkgPSB0aGlzLmNvbnRleHQuaGlzdG9yeTtcbiAgfVxufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gSGlzdG9yeTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yb3V0ZXIvbGliL0hpc3RvcnkuanNcbi8vIG1vZHVsZSBpZCA9IDczXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX0xpbmsgPSByZXF1aXJlKCcuL0xpbmsnKTtcblxudmFyIF9MaW5rMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xpbmspO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIEFuIDxJbmRleExpbms+IGlzIHVzZWQgdG8gbGluayB0byBhbiA8SW5kZXhSb3V0ZT4uXG4gKi9cbnZhciBJbmRleExpbmsgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ0luZGV4TGluaycsXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTGluazIuZGVmYXVsdCwgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHsgb25seUFjdGl2ZU9uSW5kZXg6IHRydWUgfSkpO1xuICB9XG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gSW5kZXhMaW5rO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvSW5kZXhMaW5rLmpzXG4vLyBtb2R1bGUgaWQgPSA3NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yb3V0ZXJXYXJuaW5nID0gcmVxdWlyZSgnLi9yb3V0ZXJXYXJuaW5nJyk7XG5cbnZhciBfcm91dGVyV2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3V0ZXJXYXJuaW5nKTtcblxudmFyIF9pbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcblxudmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblxudmFyIF9SZWRpcmVjdCA9IHJlcXVpcmUoJy4vUmVkaXJlY3QnKTtcblxudmFyIF9SZWRpcmVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZWRpcmVjdCk7XG5cbnZhciBfSW50ZXJuYWxQcm9wVHlwZXMgPSByZXF1aXJlKCcuL0ludGVybmFsUHJvcFR5cGVzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBfUmVhY3QkUHJvcFR5cGVzID0gX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcztcbnZhciBzdHJpbmcgPSBfUmVhY3QkUHJvcFR5cGVzLnN0cmluZztcbnZhciBvYmplY3QgPSBfUmVhY3QkUHJvcFR5cGVzLm9iamVjdDtcblxuLyoqXG4gKiBBbiA8SW5kZXhSZWRpcmVjdD4gaXMgdXNlZCB0byByZWRpcmVjdCBmcm9tIGFuIGluZGV4Um91dGUuXG4gKi9cblxudmFyIEluZGV4UmVkaXJlY3QgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ0luZGV4UmVkaXJlY3QnLFxuXG5cbiAgc3RhdGljczoge1xuICAgIGNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudDogZnVuY3Rpb24gY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50KGVsZW1lbnQsIHBhcmVudFJvdXRlKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZTogc2FuaXR5IGNoZWNrICovXG4gICAgICBpZiAocGFyZW50Um91dGUpIHtcbiAgICAgICAgcGFyZW50Um91dGUuaW5kZXhSb3V0ZSA9IF9SZWRpcmVjdDIuZGVmYXVsdC5jcmVhdGVSb3V0ZUZyb21SZWFjdEVsZW1lbnQoZWxlbWVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ0FuIDxJbmRleFJlZGlyZWN0PiBkb2VzIG5vdCBtYWtlIHNlbnNlIGF0IHRoZSByb290IG9mIHlvdXIgcm91dGUgY29uZmlnJykgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIHByb3BUeXBlczoge1xuICAgIHRvOiBzdHJpbmcuaXNSZXF1aXJlZCxcbiAgICBxdWVyeTogb2JqZWN0LFxuICAgIHN0YXRlOiBvYmplY3QsXG4gICAgb25FbnRlcjogX0ludGVybmFsUHJvcFR5cGVzLmZhbHN5LFxuICAgIGNoaWxkcmVuOiBfSW50ZXJuYWxQcm9wVHlwZXMuZmFsc3lcbiAgfSxcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogc2FuaXR5IGNoZWNrICovXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICFmYWxzZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UsICc8SW5kZXhSZWRpcmVjdD4gZWxlbWVudHMgYXJlIGZvciByb3V0ZXIgY29uZmlndXJhdGlvbiBvbmx5IGFuZCBzaG91bGQgbm90IGJlIHJlbmRlcmVkJykgOiAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UpIDogdm9pZCAwO1xuICB9XG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gSW5kZXhSZWRpcmVjdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yb3V0ZXIvbGliL0luZGV4UmVkaXJlY3QuanNcbi8vIG1vZHVsZSBpZCA9IDc1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JvdXRlcldhcm5pbmcgPSByZXF1aXJlKCcuL3JvdXRlcldhcm5pbmcnKTtcblxudmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXG52YXIgX2ludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuXG52YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuXG52YXIgX1JvdXRlVXRpbHMgPSByZXF1aXJlKCcuL1JvdXRlVXRpbHMnKTtcblxudmFyIF9JbnRlcm5hbFByb3BUeXBlcyA9IHJlcXVpcmUoJy4vSW50ZXJuYWxQcm9wVHlwZXMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGZ1bmMgPSBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLmZ1bmM7XG5cbi8qKlxuICogQW4gPEluZGV4Um91dGU+IGlzIHVzZWQgdG8gc3BlY2lmeSBpdHMgcGFyZW50J3MgPFJvdXRlIGluZGV4Um91dGU+IGluXG4gKiBhIEpTWCByb3V0ZSBjb25maWcuXG4gKi9cblxudmFyIEluZGV4Um91dGUgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ0luZGV4Um91dGUnLFxuXG5cbiAgc3RhdGljczoge1xuICAgIGNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudDogZnVuY3Rpb24gY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50KGVsZW1lbnQsIHBhcmVudFJvdXRlKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZTogc2FuaXR5IGNoZWNrICovXG4gICAgICBpZiAocGFyZW50Um91dGUpIHtcbiAgICAgICAgcGFyZW50Um91dGUuaW5kZXhSb3V0ZSA9ICgwLCBfUm91dGVVdGlscy5jcmVhdGVSb3V0ZUZyb21SZWFjdEVsZW1lbnQpKGVsZW1lbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdBbiA8SW5kZXhSb3V0ZT4gZG9lcyBub3QgbWFrZSBzZW5zZSBhdCB0aGUgcm9vdCBvZiB5b3VyIHJvdXRlIGNvbmZpZycpIDogdm9pZCAwO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBwcm9wVHlwZXM6IHtcbiAgICBwYXRoOiBfSW50ZXJuYWxQcm9wVHlwZXMuZmFsc3ksXG4gICAgY29tcG9uZW50OiBfSW50ZXJuYWxQcm9wVHlwZXMuY29tcG9uZW50LFxuICAgIGNvbXBvbmVudHM6IF9JbnRlcm5hbFByb3BUeXBlcy5jb21wb25lbnRzLFxuICAgIGdldENvbXBvbmVudDogZnVuYyxcbiAgICBnZXRDb21wb25lbnRzOiBmdW5jXG4gIH0sXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IHNhbml0eSBjaGVjayAqL1xuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAhZmFsc2UgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlLCAnPEluZGV4Um91dGU+IGVsZW1lbnRzIGFyZSBmb3Igcm91dGVyIGNvbmZpZ3VyYXRpb24gb25seSBhbmQgc2hvdWxkIG5vdCBiZSByZW5kZXJlZCcpIDogKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlKSA6IHZvaWQgMDtcbiAgfVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEluZGV4Um91dGU7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtcm91dGVyL2xpYi9JbmRleFJvdXRlLmpzXG4vLyBtb2R1bGUgaWQgPSA3NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfcm91dGVyV2FybmluZyA9IHJlcXVpcmUoJy4vcm91dGVyV2FybmluZycpO1xuXG52YXIgX3JvdXRlcldhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm91dGVyV2FybmluZyk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9pbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcblxudmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIG9iamVjdCA9IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMub2JqZWN0O1xuXG4vKipcbiAqIFRoZSBMaWZlY3ljbGUgbWl4aW4gYWRkcyB0aGUgcm91dGVyV2lsbExlYXZlIGxpZmVjeWNsZSBtZXRob2QgdG8gYVxuICogY29tcG9uZW50IHRoYXQgbWF5IGJlIHVzZWQgdG8gY2FuY2VsIGEgdHJhbnNpdGlvbiBvciBwcm9tcHQgdGhlIHVzZXJcbiAqIGZvciBjb25maXJtYXRpb24uXG4gKlxuICogT24gc3RhbmRhcmQgdHJhbnNpdGlvbnMsIHJvdXRlcldpbGxMZWF2ZSByZWNlaXZlcyBhIHNpbmdsZSBhcmd1bWVudDogdGhlXG4gKiBsb2NhdGlvbiB3ZSdyZSB0cmFuc2l0aW9uaW5nIHRvLiBUbyBjYW5jZWwgdGhlIHRyYW5zaXRpb24sIHJldHVybiBmYWxzZS5cbiAqIFRvIHByb21wdCB0aGUgdXNlciBmb3IgY29uZmlybWF0aW9uLCByZXR1cm4gYSBwcm9tcHQgbWVzc2FnZSAoc3RyaW5nKS5cbiAqXG4gKiBEdXJpbmcgdGhlIGJlZm9yZXVubG9hZCBldmVudCAoYXNzdW1pbmcgeW91J3JlIHVzaW5nIHRoZSB1c2VCZWZvcmVVbmxvYWRcbiAqIGhpc3RvcnkgZW5oYW5jZXIpLCByb3V0ZXJXaWxsTGVhdmUgZG9lcyBub3QgcmVjZWl2ZSBhIGxvY2F0aW9uIG9iamVjdFxuICogYmVjYXVzZSBpdCBpc24ndCBwb3NzaWJsZSBmb3IgdXMgdG8ga25vdyB0aGUgbG9jYXRpb24gd2UncmUgdHJhbnNpdGlvbmluZ1xuICogdG8uIEluIHRoaXMgY2FzZSByb3V0ZXJXaWxsTGVhdmUgbXVzdCByZXR1cm4gYSBwcm9tcHQgbWVzc2FnZSB0byBwcmV2ZW50XG4gKiB0aGUgdXNlciBmcm9tIGNsb3NpbmcgdGhlIHdpbmRvdy90YWIuXG4gKi9cblxudmFyIExpZmVjeWNsZSA9IHtcblxuICBjb250ZXh0VHlwZXM6IHtcbiAgICBoaXN0b3J5OiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICAvLyBOZXN0ZWQgY2hpbGRyZW4gcmVjZWl2ZSB0aGUgcm91dGUgYXMgY29udGV4dCwgZWl0aGVyXG4gICAgLy8gc2V0IGJ5IHRoZSByb3V0ZSBjb21wb25lbnQgdXNpbmcgdGhlIFJvdXRlQ29udGV4dCBtaXhpblxuICAgIC8vIG9yIGJ5IHNvbWUgb3RoZXIgYW5jZXN0b3IuXG4gICAgcm91dGU6IG9iamVjdFxuICB9LFxuXG4gIHByb3BUeXBlczoge1xuICAgIC8vIFJvdXRlIGNvbXBvbmVudHMgcmVjZWl2ZSB0aGUgcm91dGUgb2JqZWN0IGFzIGEgcHJvcC5cbiAgICByb3V0ZTogb2JqZWN0XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKGZhbHNlLCAndGhlIGBMaWZlY3ljbGVgIG1peGluIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgYGNvbnRleHQucm91dGVyLnNldFJvdXRlTGVhdmVIb29rKHJvdXRlLCBob29rKWAuIGh0dHA6Ly90aW55LmNjL3JvdXRlci1saWZlY3ljbGVtaXhpbicpIDogdm9pZCAwO1xuICAgICF0aGlzLnJvdXRlcldpbGxMZWF2ZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UsICdUaGUgTGlmZWN5Y2xlIG1peGluIHJlcXVpcmVzIHlvdSB0byBkZWZpbmUgYSByb3V0ZXJXaWxsTGVhdmUgbWV0aG9kJykgOiAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UpIDogdm9pZCAwO1xuXG4gICAgdmFyIHJvdXRlID0gdGhpcy5wcm9wcy5yb3V0ZSB8fCB0aGlzLmNvbnRleHQucm91dGU7XG5cbiAgICAhcm91dGUgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlLCAnVGhlIExpZmVjeWNsZSBtaXhpbiBtdXN0IGJlIHVzZWQgb24gZWl0aGVyIGEpIGEgPFJvdXRlIGNvbXBvbmVudD4gb3IgJyArICdiKSBhIGRlc2NlbmRhbnQgb2YgYSA8Um91dGUgY29tcG9uZW50PiB0aGF0IHVzZXMgdGhlIFJvdXRlQ29udGV4dCBtaXhpbicpIDogKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlKSA6IHZvaWQgMDtcblxuICAgIHRoaXMuX3VubGlzdGVuQmVmb3JlTGVhdmluZ1JvdXRlID0gdGhpcy5jb250ZXh0Lmhpc3RvcnkubGlzdGVuQmVmb3JlTGVhdmluZ1JvdXRlKHJvdXRlLCB0aGlzLnJvdXRlcldpbGxMZWF2ZSk7XG4gIH0sXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5fdW5saXN0ZW5CZWZvcmVMZWF2aW5nUm91dGUpIHRoaXMuX3VubGlzdGVuQmVmb3JlTGVhdmluZ1JvdXRlKCk7XG4gIH1cbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IExpZmVjeWNsZTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yb3V0ZXIvbGliL0xpZmVjeWNsZS5qc1xuLy8gbW9kdWxlIGlkID0gNzdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5cbnZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cbnZhciBfUm91dGVVdGlscyA9IHJlcXVpcmUoJy4vUm91dGVVdGlscycpO1xuXG52YXIgX0ludGVybmFsUHJvcFR5cGVzID0gcmVxdWlyZSgnLi9JbnRlcm5hbFByb3BUeXBlcycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgX1JlYWN0JFByb3BUeXBlcyA9IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXM7XG52YXIgc3RyaW5nID0gX1JlYWN0JFByb3BUeXBlcy5zdHJpbmc7XG52YXIgZnVuYyA9IF9SZWFjdCRQcm9wVHlwZXMuZnVuYztcblxuLyoqXG4gKiBBIDxSb3V0ZT4gaXMgdXNlZCB0byBkZWNsYXJlIHdoaWNoIGNvbXBvbmVudHMgYXJlIHJlbmRlcmVkIHRvIHRoZVxuICogcGFnZSB3aGVuIHRoZSBVUkwgbWF0Y2hlcyBhIGdpdmVuIHBhdHRlcm4uXG4gKlxuICogUm91dGVzIGFyZSBhcnJhbmdlZCBpbiBhIG5lc3RlZCB0cmVlIHN0cnVjdHVyZS4gV2hlbiBhIG5ldyBVUkwgaXNcbiAqIHJlcXVlc3RlZCwgdGhlIHRyZWUgaXMgc2VhcmNoZWQgZGVwdGgtZmlyc3QgdG8gZmluZCBhIHJvdXRlIHdob3NlXG4gKiBwYXRoIG1hdGNoZXMgdGhlIFVSTC4gIFdoZW4gb25lIGlzIGZvdW5kLCBhbGwgcm91dGVzIGluIHRoZSB0cmVlXG4gKiB0aGF0IGxlYWQgdG8gaXQgYXJlIGNvbnNpZGVyZWQgXCJhY3RpdmVcIiBhbmQgdGhlaXIgY29tcG9uZW50cyBhcmVcbiAqIHJlbmRlcmVkIGludG8gdGhlIERPTSwgbmVzdGVkIGluIHRoZSBzYW1lIG9yZGVyIGFzIGluIHRoZSB0cmVlLlxuICovXG5cbnZhciBSb3V0ZSA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnUm91dGUnLFxuXG5cbiAgc3RhdGljczoge1xuICAgIGNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudDogX1JvdXRlVXRpbHMuY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50XG4gIH0sXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgcGF0aDogc3RyaW5nLFxuICAgIGNvbXBvbmVudDogX0ludGVybmFsUHJvcFR5cGVzLmNvbXBvbmVudCxcbiAgICBjb21wb25lbnRzOiBfSW50ZXJuYWxQcm9wVHlwZXMuY29tcG9uZW50cyxcbiAgICBnZXRDb21wb25lbnQ6IGZ1bmMsXG4gICAgZ2V0Q29tcG9uZW50czogZnVuY1xuICB9LFxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBzYW5pdHkgY2hlY2sgKi9cbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgIWZhbHNlID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSwgJzxSb3V0ZT4gZWxlbWVudHMgYXJlIGZvciByb3V0ZXIgY29uZmlndXJhdGlvbiBvbmx5IGFuZCBzaG91bGQgbm90IGJlIHJlbmRlcmVkJykgOiAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UpIDogdm9pZCAwO1xuICB9XG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUm91dGU7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtcm91dGVyL2xpYi9Sb3V0ZS5qc1xuLy8gbW9kdWxlIGlkID0gNzhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3JvdXRlcldhcm5pbmcgPSByZXF1aXJlKCcuL3JvdXRlcldhcm5pbmcnKTtcblxudmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBvYmplY3QgPSBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLm9iamVjdDtcblxuLyoqXG4gKiBUaGUgUm91dGVDb250ZXh0IG1peGluIHByb3ZpZGVzIGEgY29udmVuaWVudCB3YXkgZm9yIHJvdXRlXG4gKiBjb21wb25lbnRzIHRvIHNldCB0aGUgcm91dGUgaW4gY29udGV4dC4gVGhpcyBpcyBuZWVkZWQgZm9yXG4gKiByb3V0ZXMgdGhhdCByZW5kZXIgZWxlbWVudHMgdGhhdCB3YW50IHRvIHVzZSB0aGUgTGlmZWN5Y2xlXG4gKiBtaXhpbiB0byBwcmV2ZW50IHRyYW5zaXRpb25zLlxuICovXG5cbnZhciBSb3V0ZUNvbnRleHQgPSB7XG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgcm91dGU6IG9iamVjdC5pc1JlcXVpcmVkXG4gIH0sXG5cbiAgY2hpbGRDb250ZXh0VHlwZXM6IHtcbiAgICByb3V0ZTogb2JqZWN0LmlzUmVxdWlyZWRcbiAgfSxcblxuICBnZXRDaGlsZENvbnRleHQ6IGZ1bmN0aW9uIGdldENoaWxkQ29udGV4dCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcm91dGU6IHRoaXMucHJvcHMucm91dGVcbiAgICB9O1xuICB9LFxuICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ1RoZSBgUm91dGVDb250ZXh0YCBtaXhpbiBpcyBkZXByZWNhdGVkLiBZb3UgY2FuIHByb3ZpZGUgYHRoaXMucHJvcHMucm91dGVgIG9uIGNvbnRleHQgd2l0aCB5b3VyIG93biBgY29udGV4dFR5cGVzYC4gaHR0cDovL3RpbnkuY2Mvcm91dGVyLXJvdXRlY29udGV4dG1peGluJykgOiB2b2lkIDA7XG4gIH1cbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJvdXRlQ29udGV4dDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yb3V0ZXIvbGliL1JvdXRlQ29udGV4dC5qc1xuLy8gbW9kdWxlIGlkID0gNzlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX2NyZWF0ZUhhc2hIaXN0b3J5ID0gcmVxdWlyZSgnaGlzdG9yeS9saWIvY3JlYXRlSGFzaEhpc3RvcnknKTtcblxudmFyIF9jcmVhdGVIYXNoSGlzdG9yeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVIYXNoSGlzdG9yeSk7XG5cbnZhciBfdXNlUXVlcmllcyA9IHJlcXVpcmUoJ2hpc3RvcnkvbGliL3VzZVF1ZXJpZXMnKTtcblxudmFyIF91c2VRdWVyaWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VzZVF1ZXJpZXMpO1xuXG52YXIgX2ludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuXG52YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIgPSByZXF1aXJlKCcuL2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyJyk7XG5cbnZhciBfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIpO1xuXG52YXIgX0ludGVybmFsUHJvcFR5cGVzID0gcmVxdWlyZSgnLi9JbnRlcm5hbFByb3BUeXBlcycpO1xuXG52YXIgX1JvdXRlckNvbnRleHQgPSByZXF1aXJlKCcuL1JvdXRlckNvbnRleHQnKTtcblxudmFyIF9Sb3V0ZXJDb250ZXh0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JvdXRlckNvbnRleHQpO1xuXG52YXIgX1JvdXRlVXRpbHMgPSByZXF1aXJlKCcuL1JvdXRlVXRpbHMnKTtcblxudmFyIF9Sb3V0ZXJVdGlscyA9IHJlcXVpcmUoJy4vUm91dGVyVXRpbHMnKTtcblxudmFyIF9yb3V0ZXJXYXJuaW5nID0gcmVxdWlyZSgnLi9yb3V0ZXJXYXJuaW5nJyk7XG5cbnZhciBfcm91dGVyV2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3V0ZXJXYXJuaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykgeyB2YXIgdGFyZ2V0ID0ge307IGZvciAodmFyIGkgaW4gb2JqKSB7IGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlOyB0YXJnZXRbaV0gPSBvYmpbaV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBpc0RlcHJlY2F0ZWRIaXN0b3J5KGhpc3RvcnkpIHtcbiAgcmV0dXJuICFoaXN0b3J5IHx8ICFoaXN0b3J5Ll9fdjJfY29tcGF0aWJsZV9fO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogc2FuaXR5IGNoZWNrICovXG5mdW5jdGlvbiBpc1Vuc3VwcG9ydGVkSGlzdG9yeShoaXN0b3J5KSB7XG4gIC8vIHYzIGhpc3RvcmllcyBleHBvc2UgZ2V0Q3VycmVudExvY2F0aW9uLCBidXQgYXJlbid0IGN1cnJlbnRseSBzdXBwb3J0ZWQuXG4gIHJldHVybiBoaXN0b3J5ICYmIGhpc3RvcnkuZ2V0Q3VycmVudExvY2F0aW9uO1xufVxuXG52YXIgX1JlYWN0JFByb3BUeXBlcyA9IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXM7XG52YXIgZnVuYyA9IF9SZWFjdCRQcm9wVHlwZXMuZnVuYztcbnZhciBvYmplY3QgPSBfUmVhY3QkUHJvcFR5cGVzLm9iamVjdDtcblxuLyoqXG4gKiBBIDxSb3V0ZXI+IGlzIGEgaGlnaC1sZXZlbCBBUEkgZm9yIGF1dG9tYXRpY2FsbHkgc2V0dGluZyB1cFxuICogYSByb3V0ZXIgdGhhdCByZW5kZXJzIGEgPFJvdXRlckNvbnRleHQ+IHdpdGggYWxsIHRoZSBwcm9wc1xuICogaXQgbmVlZHMgZWFjaCB0aW1lIHRoZSBVUkwgY2hhbmdlcy5cbiAqL1xuXG52YXIgUm91dGVyID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdSb3V0ZXInLFxuXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgaGlzdG9yeTogb2JqZWN0LFxuICAgIGNoaWxkcmVuOiBfSW50ZXJuYWxQcm9wVHlwZXMucm91dGVzLFxuICAgIHJvdXRlczogX0ludGVybmFsUHJvcFR5cGVzLnJvdXRlcywgLy8gYWxpYXMgZm9yIGNoaWxkcmVuXG4gICAgcmVuZGVyOiBmdW5jLFxuICAgIGNyZWF0ZUVsZW1lbnQ6IGZ1bmMsXG4gICAgb25FcnJvcjogZnVuYyxcbiAgICBvblVwZGF0ZTogZnVuYyxcblxuICAgIC8vIERlcHJlY2F0ZWQ6XG4gICAgcGFyc2VRdWVyeVN0cmluZzogZnVuYyxcbiAgICBzdHJpbmdpZnlRdWVyeTogZnVuYyxcblxuICAgIC8vIFBSSVZBVEU6IEZvciBjbGllbnQtc2lkZSByZWh5ZHJhdGlvbiBvZiBzZXJ2ZXIgbWF0Y2guXG4gICAgbWF0Y2hDb250ZXh0OiBvYmplY3RcbiAgfSxcblxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Sb3V0ZXJDb250ZXh0Mi5kZWZhdWx0LCBwcm9wcyk7XG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxvY2F0aW9uOiBudWxsLFxuICAgICAgcm91dGVzOiBudWxsLFxuICAgICAgcGFyYW1zOiBudWxsLFxuICAgICAgY29tcG9uZW50czogbnVsbFxuICAgIH07XG4gIH0sXG4gIGhhbmRsZUVycm9yOiBmdW5jdGlvbiBoYW5kbGVFcnJvcihlcnJvcikge1xuICAgIGlmICh0aGlzLnByb3BzLm9uRXJyb3IpIHtcbiAgICAgIHRoaXMucHJvcHMub25FcnJvci5jYWxsKHRoaXMsIGVycm9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhyb3cgZXJyb3JzIGJ5IGRlZmF1bHQgc28gd2UgZG9uJ3Qgc2lsZW50bHkgc3dhbGxvdyB0aGVtIVxuICAgICAgdGhyb3cgZXJyb3I7IC8vIFRoaXMgZXJyb3IgcHJvYmFibHkgb2NjdXJyZWQgaW4gZ2V0Q2hpbGRSb3V0ZXMgb3IgZ2V0Q29tcG9uZW50cy5cbiAgICB9XG4gIH0sXG4gIGNvbXBvbmVudFdpbGxNb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgcGFyc2VRdWVyeVN0cmluZyA9IF9wcm9wcy5wYXJzZVF1ZXJ5U3RyaW5nO1xuICAgIHZhciBzdHJpbmdpZnlRdWVyeSA9IF9wcm9wcy5zdHJpbmdpZnlRdWVyeTtcblxuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKCEocGFyc2VRdWVyeVN0cmluZyB8fCBzdHJpbmdpZnlRdWVyeSksICdgcGFyc2VRdWVyeVN0cmluZ2AgYW5kIGBzdHJpbmdpZnlRdWVyeWAgYXJlIGRlcHJlY2F0ZWQuIFBsZWFzZSBjcmVhdGUgYSBjdXN0b20gaGlzdG9yeS4gaHR0cDovL3RpbnkuY2Mvcm91dGVyLWN1c3RvbXF1ZXJ5c3RyaW5nJykgOiB2b2lkIDA7XG5cbiAgICB2YXIgX2NyZWF0ZVJvdXRlck9iamVjdHMgPSB0aGlzLmNyZWF0ZVJvdXRlck9iamVjdHMoKTtcblxuICAgIHZhciBoaXN0b3J5ID0gX2NyZWF0ZVJvdXRlck9iamVjdHMuaGlzdG9yeTtcbiAgICB2YXIgdHJhbnNpdGlvbk1hbmFnZXIgPSBfY3JlYXRlUm91dGVyT2JqZWN0cy50cmFuc2l0aW9uTWFuYWdlcjtcbiAgICB2YXIgcm91dGVyID0gX2NyZWF0ZVJvdXRlck9iamVjdHMucm91dGVyO1xuXG5cbiAgICB0aGlzLl91bmxpc3RlbiA9IHRyYW5zaXRpb25NYW5hZ2VyLmxpc3RlbihmdW5jdGlvbiAoZXJyb3IsIHN0YXRlKSB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgX3RoaXMuaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoc3RhdGUsIF90aGlzLnByb3BzLm9uVXBkYXRlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuaGlzdG9yeSA9IGhpc3Rvcnk7XG4gICAgdGhpcy5yb3V0ZXIgPSByb3V0ZXI7XG4gIH0sXG4gIGNyZWF0ZVJvdXRlck9iamVjdHM6IGZ1bmN0aW9uIGNyZWF0ZVJvdXRlck9iamVjdHMoKSB7XG4gICAgdmFyIG1hdGNoQ29udGV4dCA9IHRoaXMucHJvcHMubWF0Y2hDb250ZXh0O1xuXG4gICAgaWYgKG1hdGNoQ29udGV4dCkge1xuICAgICAgcmV0dXJuIG1hdGNoQ29udGV4dDtcbiAgICB9XG5cbiAgICB2YXIgaGlzdG9yeSA9IHRoaXMucHJvcHMuaGlzdG9yeTtcbiAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHM7XG4gICAgdmFyIHJvdXRlcyA9IF9wcm9wczIucm91dGVzO1xuICAgIHZhciBjaGlsZHJlbiA9IF9wcm9wczIuY2hpbGRyZW47XG5cblxuICAgICEhaXNVbnN1cHBvcnRlZEhpc3RvcnkoaGlzdG9yeSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlLCAnWW91IGhhdmUgcHJvdmlkZWQgYSBoaXN0b3J5IG9iamVjdCBjcmVhdGVkIHdpdGggaGlzdG9yeSB2My54LiAnICsgJ1RoaXMgdmVyc2lvbiBvZiBSZWFjdCBSb3V0ZXIgaXMgbm90IGNvbXBhdGlibGUgd2l0aCB2MyBoaXN0b3J5ICcgKyAnb2JqZWN0cy4gUGxlYXNlIHVzZSBoaXN0b3J5IHYyLnggaW5zdGVhZC4nKSA6ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSkgOiB2b2lkIDA7XG5cbiAgICBpZiAoaXNEZXByZWNhdGVkSGlzdG9yeShoaXN0b3J5KSkge1xuICAgICAgaGlzdG9yeSA9IHRoaXMud3JhcERlcHJlY2F0ZWRIaXN0b3J5KGhpc3RvcnkpO1xuICAgIH1cblxuICAgIHZhciB0cmFuc2l0aW9uTWFuYWdlciA9ICgwLCBfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIyLmRlZmF1bHQpKGhpc3RvcnksICgwLCBfUm91dGVVdGlscy5jcmVhdGVSb3V0ZXMpKHJvdXRlcyB8fCBjaGlsZHJlbikpO1xuICAgIHZhciByb3V0ZXIgPSAoMCwgX1JvdXRlclV0aWxzLmNyZWF0ZVJvdXRlck9iamVjdCkoaGlzdG9yeSwgdHJhbnNpdGlvbk1hbmFnZXIpO1xuICAgIHZhciByb3V0aW5nSGlzdG9yeSA9ICgwLCBfUm91dGVyVXRpbHMuY3JlYXRlUm91dGluZ0hpc3RvcnkpKGhpc3RvcnksIHRyYW5zaXRpb25NYW5hZ2VyKTtcblxuICAgIHJldHVybiB7IGhpc3Rvcnk6IHJvdXRpbmdIaXN0b3J5LCB0cmFuc2l0aW9uTWFuYWdlcjogdHJhbnNpdGlvbk1hbmFnZXIsIHJvdXRlcjogcm91dGVyIH07XG4gIH0sXG4gIHdyYXBEZXByZWNhdGVkSGlzdG9yeTogZnVuY3Rpb24gd3JhcERlcHJlY2F0ZWRIaXN0b3J5KGhpc3RvcnkpIHtcbiAgICB2YXIgX3Byb3BzMyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIHBhcnNlUXVlcnlTdHJpbmcgPSBfcHJvcHMzLnBhcnNlUXVlcnlTdHJpbmc7XG4gICAgdmFyIHN0cmluZ2lmeVF1ZXJ5ID0gX3Byb3BzMy5zdHJpbmdpZnlRdWVyeTtcblxuXG4gICAgdmFyIGNyZWF0ZUhpc3RvcnkgPSB2b2lkIDA7XG4gICAgaWYgKGhpc3RvcnkpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKGZhbHNlLCAnSXQgYXBwZWFycyB5b3UgaGF2ZSBwcm92aWRlZCBhIGRlcHJlY2F0ZWQgaGlzdG9yeSBvYmplY3QgdG8gYDxSb3V0ZXIvPmAsIHBsZWFzZSB1c2UgYSBoaXN0b3J5IHByb3ZpZGVkIGJ5ICcgKyAnUmVhY3QgUm91dGVyIHdpdGggYGltcG9ydCB7IGJyb3dzZXJIaXN0b3J5IH0gZnJvbSBcXCdyZWFjdC1yb3V0ZXJcXCdgIG9yIGBpbXBvcnQgeyBoYXNoSGlzdG9yeSB9IGZyb20gXFwncmVhY3Qtcm91dGVyXFwnYC4gJyArICdJZiB5b3UgYXJlIHVzaW5nIGEgY3VzdG9tIGhpc3RvcnkgcGxlYXNlIGNyZWF0ZSBpdCB3aXRoIGB1c2VSb3V0ZXJIaXN0b3J5YCwgc2VlIGh0dHA6Ly90aW55LmNjL3JvdXRlci11c2luZ2hpc3RvcnkgZm9yIGRldGFpbHMuJykgOiB2b2lkIDA7XG4gICAgICBjcmVhdGVIaXN0b3J5ID0gZnVuY3Rpb24gY3JlYXRlSGlzdG9yeSgpIHtcbiAgICAgICAgcmV0dXJuIGhpc3Rvcnk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ2BSb3V0ZXJgIG5vIGxvbmdlciBkZWZhdWx0cyB0aGUgaGlzdG9yeSBwcm9wIHRvIGhhc2ggaGlzdG9yeS4gUGxlYXNlIHVzZSB0aGUgYGhhc2hIaXN0b3J5YCBzaW5nbGV0b24gaW5zdGVhZC4gaHR0cDovL3RpbnkuY2Mvcm91dGVyLWRlZmF1bHRoaXN0b3J5JykgOiB2b2lkIDA7XG4gICAgICBjcmVhdGVIaXN0b3J5ID0gX2NyZWF0ZUhhc2hIaXN0b3J5Mi5kZWZhdWx0O1xuICAgIH1cblxuICAgIHJldHVybiAoMCwgX3VzZVF1ZXJpZXMyLmRlZmF1bHQpKGNyZWF0ZUhpc3RvcnkpKHsgcGFyc2VRdWVyeVN0cmluZzogcGFyc2VRdWVyeVN0cmluZywgc3RyaW5naWZ5UXVlcnk6IHN0cmluZ2lmeVF1ZXJ5IH0pO1xuICB9LFxuXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IHNhbml0eSBjaGVjayAqL1xuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKG5leHRQcm9wcy5oaXN0b3J5ID09PSB0aGlzLnByb3BzLmhpc3RvcnksICdZb3UgY2Fubm90IGNoYW5nZSA8Um91dGVyIGhpc3Rvcnk+OyBpdCB3aWxsIGJlIGlnbm9yZWQnKSA6IHZvaWQgMDtcblxuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKChuZXh0UHJvcHMucm91dGVzIHx8IG5leHRQcm9wcy5jaGlsZHJlbikgPT09ICh0aGlzLnByb3BzLnJvdXRlcyB8fCB0aGlzLnByb3BzLmNoaWxkcmVuKSwgJ1lvdSBjYW5ub3QgY2hhbmdlIDxSb3V0ZXIgcm91dGVzPjsgaXQgd2lsbCBiZSBpZ25vcmVkJykgOiB2b2lkIDA7XG4gIH0sXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5fdW5saXN0ZW4pIHRoaXMuX3VubGlzdGVuKCk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIHZhciBsb2NhdGlvbiA9IF9zdGF0ZS5sb2NhdGlvbjtcbiAgICB2YXIgcm91dGVzID0gX3N0YXRlLnJvdXRlcztcbiAgICB2YXIgcGFyYW1zID0gX3N0YXRlLnBhcmFtcztcbiAgICB2YXIgY29tcG9uZW50cyA9IF9zdGF0ZS5jb21wb25lbnRzO1xuICAgIHZhciBfcHJvcHM0ID0gdGhpcy5wcm9wcztcbiAgICB2YXIgY3JlYXRlRWxlbWVudCA9IF9wcm9wczQuY3JlYXRlRWxlbWVudDtcbiAgICB2YXIgcmVuZGVyID0gX3Byb3BzNC5yZW5kZXI7XG5cbiAgICB2YXIgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3Byb3BzNCwgWydjcmVhdGVFbGVtZW50JywgJ3JlbmRlciddKTtcblxuICAgIGlmIChsb2NhdGlvbiA9PSBudWxsKSByZXR1cm4gbnVsbDsgLy8gQXN5bmMgbWF0Y2hcblxuICAgIC8vIE9ubHkgZm9yd2FyZCBub24tUm91dGVyLXNwZWNpZmljIHByb3BzIHRvIHJvdXRpbmcgY29udGV4dCwgYXMgdGhvc2UgYXJlXG4gICAgLy8gdGhlIG9ubHkgb25lcyB0aGF0IG1pZ2h0IGJlIGN1c3RvbSByb3V0aW5nIGNvbnRleHQgcHJvcHMuXG4gICAgT2JqZWN0LmtleXMoUm91dGVyLnByb3BUeXBlcykuZm9yRWFjaChmdW5jdGlvbiAocHJvcFR5cGUpIHtcbiAgICAgIHJldHVybiBkZWxldGUgcHJvcHNbcHJvcFR5cGVdO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlbmRlcihfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIGhpc3Rvcnk6IHRoaXMuaGlzdG9yeSxcbiAgICAgIHJvdXRlcjogdGhpcy5yb3V0ZXIsXG4gICAgICBsb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICByb3V0ZXM6IHJvdXRlcyxcbiAgICAgIHBhcmFtczogcGFyYW1zLFxuICAgICAgY29tcG9uZW50czogY29tcG9uZW50cyxcbiAgICAgIGNyZWF0ZUVsZW1lbnQ6IGNyZWF0ZUVsZW1lbnRcbiAgICB9KSk7XG4gIH1cbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSb3V0ZXI7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtcm91dGVyL2xpYi9Sb3V0ZXIuanNcbi8vIG1vZHVsZSBpZCA9IDgwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX1JvdXRlckNvbnRleHQgPSByZXF1aXJlKCcuL1JvdXRlckNvbnRleHQnKTtcblxudmFyIF9Sb3V0ZXJDb250ZXh0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JvdXRlckNvbnRleHQpO1xuXG52YXIgX3JvdXRlcldhcm5pbmcgPSByZXF1aXJlKCcuL3JvdXRlcldhcm5pbmcnKTtcblxudmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgUm91dGluZ0NvbnRleHQgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ1JvdXRpbmdDb250ZXh0JyxcbiAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdgUm91dGluZ0NvbnRleHRgIGhhcyBiZWVuIHJlbmFtZWQgdG8gYFJvdXRlckNvbnRleHRgLiBQbGVhc2UgdXNlIGBpbXBvcnQgeyBSb3V0ZXJDb250ZXh0IH0gZnJvbSBcXCdyZWFjdC1yb3V0ZXJcXCdgLiBodHRwOi8vdGlueS5jYy9yb3V0ZXItcm91dGVyY29udGV4dCcpIDogdm9pZCAwO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1JvdXRlckNvbnRleHQyLmRlZmF1bHQsIHRoaXMucHJvcHMpO1xuICB9XG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUm91dGluZ0NvbnRleHQ7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtcm91dGVyL2xpYi9Sb3V0aW5nQ29udGV4dC5qc1xuLy8gbW9kdWxlIGlkID0gODFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5ydW5FbnRlckhvb2tzID0gcnVuRW50ZXJIb29rcztcbmV4cG9ydHMucnVuQ2hhbmdlSG9va3MgPSBydW5DaGFuZ2VIb29rcztcbmV4cG9ydHMucnVuTGVhdmVIb29rcyA9IHJ1bkxlYXZlSG9va3M7XG5cbnZhciBfQXN5bmNVdGlscyA9IHJlcXVpcmUoJy4vQXN5bmNVdGlscycpO1xuXG52YXIgX3JvdXRlcldhcm5pbmcgPSByZXF1aXJlKCcuL3JvdXRlcldhcm5pbmcnKTtcblxudmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBjcmVhdGVUcmFuc2l0aW9uSG9vayhob29rLCByb3V0ZSwgYXN5bmNBcml0eSkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGhvb2suYXBwbHkocm91dGUsIGFyZ3MpO1xuXG4gICAgaWYgKGhvb2subGVuZ3RoIDwgYXN5bmNBcml0eSkge1xuICAgICAgdmFyIGNhbGxiYWNrID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdO1xuICAgICAgLy8gQXNzdW1lIGhvb2sgZXhlY3V0ZXMgc3luY2hyb25vdXNseSBhbmRcbiAgICAgIC8vIGF1dG9tYXRpY2FsbHkgY2FsbCB0aGUgY2FsbGJhY2suXG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RW50ZXJIb29rcyhyb3V0ZXMpIHtcbiAgcmV0dXJuIHJvdXRlcy5yZWR1Y2UoZnVuY3Rpb24gKGhvb2tzLCByb3V0ZSkge1xuICAgIGlmIChyb3V0ZS5vbkVudGVyKSBob29rcy5wdXNoKGNyZWF0ZVRyYW5zaXRpb25Ib29rKHJvdXRlLm9uRW50ZXIsIHJvdXRlLCAzKSk7XG5cbiAgICByZXR1cm4gaG9va3M7XG4gIH0sIFtdKTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2hhbmdlSG9va3Mocm91dGVzKSB7XG4gIHJldHVybiByb3V0ZXMucmVkdWNlKGZ1bmN0aW9uIChob29rcywgcm91dGUpIHtcbiAgICBpZiAocm91dGUub25DaGFuZ2UpIGhvb2tzLnB1c2goY3JlYXRlVHJhbnNpdGlvbkhvb2socm91dGUub25DaGFuZ2UsIHJvdXRlLCA0KSk7XG4gICAgcmV0dXJuIGhvb2tzO1xuICB9LCBbXSk7XG59XG5cbmZ1bmN0aW9uIHJ1blRyYW5zaXRpb25Ib29rcyhsZW5ndGgsIGl0ZXIsIGNhbGxiYWNrKSB7XG4gIGlmICghbGVuZ3RoKSB7XG4gICAgY2FsbGJhY2soKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgcmVkaXJlY3RJbmZvID0gdm9pZCAwO1xuICBmdW5jdGlvbiByZXBsYWNlKGxvY2F0aW9uLCBkZXByZWNhdGVkUGF0aG5hbWUsIGRlcHJlY2F0ZWRRdWVyeSkge1xuICAgIGlmIChkZXByZWNhdGVkUGF0aG5hbWUpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKGZhbHNlLCAnYHJlcGxhY2VTdGF0ZShzdGF0ZSwgcGF0aG5hbWUsIHF1ZXJ5KSBpcyBkZXByZWNhdGVkOyB1c2UgYHJlcGxhY2UobG9jYXRpb24pYCB3aXRoIGEgbG9jYXRpb24gZGVzY3JpcHRvciBpbnN0ZWFkLiBodHRwOi8vdGlueS5jYy9yb3V0ZXItaXNBY3RpdmVkZXByZWNhdGVkJykgOiB2b2lkIDA7XG4gICAgICByZWRpcmVjdEluZm8gPSB7XG4gICAgICAgIHBhdGhuYW1lOiBkZXByZWNhdGVkUGF0aG5hbWUsXG4gICAgICAgIHF1ZXJ5OiBkZXByZWNhdGVkUXVlcnksXG4gICAgICAgIHN0YXRlOiBsb2NhdGlvblxuICAgICAgfTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJlZGlyZWN0SW5mbyA9IGxvY2F0aW9uO1xuICB9XG5cbiAgKDAsIF9Bc3luY1V0aWxzLmxvb3BBc3luYykobGVuZ3RoLCBmdW5jdGlvbiAoaW5kZXgsIG5leHQsIGRvbmUpIHtcbiAgICBpdGVyKGluZGV4LCByZXBsYWNlLCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvciB8fCByZWRpcmVjdEluZm8pIHtcbiAgICAgICAgZG9uZShlcnJvciwgcmVkaXJlY3RJbmZvKTsgLy8gTm8gbmVlZCB0byBjb250aW51ZS5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgY2FsbGJhY2spO1xufVxuXG4vKipcbiAqIFJ1bnMgYWxsIG9uRW50ZXIgaG9va3MgaW4gdGhlIGdpdmVuIGFycmF5IG9mIHJvdXRlcyBpbiBvcmRlclxuICogd2l0aCBvbkVudGVyKG5leHRTdGF0ZSwgcmVwbGFjZSwgY2FsbGJhY2spIGFuZCBjYWxsc1xuICogY2FsbGJhY2soZXJyb3IsIHJlZGlyZWN0SW5mbykgd2hlbiBmaW5pc2hlZC4gVGhlIGZpcnN0IGhvb2tcbiAqIHRvIHVzZSByZXBsYWNlIHNob3J0LWNpcmN1aXRzIHRoZSBsb29wLlxuICpcbiAqIElmIGEgaG9vayBuZWVkcyB0byBydW4gYXN5bmNocm9ub3VzbHksIGl0IG1heSB1c2UgdGhlIGNhbGxiYWNrXG4gKiBmdW5jdGlvbi4gSG93ZXZlciwgZG9pbmcgc28gd2lsbCBjYXVzZSB0aGUgdHJhbnNpdGlvbiB0byBwYXVzZSxcbiAqIHdoaWNoIGNvdWxkIGxlYWQgdG8gYSBub24tcmVzcG9uc2l2ZSBVSSBpZiB0aGUgaG9vayBpcyBzbG93LlxuICovXG5mdW5jdGlvbiBydW5FbnRlckhvb2tzKHJvdXRlcywgbmV4dFN0YXRlLCBjYWxsYmFjaykge1xuICB2YXIgaG9va3MgPSBnZXRFbnRlckhvb2tzKHJvdXRlcyk7XG4gIHJldHVybiBydW5UcmFuc2l0aW9uSG9va3MoaG9va3MubGVuZ3RoLCBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2UsIG5leHQpIHtcbiAgICBob29rc1tpbmRleF0obmV4dFN0YXRlLCByZXBsYWNlLCBuZXh0KTtcbiAgfSwgY2FsbGJhY2spO1xufVxuXG4vKipcbiAqIFJ1bnMgYWxsIG9uQ2hhbmdlIGhvb2tzIGluIHRoZSBnaXZlbiBhcnJheSBvZiByb3V0ZXMgaW4gb3JkZXJcbiAqIHdpdGggb25DaGFuZ2UocHJldlN0YXRlLCBuZXh0U3RhdGUsIHJlcGxhY2UsIGNhbGxiYWNrKSBhbmQgY2FsbHNcbiAqIGNhbGxiYWNrKGVycm9yLCByZWRpcmVjdEluZm8pIHdoZW4gZmluaXNoZWQuIFRoZSBmaXJzdCBob29rXG4gKiB0byB1c2UgcmVwbGFjZSBzaG9ydC1jaXJjdWl0cyB0aGUgbG9vcC5cbiAqXG4gKiBJZiBhIGhvb2sgbmVlZHMgdG8gcnVuIGFzeW5jaHJvbm91c2x5LCBpdCBtYXkgdXNlIHRoZSBjYWxsYmFja1xuICogZnVuY3Rpb24uIEhvd2V2ZXIsIGRvaW5nIHNvIHdpbGwgY2F1c2UgdGhlIHRyYW5zaXRpb24gdG8gcGF1c2UsXG4gKiB3aGljaCBjb3VsZCBsZWFkIHRvIGEgbm9uLXJlc3BvbnNpdmUgVUkgaWYgdGhlIGhvb2sgaXMgc2xvdy5cbiAqL1xuZnVuY3Rpb24gcnVuQ2hhbmdlSG9va3Mocm91dGVzLCBzdGF0ZSwgbmV4dFN0YXRlLCBjYWxsYmFjaykge1xuICB2YXIgaG9va3MgPSBnZXRDaGFuZ2VIb29rcyhyb3V0ZXMpO1xuICByZXR1cm4gcnVuVHJhbnNpdGlvbkhvb2tzKGhvb2tzLmxlbmd0aCwgZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlLCBuZXh0KSB7XG4gICAgaG9va3NbaW5kZXhdKHN0YXRlLCBuZXh0U3RhdGUsIHJlcGxhY2UsIG5leHQpO1xuICB9LCBjYWxsYmFjayk7XG59XG5cbi8qKlxuICogUnVucyBhbGwgb25MZWF2ZSBob29rcyBpbiB0aGUgZ2l2ZW4gYXJyYXkgb2Ygcm91dGVzIGluIG9yZGVyLlxuICovXG5mdW5jdGlvbiBydW5MZWF2ZUhvb2tzKHJvdXRlcywgcHJldlN0YXRlKSB7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSByb3V0ZXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAocm91dGVzW2ldLm9uTGVhdmUpIHJvdXRlc1tpXS5vbkxlYXZlLmNhbGwocm91dGVzW2ldLCBwcmV2U3RhdGUpO1xuICB9XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvVHJhbnNpdGlvblV0aWxzLmpzXG4vLyBtb2R1bGUgaWQgPSA4MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9Sb3V0ZXJDb250ZXh0ID0gcmVxdWlyZSgnLi9Sb3V0ZXJDb250ZXh0Jyk7XG5cbnZhciBfUm91dGVyQ29udGV4dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Sb3V0ZXJDb250ZXh0KTtcblxudmFyIF9yb3V0ZXJXYXJuaW5nID0gcmVxdWlyZSgnLi9yb3V0ZXJXYXJuaW5nJyk7XG5cbnZhciBfcm91dGVyV2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3V0ZXJXYXJuaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbWlkZGxld2FyZXMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBtaWRkbGV3YXJlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgbWlkZGxld2FyZXMuZm9yRWFjaChmdW5jdGlvbiAobWlkZGxld2FyZSwgaW5kZXgpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKG1pZGRsZXdhcmUucmVuZGVyUm91dGVyQ29udGV4dCB8fCBtaWRkbGV3YXJlLnJlbmRlclJvdXRlQ29tcG9uZW50LCAnVGhlIG1pZGRsZXdhcmUgc3BlY2lmaWVkIGF0IGluZGV4ICcgKyBpbmRleCArICcgZG9lcyBub3QgYXBwZWFyIHRvIGJlICcgKyAnYSB2YWxpZCBSZWFjdCBSb3V0ZXIgbWlkZGxld2FyZS4nKSA6IHZvaWQgMDtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciB3aXRoQ29udGV4dCA9IG1pZGRsZXdhcmVzLm1hcChmdW5jdGlvbiAobWlkZGxld2FyZSkge1xuICAgIHJldHVybiBtaWRkbGV3YXJlLnJlbmRlclJvdXRlckNvbnRleHQ7XG4gIH0pLmZpbHRlcihCb29sZWFuKTtcbiAgdmFyIHdpdGhDb21wb25lbnQgPSBtaWRkbGV3YXJlcy5tYXAoZnVuY3Rpb24gKG1pZGRsZXdhcmUpIHtcbiAgICByZXR1cm4gbWlkZGxld2FyZS5yZW5kZXJSb3V0ZUNvbXBvbmVudDtcbiAgfSkuZmlsdGVyKEJvb2xlYW4pO1xuXG4gIHZhciBtYWtlQ3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uIG1ha2VDcmVhdGVFbGVtZW50KCkge1xuICAgIHZhciBiYXNlQ3JlYXRlRWxlbWVudCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IF9yZWFjdC5jcmVhdGVFbGVtZW50IDogYXJndW1lbnRzWzBdO1xuICAgIHJldHVybiBmdW5jdGlvbiAoQ29tcG9uZW50LCBwcm9wcykge1xuICAgICAgcmV0dXJuIHdpdGhDb21wb25lbnQucmVkdWNlUmlnaHQoZnVuY3Rpb24gKHByZXZpb3VzLCByZW5kZXJSb3V0ZUNvbXBvbmVudCkge1xuICAgICAgICByZXR1cm4gcmVuZGVyUm91dGVDb21wb25lbnQocHJldmlvdXMsIHByb3BzKTtcbiAgICAgIH0sIGJhc2VDcmVhdGVFbGVtZW50KENvbXBvbmVudCwgcHJvcHMpKTtcbiAgICB9O1xuICB9O1xuXG4gIHJldHVybiBmdW5jdGlvbiAocmVuZGVyUHJvcHMpIHtcbiAgICByZXR1cm4gd2l0aENvbnRleHQucmVkdWNlUmlnaHQoZnVuY3Rpb24gKHByZXZpb3VzLCByZW5kZXJSb3V0ZXJDb250ZXh0KSB7XG4gICAgICByZXR1cm4gcmVuZGVyUm91dGVyQ29udGV4dChwcmV2aW91cywgcmVuZGVyUHJvcHMpO1xuICAgIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Sb3V0ZXJDb250ZXh0Mi5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgcmVuZGVyUHJvcHMsIHtcbiAgICAgIGNyZWF0ZUVsZW1lbnQ6IG1ha2VDcmVhdGVFbGVtZW50KHJlbmRlclByb3BzLmNyZWF0ZUVsZW1lbnQpXG4gICAgfSkpKTtcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yb3V0ZXIvbGliL2FwcGx5Um91dGVyTWlkZGxld2FyZS5qc1xuLy8gbW9kdWxlIGlkID0gODNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUJyb3dzZXJIaXN0b3J5ID0gcmVxdWlyZSgnaGlzdG9yeS9saWIvY3JlYXRlQnJvd3Nlckhpc3RvcnknKTtcblxudmFyIF9jcmVhdGVCcm93c2VySGlzdG9yeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVCcm93c2VySGlzdG9yeSk7XG5cbnZhciBfY3JlYXRlUm91dGVySGlzdG9yeSA9IHJlcXVpcmUoJy4vY3JlYXRlUm91dGVySGlzdG9yeScpO1xuXG52YXIgX2NyZWF0ZVJvdXRlckhpc3RvcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlUm91dGVySGlzdG9yeSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfY3JlYXRlUm91dGVySGlzdG9yeTIuZGVmYXVsdCkoX2NyZWF0ZUJyb3dzZXJIaXN0b3J5Mi5kZWZhdWx0KTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yb3V0ZXIvbGliL2Jyb3dzZXJIaXN0b3J5LmpzXG4vLyBtb2R1bGUgaWQgPSA4NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfUGF0dGVyblV0aWxzID0gcmVxdWlyZSgnLi9QYXR0ZXJuVXRpbHMnKTtcblxuZnVuY3Rpb24gcm91dGVQYXJhbXNDaGFuZ2VkKHJvdXRlLCBwcmV2U3RhdGUsIG5leHRTdGF0ZSkge1xuICBpZiAoIXJvdXRlLnBhdGgpIHJldHVybiBmYWxzZTtcblxuICB2YXIgcGFyYW1OYW1lcyA9ICgwLCBfUGF0dGVyblV0aWxzLmdldFBhcmFtTmFtZXMpKHJvdXRlLnBhdGgpO1xuXG4gIHJldHVybiBwYXJhbU5hbWVzLnNvbWUoZnVuY3Rpb24gKHBhcmFtTmFtZSkge1xuICAgIHJldHVybiBwcmV2U3RhdGUucGFyYW1zW3BhcmFtTmFtZV0gIT09IG5leHRTdGF0ZS5wYXJhbXNbcGFyYW1OYW1lXTtcbiAgfSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBvYmplY3Qgb2YgeyBsZWF2ZVJvdXRlcywgY2hhbmdlUm91dGVzLCBlbnRlclJvdXRlcyB9IGRldGVybWluZWQgYnlcbiAqIHRoZSBjaGFuZ2UgZnJvbSBwcmV2U3RhdGUgdG8gbmV4dFN0YXRlLiBXZSBsZWF2ZSByb3V0ZXMgaWYgZWl0aGVyXG4gKiAxKSB0aGV5IGFyZSBub3QgaW4gdGhlIG5leHQgc3RhdGUgb3IgMikgdGhleSBhcmUgaW4gdGhlIG5leHQgc3RhdGVcbiAqIGJ1dCB0aGVpciBwYXJhbXMgaGF2ZSBjaGFuZ2VkIChpLmUuIC91c2Vycy8xMjMgPT4gL3VzZXJzLzQ1NikuXG4gKlxuICogbGVhdmVSb3V0ZXMgYXJlIG9yZGVyZWQgc3RhcnRpbmcgYXQgdGhlIGxlYWYgcm91dGUgb2YgdGhlIHRyZWVcbiAqIHdlJ3JlIGxlYXZpbmcgdXAgdG8gdGhlIGNvbW1vbiBwYXJlbnQgcm91dGUuIGVudGVyUm91dGVzIGFyZSBvcmRlcmVkXG4gKiBmcm9tIHRoZSB0b3Agb2YgdGhlIHRyZWUgd2UncmUgZW50ZXJpbmcgZG93biB0byB0aGUgbGVhZiByb3V0ZS5cbiAqXG4gKiBjaGFuZ2VSb3V0ZXMgYXJlIGFueSByb3V0ZXMgdGhhdCBkaWRuJ3QgbGVhdmUgb3IgZW50ZXIgZHVyaW5nXG4gKiB0aGUgdHJhbnNpdGlvbi5cbiAqL1xuZnVuY3Rpb24gY29tcHV0ZUNoYW5nZWRSb3V0ZXMocHJldlN0YXRlLCBuZXh0U3RhdGUpIHtcbiAgdmFyIHByZXZSb3V0ZXMgPSBwcmV2U3RhdGUgJiYgcHJldlN0YXRlLnJvdXRlcztcbiAgdmFyIG5leHRSb3V0ZXMgPSBuZXh0U3RhdGUucm91dGVzO1xuXG4gIHZhciBsZWF2ZVJvdXRlcyA9IHZvaWQgMCxcbiAgICAgIGNoYW5nZVJvdXRlcyA9IHZvaWQgMCxcbiAgICAgIGVudGVyUm91dGVzID0gdm9pZCAwO1xuICBpZiAocHJldlJvdXRlcykge1xuICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcGFyZW50SXNMZWF2aW5nID0gZmFsc2U7XG4gICAgICBsZWF2ZVJvdXRlcyA9IHByZXZSb3V0ZXMuZmlsdGVyKGZ1bmN0aW9uIChyb3V0ZSkge1xuICAgICAgICBpZiAocGFyZW50SXNMZWF2aW5nKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGlzTGVhdmluZyA9IG5leHRSb3V0ZXMuaW5kZXhPZihyb3V0ZSkgPT09IC0xIHx8IHJvdXRlUGFyYW1zQ2hhbmdlZChyb3V0ZSwgcHJldlN0YXRlLCBuZXh0U3RhdGUpO1xuICAgICAgICAgIGlmIChpc0xlYXZpbmcpIHBhcmVudElzTGVhdmluZyA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIGlzTGVhdmluZztcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIG9uTGVhdmUgaG9va3Mgc3RhcnQgYXQgdGhlIGxlYWYgcm91dGUuXG4gICAgICBsZWF2ZVJvdXRlcy5yZXZlcnNlKCk7XG5cbiAgICAgIGVudGVyUm91dGVzID0gW107XG4gICAgICBjaGFuZ2VSb3V0ZXMgPSBbXTtcblxuICAgICAgbmV4dFJvdXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChyb3V0ZSkge1xuICAgICAgICB2YXIgaXNOZXcgPSBwcmV2Um91dGVzLmluZGV4T2Yocm91dGUpID09PSAtMTtcbiAgICAgICAgdmFyIHBhcmFtc0NoYW5nZWQgPSBsZWF2ZVJvdXRlcy5pbmRleE9mKHJvdXRlKSAhPT0gLTE7XG5cbiAgICAgICAgaWYgKGlzTmV3IHx8IHBhcmFtc0NoYW5nZWQpIGVudGVyUm91dGVzLnB1c2gocm91dGUpO2Vsc2UgY2hhbmdlUm91dGVzLnB1c2gocm91dGUpO1xuICAgICAgfSk7XG4gICAgfSkoKTtcbiAgfSBlbHNlIHtcbiAgICBsZWF2ZVJvdXRlcyA9IFtdO1xuICAgIGNoYW5nZVJvdXRlcyA9IFtdO1xuICAgIGVudGVyUm91dGVzID0gbmV4dFJvdXRlcztcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbGVhdmVSb3V0ZXM6IGxlYXZlUm91dGVzLFxuICAgIGNoYW5nZVJvdXRlczogY2hhbmdlUm91dGVzLFxuICAgIGVudGVyUm91dGVzOiBlbnRlclJvdXRlc1xuICB9O1xufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBjb21wdXRlQ2hhbmdlZFJvdXRlcztcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yb3V0ZXIvbGliL2NvbXB1dGVDaGFuZ2VkUm91dGVzLmpzXG4vLyBtb2R1bGUgaWQgPSA4NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfQXN5bmNVdGlscyA9IHJlcXVpcmUoJy4vQXN5bmNVdGlscycpO1xuXG52YXIgX21ha2VTdGF0ZVdpdGhMb2NhdGlvbiA9IHJlcXVpcmUoJy4vbWFrZVN0YXRlV2l0aExvY2F0aW9uJyk7XG5cbnZhciBfbWFrZVN0YXRlV2l0aExvY2F0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21ha2VTdGF0ZVdpdGhMb2NhdGlvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldENvbXBvbmVudHNGb3JSb3V0ZShuZXh0U3RhdGUsIHJvdXRlLCBjYWxsYmFjaykge1xuICBpZiAocm91dGUuY29tcG9uZW50IHx8IHJvdXRlLmNvbXBvbmVudHMpIHtcbiAgICBjYWxsYmFjayhudWxsLCByb3V0ZS5jb21wb25lbnQgfHwgcm91dGUuY29tcG9uZW50cyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGdldENvbXBvbmVudCA9IHJvdXRlLmdldENvbXBvbmVudCB8fCByb3V0ZS5nZXRDb21wb25lbnRzO1xuICBpZiAoIWdldENvbXBvbmVudCkge1xuICAgIGNhbGxiYWNrKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGxvY2F0aW9uID0gbmV4dFN0YXRlLmxvY2F0aW9uO1xuXG4gIHZhciBuZXh0U3RhdGVXaXRoTG9jYXRpb24gPSAoMCwgX21ha2VTdGF0ZVdpdGhMb2NhdGlvbjIuZGVmYXVsdCkobmV4dFN0YXRlLCBsb2NhdGlvbik7XG5cbiAgZ2V0Q29tcG9uZW50LmNhbGwocm91dGUsIG5leHRTdGF0ZVdpdGhMb2NhdGlvbiwgY2FsbGJhY2spO1xufVxuXG4vKipcbiAqIEFzeW5jaHJvbm91c2x5IGZldGNoZXMgYWxsIGNvbXBvbmVudHMgbmVlZGVkIGZvciB0aGUgZ2l2ZW4gcm91dGVyXG4gKiBzdGF0ZSBhbmQgY2FsbHMgY2FsbGJhY2soZXJyb3IsIGNvbXBvbmVudHMpIHdoZW4gZmluaXNoZWQuXG4gKlxuICogTm90ZTogVGhpcyBvcGVyYXRpb24gbWF5IGZpbmlzaCBzeW5jaHJvbm91c2x5IGlmIG5vIHJvdXRlcyBoYXZlIGFuXG4gKiBhc3luY2hyb25vdXMgZ2V0Q29tcG9uZW50cyBtZXRob2QuXG4gKi9cbmZ1bmN0aW9uIGdldENvbXBvbmVudHMobmV4dFN0YXRlLCBjYWxsYmFjaykge1xuICAoMCwgX0FzeW5jVXRpbHMubWFwQXN5bmMpKG5leHRTdGF0ZS5yb3V0ZXMsIGZ1bmN0aW9uIChyb3V0ZSwgaW5kZXgsIGNhbGxiYWNrKSB7XG4gICAgZ2V0Q29tcG9uZW50c0ZvclJvdXRlKG5leHRTdGF0ZSwgcm91dGUsIGNhbGxiYWNrKTtcbiAgfSwgY2FsbGJhY2spO1xufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBnZXRDb21wb25lbnRzO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvZ2V0Q29tcG9uZW50cy5qc1xuLy8gbW9kdWxlIGlkID0gODZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1BhdHRlcm5VdGlscyA9IHJlcXVpcmUoJy4vUGF0dGVyblV0aWxzJyk7XG5cbi8qKlxuICogRXh0cmFjdHMgYW4gb2JqZWN0IG9mIHBhcmFtcyB0aGUgZ2l2ZW4gcm91dGUgY2FyZXMgYWJvdXQgZnJvbVxuICogdGhlIGdpdmVuIHBhcmFtcyBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGdldFJvdXRlUGFyYW1zKHJvdXRlLCBwYXJhbXMpIHtcbiAgdmFyIHJvdXRlUGFyYW1zID0ge307XG5cbiAgaWYgKCFyb3V0ZS5wYXRoKSByZXR1cm4gcm91dGVQYXJhbXM7XG5cbiAgKDAsIF9QYXR0ZXJuVXRpbHMuZ2V0UGFyYW1OYW1lcykocm91dGUucGF0aCkuZm9yRWFjaChmdW5jdGlvbiAocCkge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyYW1zLCBwKSkge1xuICAgICAgcm91dGVQYXJhbXNbcF0gPSBwYXJhbXNbcF07XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcm91dGVQYXJhbXM7XG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGdldFJvdXRlUGFyYW1zO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvZ2V0Um91dGVQYXJhbXMuanNcbi8vIG1vZHVsZSBpZCA9IDg3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVIYXNoSGlzdG9yeSA9IHJlcXVpcmUoJ2hpc3RvcnkvbGliL2NyZWF0ZUhhc2hIaXN0b3J5Jyk7XG5cbnZhciBfY3JlYXRlSGFzaEhpc3RvcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlSGFzaEhpc3RvcnkpO1xuXG52YXIgX2NyZWF0ZVJvdXRlckhpc3RvcnkgPSByZXF1aXJlKCcuL2NyZWF0ZVJvdXRlckhpc3RvcnknKTtcblxudmFyIF9jcmVhdGVSb3V0ZXJIaXN0b3J5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVJvdXRlckhpc3RvcnkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX2NyZWF0ZVJvdXRlckhpc3RvcnkyLmRlZmF1bHQpKF9jcmVhdGVIYXNoSGlzdG9yeTIuZGVmYXVsdCk7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtcm91dGVyL2xpYi9oYXNoSGlzdG9yeS5qc1xuLy8gbW9kdWxlIGlkID0gODhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gaXNBY3RpdmU7XG5cbnZhciBfUGF0dGVyblV0aWxzID0gcmVxdWlyZSgnLi9QYXR0ZXJuVXRpbHMnKTtcblxuZnVuY3Rpb24gZGVlcEVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT0gYikgcmV0dXJuIHRydWU7XG5cbiAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGIpICYmIGEubGVuZ3RoID09PSBiLmxlbmd0aCAmJiBhLmV2ZXJ5KGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgICAgcmV0dXJuIGRlZXBFcXVhbChpdGVtLCBiW2luZGV4XSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoKHR5cGVvZiBhID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihhKSkgPT09ICdvYmplY3QnKSB7XG4gICAgZm9yICh2YXIgcCBpbiBhKSB7XG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLCBwKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFbcF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoYltwXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIGlmICghZGVlcEVxdWFsKGFbcF0sIGJbcF0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBTdHJpbmcoYSkgPT09IFN0cmluZyhiKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGN1cnJlbnQgcGF0aG5hbWUgbWF0Y2hlcyB0aGUgc3VwcGxpZWQgb25lLCBuZXQgb2ZcbiAqIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHNsYXNoIG5vcm1hbGl6YXRpb24uIFRoaXMgaXMgc3VmZmljaWVudCBmb3IgYW5cbiAqIGluZGV4T25seSByb3V0ZSBtYXRjaC5cbiAqL1xuZnVuY3Rpb24gcGF0aElzQWN0aXZlKHBhdGhuYW1lLCBjdXJyZW50UGF0aG5hbWUpIHtcbiAgLy8gTm9ybWFsaXplIGxlYWRpbmcgc2xhc2ggZm9yIGNvbnNpc3RlbmN5LiBMZWFkaW5nIHNsYXNoIG9uIHBhdGhuYW1lIGhhc1xuICAvLyBhbHJlYWR5IGJlZW4gbm9ybWFsaXplZCBpbiBpc0FjdGl2ZS4gU2VlIGNhdmVhdCB0aGVyZS5cbiAgaWYgKGN1cnJlbnRQYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykge1xuICAgIGN1cnJlbnRQYXRobmFtZSA9ICcvJyArIGN1cnJlbnRQYXRobmFtZTtcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSB0aGUgZW5kIG9mIGJvdGggcGF0aCBuYW1lcyB0b28uIE1heWJlIGAvZm9vL2Agc2hvdWxkbid0IHNob3dcbiAgLy8gYC9mb29gIGFzIGFjdGl2ZSwgYnV0IGluIHRoaXMgY2FzZSwgd2Ugd291bGQgYWxyZWFkeSBoYXZlIGZhaWxlZCB0aGVcbiAgLy8gbWF0Y2guXG4gIGlmIChwYXRobmFtZS5jaGFyQXQocGF0aG5hbWUubGVuZ3RoIC0gMSkgIT09ICcvJykge1xuICAgIHBhdGhuYW1lICs9ICcvJztcbiAgfVxuICBpZiAoY3VycmVudFBhdGhuYW1lLmNoYXJBdChjdXJyZW50UGF0aG5hbWUubGVuZ3RoIC0gMSkgIT09ICcvJykge1xuICAgIGN1cnJlbnRQYXRobmFtZSArPSAnLyc7XG4gIH1cblxuICByZXR1cm4gY3VycmVudFBhdGhuYW1lID09PSBwYXRobmFtZTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHBhdGhuYW1lIG1hdGNoZXMgdGhlIGFjdGl2ZSByb3V0ZXMgYW5kIHBhcmFtcy5cbiAqL1xuZnVuY3Rpb24gcm91dGVJc0FjdGl2ZShwYXRobmFtZSwgcm91dGVzLCBwYXJhbXMpIHtcbiAgdmFyIHJlbWFpbmluZ1BhdGhuYW1lID0gcGF0aG5hbWUsXG4gICAgICBwYXJhbU5hbWVzID0gW10sXG4gICAgICBwYXJhbVZhbHVlcyA9IFtdO1xuXG4gIC8vIGZvci4uLm9mIHdvdWxkIHdvcmsgaGVyZSBidXQgaXQncyBwcm9iYWJseSBzbG93ZXIgcG9zdC10cmFuc3BpbGF0aW9uLlxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gcm91dGVzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgdmFyIHJvdXRlID0gcm91dGVzW2ldO1xuICAgIHZhciBwYXR0ZXJuID0gcm91dGUucGF0aCB8fCAnJztcblxuICAgIGlmIChwYXR0ZXJuLmNoYXJBdCgwKSA9PT0gJy8nKSB7XG4gICAgICByZW1haW5pbmdQYXRobmFtZSA9IHBhdGhuYW1lO1xuICAgICAgcGFyYW1OYW1lcyA9IFtdO1xuICAgICAgcGFyYW1WYWx1ZXMgPSBbXTtcbiAgICB9XG5cbiAgICBpZiAocmVtYWluaW5nUGF0aG5hbWUgIT09IG51bGwgJiYgcGF0dGVybikge1xuICAgICAgdmFyIG1hdGNoZWQgPSAoMCwgX1BhdHRlcm5VdGlscy5tYXRjaFBhdHRlcm4pKHBhdHRlcm4sIHJlbWFpbmluZ1BhdGhuYW1lKTtcbiAgICAgIGlmIChtYXRjaGVkKSB7XG4gICAgICAgIHJlbWFpbmluZ1BhdGhuYW1lID0gbWF0Y2hlZC5yZW1haW5pbmdQYXRobmFtZTtcbiAgICAgICAgcGFyYW1OYW1lcyA9IFtdLmNvbmNhdChwYXJhbU5hbWVzLCBtYXRjaGVkLnBhcmFtTmFtZXMpO1xuICAgICAgICBwYXJhbVZhbHVlcyA9IFtdLmNvbmNhdChwYXJhbVZhbHVlcywgbWF0Y2hlZC5wYXJhbVZhbHVlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW1haW5pbmdQYXRobmFtZSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZW1haW5pbmdQYXRobmFtZSA9PT0gJycpIHtcbiAgICAgICAgLy8gV2UgaGF2ZSBhbiBleGFjdCBtYXRjaCBvbiB0aGUgcm91dGUuIEp1c3QgY2hlY2sgdGhhdCBhbGwgdGhlIHBhcmFtc1xuICAgICAgICAvLyBtYXRjaC5cbiAgICAgICAgLy8gRklYTUU6IFRoaXMgZG9lc24ndCB3b3JrIG9uIHJlcGVhdGVkIHBhcmFtcy5cbiAgICAgICAgcmV0dXJuIHBhcmFtTmFtZXMuZXZlcnkoZnVuY3Rpb24gKHBhcmFtTmFtZSwgaW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gU3RyaW5nKHBhcmFtVmFsdWVzW2luZGV4XSkgPT09IFN0cmluZyhwYXJhbXNbcGFyYW1OYW1lXSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYWxsIGtleS92YWx1ZSBwYWlycyBpbiB0aGUgZ2l2ZW4gcXVlcnkgYXJlXG4gKiBjdXJyZW50bHkgYWN0aXZlLlxuICovXG5mdW5jdGlvbiBxdWVyeUlzQWN0aXZlKHF1ZXJ5LCBhY3RpdmVRdWVyeSkge1xuICBpZiAoYWN0aXZlUXVlcnkgPT0gbnVsbCkgcmV0dXJuIHF1ZXJ5ID09IG51bGw7XG5cbiAgaWYgKHF1ZXJ5ID09IG51bGwpIHJldHVybiB0cnVlO1xuXG4gIHJldHVybiBkZWVwRXF1YWwocXVlcnksIGFjdGl2ZVF1ZXJ5KTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYSA8TGluaz4gdG8gdGhlIGdpdmVuIHBhdGhuYW1lL3F1ZXJ5IGNvbWJpbmF0aW9uIGlzXG4gKiBjdXJyZW50bHkgYWN0aXZlLlxuICovXG5mdW5jdGlvbiBpc0FjdGl2ZShfcmVmLCBpbmRleE9ubHksIGN1cnJlbnRMb2NhdGlvbiwgcm91dGVzLCBwYXJhbXMpIHtcbiAgdmFyIHBhdGhuYW1lID0gX3JlZi5wYXRobmFtZTtcbiAgdmFyIHF1ZXJ5ID0gX3JlZi5xdWVyeTtcblxuICBpZiAoY3VycmVudExvY2F0aW9uID09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICAvLyBUT0RPOiBUaGlzIGlzIGEgYml0IHVnbHkuIEl0IGtlZXBzIGFyb3VuZCBzdXBwb3J0IGZvciB0cmVhdGluZyBwYXRobmFtZXNcbiAgLy8gd2l0aG91dCBwcmVjZWRpbmcgc2xhc2hlcyBhcyBhYnNvbHV0ZSBwYXRocywgYnV0IHBvc3NpYmx5IGFsc28gd29ya3NcbiAgLy8gYXJvdW5kIHRoZSBzYW1lIHF1aXJrcyB3aXRoIGJhc2VuYW1lcyBhcyBpbiBtYXRjaFJvdXRlcy5cbiAgaWYgKHBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgcGF0aG5hbWUgPSAnLycgKyBwYXRobmFtZTtcbiAgfVxuXG4gIGlmICghcGF0aElzQWN0aXZlKHBhdGhuYW1lLCBjdXJyZW50TG9jYXRpb24ucGF0aG5hbWUpKSB7XG4gICAgLy8gVGhlIHBhdGggY2hlY2sgaXMgbmVjZXNzYXJ5IGFuZCBzdWZmaWNpZW50IGZvciBpbmRleE9ubHksIGJ1dCBvdGhlcndpc2VcbiAgICAvLyB3ZSBzdGlsbCBuZWVkIHRvIGNoZWNrIHRoZSByb3V0ZXMuXG4gICAgaWYgKGluZGV4T25seSB8fCAhcm91dGVJc0FjdGl2ZShwYXRobmFtZSwgcm91dGVzLCBwYXJhbXMpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHF1ZXJ5SXNBY3RpdmUocXVlcnksIGN1cnJlbnRMb2NhdGlvbi5xdWVyeSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtcm91dGVyL2xpYi9pc0FjdGl2ZS5qc1xuLy8gbW9kdWxlIGlkID0gODlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX0FjdGlvbnMgPSByZXF1aXJlKCdoaXN0b3J5L2xpYi9BY3Rpb25zJyk7XG5cbnZhciBfaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5cbnZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cbnZhciBfY3JlYXRlTWVtb3J5SGlzdG9yeSA9IHJlcXVpcmUoJy4vY3JlYXRlTWVtb3J5SGlzdG9yeScpO1xuXG52YXIgX2NyZWF0ZU1lbW9yeUhpc3RvcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlTWVtb3J5SGlzdG9yeSk7XG5cbnZhciBfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIgPSByZXF1aXJlKCcuL2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyJyk7XG5cbnZhciBfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIpO1xuXG52YXIgX1JvdXRlVXRpbHMgPSByZXF1aXJlKCcuL1JvdXRlVXRpbHMnKTtcblxudmFyIF9Sb3V0ZXJVdGlscyA9IHJlcXVpcmUoJy4vUm91dGVyVXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykgeyB2YXIgdGFyZ2V0ID0ge307IGZvciAodmFyIGkgaW4gb2JqKSB7IGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlOyB0YXJnZXRbaV0gPSBvYmpbaV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG4vKipcbiAqIEEgaGlnaC1sZXZlbCBBUEkgdG8gYmUgdXNlZCBmb3Igc2VydmVyLXNpZGUgcmVuZGVyaW5nLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gbWF0Y2hlcyBhIGxvY2F0aW9uIHRvIGEgc2V0IG9mIHJvdXRlcyBhbmQgY2FsbHNcbiAqIGNhbGxiYWNrKGVycm9yLCByZWRpcmVjdExvY2F0aW9uLCByZW5kZXJQcm9wcykgd2hlbiBmaW5pc2hlZC5cbiAqXG4gKiBOb3RlOiBZb3UgcHJvYmFibHkgZG9uJ3Qgd2FudCB0byB1c2UgdGhpcyBpbiBhIGJyb3dzZXIgdW5sZXNzIHlvdSdyZSB1c2luZ1xuICogc2VydmVyLXNpZGUgcmVuZGVyaW5nIHdpdGggYXN5bmMgcm91dGVzLlxuICovXG5mdW5jdGlvbiBtYXRjaChfcmVmLCBjYWxsYmFjaykge1xuICB2YXIgaGlzdG9yeSA9IF9yZWYuaGlzdG9yeTtcbiAgdmFyIHJvdXRlcyA9IF9yZWYucm91dGVzO1xuICB2YXIgbG9jYXRpb24gPSBfcmVmLmxvY2F0aW9uO1xuXG4gIHZhciBvcHRpb25zID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFsnaGlzdG9yeScsICdyb3V0ZXMnLCAnbG9jYXRpb24nXSk7XG5cbiAgIShoaXN0b3J5IHx8IGxvY2F0aW9uKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UsICdtYXRjaCBuZWVkcyBhIGhpc3Rvcnkgb3IgYSBsb2NhdGlvbicpIDogKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlKSA6IHZvaWQgMDtcblxuICBoaXN0b3J5ID0gaGlzdG9yeSA/IGhpc3RvcnkgOiAoMCwgX2NyZWF0ZU1lbW9yeUhpc3RvcnkyLmRlZmF1bHQpKG9wdGlvbnMpO1xuICB2YXIgdHJhbnNpdGlvbk1hbmFnZXIgPSAoMCwgX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyMi5kZWZhdWx0KShoaXN0b3J5LCAoMCwgX1JvdXRlVXRpbHMuY3JlYXRlUm91dGVzKShyb3V0ZXMpKTtcblxuICB2YXIgdW5saXN0ZW4gPSB2b2lkIDA7XG5cbiAgaWYgKGxvY2F0aW9uKSB7XG4gICAgLy8gQWxsb3cgbWF0Y2goeyBsb2NhdGlvbjogJy90aGUvcGF0aCcsIC4uLiB9KVxuICAgIGxvY2F0aW9uID0gaGlzdG9yeS5jcmVhdGVMb2NhdGlvbihsb2NhdGlvbik7XG4gIH0gZWxzZSB7XG4gICAgLy8gUGljayB1cCB0aGUgbG9jYXRpb24gZnJvbSB0aGUgaGlzdG9yeSB2aWEgc3luY2hyb25vdXMgaGlzdG9yeS5saXN0ZW5cbiAgICAvLyBjYWxsIGlmIG5lZWRlZC5cbiAgICB1bmxpc3RlbiA9IGhpc3RvcnkubGlzdGVuKGZ1bmN0aW9uIChoaXN0b3J5TG9jYXRpb24pIHtcbiAgICAgIGxvY2F0aW9uID0gaGlzdG9yeUxvY2F0aW9uO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIHJvdXRlciA9ICgwLCBfUm91dGVyVXRpbHMuY3JlYXRlUm91dGVyT2JqZWN0KShoaXN0b3J5LCB0cmFuc2l0aW9uTWFuYWdlcik7XG4gIGhpc3RvcnkgPSAoMCwgX1JvdXRlclV0aWxzLmNyZWF0ZVJvdXRpbmdIaXN0b3J5KShoaXN0b3J5LCB0cmFuc2l0aW9uTWFuYWdlcik7XG5cbiAgdHJhbnNpdGlvbk1hbmFnZXIubWF0Y2gobG9jYXRpb24sIGZ1bmN0aW9uIChlcnJvciwgcmVkaXJlY3RMb2NhdGlvbiwgbmV4dFN0YXRlKSB7XG4gICAgY2FsbGJhY2soZXJyb3IsIHJlZGlyZWN0TG9jYXRpb24gJiYgcm91dGVyLmNyZWF0ZUxvY2F0aW9uKHJlZGlyZWN0TG9jYXRpb24sIF9BY3Rpb25zLlJFUExBQ0UpLCBuZXh0U3RhdGUgJiYgX2V4dGVuZHMoe30sIG5leHRTdGF0ZSwge1xuICAgICAgaGlzdG9yeTogaGlzdG9yeSxcbiAgICAgIHJvdXRlcjogcm91dGVyLFxuICAgICAgbWF0Y2hDb250ZXh0OiB7IGhpc3Rvcnk6IGhpc3RvcnksIHRyYW5zaXRpb25NYW5hZ2VyOiB0cmFuc2l0aW9uTWFuYWdlciwgcm91dGVyOiByb3V0ZXIgfVxuICAgIH0pKTtcblxuICAgIC8vIERlZmVyIHJlbW92aW5nIHRoZSBsaXN0ZW5lciB0byBoZXJlIHRvIHByZXZlbnQgRE9NIGhpc3RvcmllcyBmcm9tIGhhdmluZ1xuICAgIC8vIHRvIHVud2luZCBET00gZXZlbnQgbGlzdGVuZXJzIHVubmVjZXNzYXJpbHksIGluIGNhc2UgY2FsbGJhY2sgcmVuZGVycyBhXG4gICAgLy8gPFJvdXRlcj4gYW5kIGF0dGFjaGVzIGFub3RoZXIgaGlzdG9yeSBsaXN0ZW5lci5cbiAgICBpZiAodW5saXN0ZW4pIHtcbiAgICAgIHVubGlzdGVuKCk7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gbWF0Y2g7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtcm91dGVyL2xpYi9tYXRjaC5qc1xuLy8gbW9kdWxlIGlkID0gOTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gbWF0Y2hSb3V0ZXM7XG5cbnZhciBfQXN5bmNVdGlscyA9IHJlcXVpcmUoJy4vQXN5bmNVdGlscycpO1xuXG52YXIgX21ha2VTdGF0ZVdpdGhMb2NhdGlvbiA9IHJlcXVpcmUoJy4vbWFrZVN0YXRlV2l0aExvY2F0aW9uJyk7XG5cbnZhciBfbWFrZVN0YXRlV2l0aExvY2F0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21ha2VTdGF0ZVdpdGhMb2NhdGlvbik7XG5cbnZhciBfUGF0dGVyblV0aWxzID0gcmVxdWlyZSgnLi9QYXR0ZXJuVXRpbHMnKTtcblxudmFyIF9yb3V0ZXJXYXJuaW5nID0gcmVxdWlyZSgnLi9yb3V0ZXJXYXJuaW5nJyk7XG5cbnZhciBfcm91dGVyV2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3V0ZXJXYXJuaW5nKTtcblxudmFyIF9Sb3V0ZVV0aWxzID0gcmVxdWlyZSgnLi9Sb3V0ZVV0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldENoaWxkUm91dGVzKHJvdXRlLCBsb2NhdGlvbiwgcGFyYW1OYW1lcywgcGFyYW1WYWx1ZXMsIGNhbGxiYWNrKSB7XG4gIGlmIChyb3V0ZS5jaGlsZFJvdXRlcykge1xuICAgIHJldHVybiBbbnVsbCwgcm91dGUuY2hpbGRSb3V0ZXNdO1xuICB9XG4gIGlmICghcm91dGUuZ2V0Q2hpbGRSb3V0ZXMpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICB2YXIgc3luYyA9IHRydWUsXG4gICAgICByZXN1bHQgPSB2b2lkIDA7XG5cbiAgdmFyIHBhcnRpYWxOZXh0U3RhdGUgPSB7XG4gICAgbG9jYXRpb246IGxvY2F0aW9uLFxuICAgIHBhcmFtczogY3JlYXRlUGFyYW1zKHBhcmFtTmFtZXMsIHBhcmFtVmFsdWVzKVxuICB9O1xuXG4gIHZhciBwYXJ0aWFsTmV4dFN0YXRlV2l0aExvY2F0aW9uID0gKDAsIF9tYWtlU3RhdGVXaXRoTG9jYXRpb24yLmRlZmF1bHQpKHBhcnRpYWxOZXh0U3RhdGUsIGxvY2F0aW9uKTtcblxuICByb3V0ZS5nZXRDaGlsZFJvdXRlcyhwYXJ0aWFsTmV4dFN0YXRlV2l0aExvY2F0aW9uLCBmdW5jdGlvbiAoZXJyb3IsIGNoaWxkUm91dGVzKSB7XG4gICAgY2hpbGRSb3V0ZXMgPSAhZXJyb3IgJiYgKDAsIF9Sb3V0ZVV0aWxzLmNyZWF0ZVJvdXRlcykoY2hpbGRSb3V0ZXMpO1xuICAgIGlmIChzeW5jKSB7XG4gICAgICByZXN1bHQgPSBbZXJyb3IsIGNoaWxkUm91dGVzXTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjYWxsYmFjayhlcnJvciwgY2hpbGRSb3V0ZXMpO1xuICB9KTtcblxuICBzeW5jID0gZmFsc2U7XG4gIHJldHVybiByZXN1bHQ7IC8vIE1pZ2h0IGJlIHVuZGVmaW5lZC5cbn1cblxuZnVuY3Rpb24gZ2V0SW5kZXhSb3V0ZShyb3V0ZSwgbG9jYXRpb24sIHBhcmFtTmFtZXMsIHBhcmFtVmFsdWVzLCBjYWxsYmFjaykge1xuICBpZiAocm91dGUuaW5kZXhSb3V0ZSkge1xuICAgIGNhbGxiYWNrKG51bGwsIHJvdXRlLmluZGV4Um91dGUpO1xuICB9IGVsc2UgaWYgKHJvdXRlLmdldEluZGV4Um91dGUpIHtcbiAgICB2YXIgcGFydGlhbE5leHRTdGF0ZSA9IHtcbiAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgIHBhcmFtczogY3JlYXRlUGFyYW1zKHBhcmFtTmFtZXMsIHBhcmFtVmFsdWVzKVxuICAgIH07XG5cbiAgICB2YXIgcGFydGlhbE5leHRTdGF0ZVdpdGhMb2NhdGlvbiA9ICgwLCBfbWFrZVN0YXRlV2l0aExvY2F0aW9uMi5kZWZhdWx0KShwYXJ0aWFsTmV4dFN0YXRlLCBsb2NhdGlvbik7XG5cbiAgICByb3V0ZS5nZXRJbmRleFJvdXRlKHBhcnRpYWxOZXh0U3RhdGVXaXRoTG9jYXRpb24sIGZ1bmN0aW9uIChlcnJvciwgaW5kZXhSb3V0ZSkge1xuICAgICAgY2FsbGJhY2soZXJyb3IsICFlcnJvciAmJiAoMCwgX1JvdXRlVXRpbHMuY3JlYXRlUm91dGVzKShpbmRleFJvdXRlKVswXSk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAocm91dGUuY2hpbGRSb3V0ZXMpIHtcbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBhdGhsZXNzID0gcm91dGUuY2hpbGRSb3V0ZXMuZmlsdGVyKGZ1bmN0aW9uIChjaGlsZFJvdXRlKSB7XG4gICAgICAgIHJldHVybiAhY2hpbGRSb3V0ZS5wYXRoO1xuICAgICAgfSk7XG5cbiAgICAgICgwLCBfQXN5bmNVdGlscy5sb29wQXN5bmMpKHBhdGhsZXNzLmxlbmd0aCwgZnVuY3Rpb24gKGluZGV4LCBuZXh0LCBkb25lKSB7XG4gICAgICAgIGdldEluZGV4Um91dGUocGF0aGxlc3NbaW5kZXhdLCBsb2NhdGlvbiwgcGFyYW1OYW1lcywgcGFyYW1WYWx1ZXMsIGZ1bmN0aW9uIChlcnJvciwgaW5kZXhSb3V0ZSkge1xuICAgICAgICAgIGlmIChlcnJvciB8fCBpbmRleFJvdXRlKSB7XG4gICAgICAgICAgICB2YXIgcm91dGVzID0gW3BhdGhsZXNzW2luZGV4XV0uY29uY2F0KEFycmF5LmlzQXJyYXkoaW5kZXhSb3V0ZSkgPyBpbmRleFJvdXRlIDogW2luZGV4Um91dGVdKTtcbiAgICAgICAgICAgIGRvbmUoZXJyb3IsIHJvdXRlcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSwgZnVuY3Rpb24gKGVyciwgcm91dGVzKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJvdXRlcyk7XG4gICAgICB9KTtcbiAgICB9KSgpO1xuICB9IGVsc2Uge1xuICAgIGNhbGxiYWNrKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzaWduUGFyYW1zKHBhcmFtcywgcGFyYW1OYW1lcywgcGFyYW1WYWx1ZXMpIHtcbiAgcmV0dXJuIHBhcmFtTmFtZXMucmVkdWNlKGZ1bmN0aW9uIChwYXJhbXMsIHBhcmFtTmFtZSwgaW5kZXgpIHtcbiAgICB2YXIgcGFyYW1WYWx1ZSA9IHBhcmFtVmFsdWVzICYmIHBhcmFtVmFsdWVzW2luZGV4XTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KHBhcmFtc1twYXJhbU5hbWVdKSkge1xuICAgICAgcGFyYW1zW3BhcmFtTmFtZV0ucHVzaChwYXJhbVZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKHBhcmFtTmFtZSBpbiBwYXJhbXMpIHtcbiAgICAgIHBhcmFtc1twYXJhbU5hbWVdID0gW3BhcmFtc1twYXJhbU5hbWVdLCBwYXJhbVZhbHVlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyYW1zW3BhcmFtTmFtZV0gPSBwYXJhbVZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJhbXM7XG4gIH0sIHBhcmFtcyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBhcmFtcyhwYXJhbU5hbWVzLCBwYXJhbVZhbHVlcykge1xuICByZXR1cm4gYXNzaWduUGFyYW1zKHt9LCBwYXJhbU5hbWVzLCBwYXJhbVZhbHVlcyk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoUm91dGVEZWVwKHJvdXRlLCBsb2NhdGlvbiwgcmVtYWluaW5nUGF0aG5hbWUsIHBhcmFtTmFtZXMsIHBhcmFtVmFsdWVzLCBjYWxsYmFjaykge1xuICB2YXIgcGF0dGVybiA9IHJvdXRlLnBhdGggfHwgJyc7XG5cbiAgaWYgKHBhdHRlcm4uY2hhckF0KDApID09PSAnLycpIHtcbiAgICByZW1haW5pbmdQYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lO1xuICAgIHBhcmFtTmFtZXMgPSBbXTtcbiAgICBwYXJhbVZhbHVlcyA9IFtdO1xuICB9XG5cbiAgLy8gT25seSB0cnkgdG8gbWF0Y2ggdGhlIHBhdGggaWYgdGhlIHJvdXRlIGFjdHVhbGx5IGhhcyBhIHBhdHRlcm4sIGFuZCBpZlxuICAvLyB3ZSdyZSBub3QganVzdCBzZWFyY2hpbmcgZm9yIHBvdGVudGlhbCBuZXN0ZWQgYWJzb2x1dGUgcGF0aHMuXG4gIGlmIChyZW1haW5pbmdQYXRobmFtZSAhPT0gbnVsbCAmJiBwYXR0ZXJuKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBtYXRjaGVkID0gKDAsIF9QYXR0ZXJuVXRpbHMubWF0Y2hQYXR0ZXJuKShwYXR0ZXJuLCByZW1haW5pbmdQYXRobmFtZSk7XG4gICAgICBpZiAobWF0Y2hlZCkge1xuICAgICAgICByZW1haW5pbmdQYXRobmFtZSA9IG1hdGNoZWQucmVtYWluaW5nUGF0aG5hbWU7XG4gICAgICAgIHBhcmFtTmFtZXMgPSBbXS5jb25jYXQocGFyYW1OYW1lcywgbWF0Y2hlZC5wYXJhbU5hbWVzKTtcbiAgICAgICAgcGFyYW1WYWx1ZXMgPSBbXS5jb25jYXQocGFyYW1WYWx1ZXMsIG1hdGNoZWQucGFyYW1WYWx1ZXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVtYWluaW5nUGF0aG5hbWUgPSBudWxsO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjYWxsYmFjayhlcnJvcik7XG4gICAgfVxuXG4gICAgLy8gQnkgYXNzdW1wdGlvbiwgcGF0dGVybiBpcyBub24tZW1wdHkgaGVyZSwgd2hpY2ggaXMgdGhlIHByZXJlcXVpc2l0ZSBmb3JcbiAgICAvLyBhY3R1YWxseSB0ZXJtaW5hdGluZyBhIG1hdGNoLlxuICAgIGlmIChyZW1haW5pbmdQYXRobmFtZSA9PT0gJycpIHtcbiAgICAgIHZhciBfcmV0MiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hdGNoID0ge1xuICAgICAgICAgIHJvdXRlczogW3JvdXRlXSxcbiAgICAgICAgICBwYXJhbXM6IGNyZWF0ZVBhcmFtcyhwYXJhbU5hbWVzLCBwYXJhbVZhbHVlcylcbiAgICAgICAgfTtcblxuICAgICAgICBnZXRJbmRleFJvdXRlKHJvdXRlLCBsb2NhdGlvbiwgcGFyYW1OYW1lcywgcGFyYW1WYWx1ZXMsIGZ1bmN0aW9uIChlcnJvciwgaW5kZXhSb3V0ZSkge1xuICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpbmRleFJvdXRlKSkge1xuICAgICAgICAgICAgICB2YXIgX21hdGNoJHJvdXRlcztcblxuICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShpbmRleFJvdXRlLmV2ZXJ5KGZ1bmN0aW9uIChyb3V0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhcm91dGUucGF0aDtcbiAgICAgICAgICAgICAgfSksICdJbmRleCByb3V0ZXMgc2hvdWxkIG5vdCBoYXZlIHBhdGhzJykgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIChfbWF0Y2gkcm91dGVzID0gbWF0Y2gucm91dGVzKS5wdXNoLmFwcGx5KF9tYXRjaCRyb3V0ZXMsIGluZGV4Um91dGUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleFJvdXRlKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKCFpbmRleFJvdXRlLnBhdGgsICdJbmRleCByb3V0ZXMgc2hvdWxkIG5vdCBoYXZlIHBhdGhzJykgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIG1hdGNoLnJvdXRlcy5wdXNoKGluZGV4Um91dGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCBtYXRjaCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHY6IHZvaWQgMFxuICAgICAgICB9O1xuICAgICAgfSgpO1xuXG4gICAgICBpZiAoKHR5cGVvZiBfcmV0MiA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoX3JldDIpKSA9PT0gXCJvYmplY3RcIikgcmV0dXJuIF9yZXQyLnY7XG4gICAgfVxuICB9XG5cbiAgaWYgKHJlbWFpbmluZ1BhdGhuYW1lICE9IG51bGwgfHwgcm91dGUuY2hpbGRSb3V0ZXMpIHtcbiAgICAvLyBFaXRoZXIgYSkgdGhpcyByb3V0ZSBtYXRjaGVkIGF0IGxlYXN0IHNvbWUgb2YgdGhlIHBhdGggb3IgYilcbiAgICAvLyB3ZSBkb24ndCBoYXZlIHRvIGxvYWQgdGhpcyByb3V0ZSdzIGNoaWxkcmVuIGFzeW5jaHJvbm91c2x5LiBJblxuICAgIC8vIGVpdGhlciBjYXNlIGNvbnRpbnVlIGNoZWNraW5nIGZvciBtYXRjaGVzIGluIHRoZSBzdWJ0cmVlLlxuICAgIHZhciBvbkNoaWxkUm91dGVzID0gZnVuY3Rpb24gb25DaGlsZFJvdXRlcyhlcnJvciwgY2hpbGRSb3V0ZXMpIHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjYWxsYmFjayhlcnJvcik7XG4gICAgICB9IGVsc2UgaWYgKGNoaWxkUm91dGVzKSB7XG4gICAgICAgIC8vIENoZWNrIHRoZSBjaGlsZCByb3V0ZXMgdG8gc2VlIGlmIGFueSBvZiB0aGVtIG1hdGNoLlxuICAgICAgICBtYXRjaFJvdXRlcyhjaGlsZFJvdXRlcywgbG9jYXRpb24sIGZ1bmN0aW9uIChlcnJvciwgbWF0Y2gpIHtcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAvLyBBIGNoaWxkIHJvdXRlIG1hdGNoZWQhIEF1Z21lbnQgdGhlIG1hdGNoIGFuZCBwYXNzIGl0IHVwIHRoZSBzdGFjay5cbiAgICAgICAgICAgIG1hdGNoLnJvdXRlcy51bnNoaWZ0KHJvdXRlKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIG1hdGNoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHJlbWFpbmluZ1BhdGhuYW1lLCBwYXJhbU5hbWVzLCBwYXJhbVZhbHVlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgcmVzdWx0ID0gZ2V0Q2hpbGRSb3V0ZXMocm91dGUsIGxvY2F0aW9uLCBwYXJhbU5hbWVzLCBwYXJhbVZhbHVlcywgb25DaGlsZFJvdXRlcyk7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgb25DaGlsZFJvdXRlcy5hcHBseSh1bmRlZmluZWQsIHJlc3VsdCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNhbGxiYWNrKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBBc3luY2hyb25vdXNseSBtYXRjaGVzIHRoZSBnaXZlbiBsb2NhdGlvbiB0byBhIHNldCBvZiByb3V0ZXMgYW5kIGNhbGxzXG4gKiBjYWxsYmFjayhlcnJvciwgc3RhdGUpIHdoZW4gZmluaXNoZWQuIFRoZSBzdGF0ZSBvYmplY3Qgd2lsbCBoYXZlIHRoZVxuICogZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogLSByb3V0ZXMgICAgICAgQW4gYXJyYXkgb2Ygcm91dGVzIHRoYXQgbWF0Y2hlZCwgaW4gaGllcmFyY2hpY2FsIG9yZGVyXG4gKiAtIHBhcmFtcyAgICAgICBBbiBvYmplY3Qgb2YgVVJMIHBhcmFtZXRlcnNcbiAqXG4gKiBOb3RlOiBUaGlzIG9wZXJhdGlvbiBtYXkgZmluaXNoIHN5bmNocm9ub3VzbHkgaWYgbm8gcm91dGVzIGhhdmUgYW5cbiAqIGFzeW5jaHJvbm91cyBnZXRDaGlsZFJvdXRlcyBtZXRob2QuXG4gKi9cbmZ1bmN0aW9uIG1hdGNoUm91dGVzKHJvdXRlcywgbG9jYXRpb24sIGNhbGxiYWNrLCByZW1haW5pbmdQYXRobmFtZSkge1xuICB2YXIgcGFyYW1OYW1lcyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gNCB8fCBhcmd1bWVudHNbNF0gPT09IHVuZGVmaW5lZCA/IFtdIDogYXJndW1lbnRzWzRdO1xuICB2YXIgcGFyYW1WYWx1ZXMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDUgfHwgYXJndW1lbnRzWzVdID09PSB1bmRlZmluZWQgPyBbXSA6IGFyZ3VtZW50c1s1XTtcblxuICBpZiAocmVtYWluaW5nUGF0aG5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgIC8vIFRPRE86IFRoaXMgaXMgYSBsaXR0bGUgYml0IHVnbHksIGJ1dCBpdCB3b3JrcyBhcm91bmQgYSBxdWlyayBpbiBoaXN0b3J5XG4gICAgLy8gdGhhdCBzdHJpcHMgdGhlIGxlYWRpbmcgc2xhc2ggZnJvbSBwYXRobmFtZXMgd2hlbiB1c2luZyBiYXNlbmFtZXMgd2l0aFxuICAgIC8vIHRyYWlsaW5nIHNsYXNoZXMuXG4gICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICBsb2NhdGlvbiA9IF9leHRlbmRzKHt9LCBsb2NhdGlvbiwge1xuICAgICAgICBwYXRobmFtZTogJy8nICsgbG9jYXRpb24ucGF0aG5hbWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZW1haW5pbmdQYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lO1xuICB9XG5cbiAgKDAsIF9Bc3luY1V0aWxzLmxvb3BBc3luYykocm91dGVzLmxlbmd0aCwgZnVuY3Rpb24gKGluZGV4LCBuZXh0LCBkb25lKSB7XG4gICAgbWF0Y2hSb3V0ZURlZXAocm91dGVzW2luZGV4XSwgbG9jYXRpb24sIHJlbWFpbmluZ1BhdGhuYW1lLCBwYXJhbU5hbWVzLCBwYXJhbVZhbHVlcywgZnVuY3Rpb24gKGVycm9yLCBtYXRjaCkge1xuICAgICAgaWYgKGVycm9yIHx8IG1hdGNoKSB7XG4gICAgICAgIGRvbmUoZXJyb3IsIG1hdGNoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgY2FsbGJhY2spO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvbWF0Y2hSb3V0ZXMuanNcbi8vIG1vZHVsZSBpZCA9IDkxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF91c2VRdWVyaWVzID0gcmVxdWlyZSgnaGlzdG9yeS9saWIvdXNlUXVlcmllcycpO1xuXG52YXIgX3VzZVF1ZXJpZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXNlUXVlcmllcyk7XG5cbnZhciBfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIgPSByZXF1aXJlKCcuL2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyJyk7XG5cbnZhciBfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIpO1xuXG52YXIgX3JvdXRlcldhcm5pbmcgPSByZXF1aXJlKCcuL3JvdXRlcldhcm5pbmcnKTtcblxudmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob2JqLCBrZXlzKSB7IHZhciB0YXJnZXQgPSB7fTsgZm9yICh2YXIgaSBpbiBvYmopIHsgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7IHRhcmdldFtpXSA9IG9ialtpXTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbi8qKlxuICogUmV0dXJucyBhIG5ldyBjcmVhdGVIaXN0b3J5IGZ1bmN0aW9uIHRoYXQgbWF5IGJlIHVzZWQgdG8gY3JlYXRlXG4gKiBoaXN0b3J5IG9iamVjdHMgdGhhdCBrbm93IGFib3V0IHJvdXRpbmcuXG4gKlxuICogRW5oYW5jZXMgaGlzdG9yeSBvYmplY3RzIHdpdGggdGhlIGZvbGxvd2luZyBtZXRob2RzOlxuICpcbiAqIC0gbGlzdGVuKChlcnJvciwgbmV4dFN0YXRlKSA9PiB7fSlcbiAqIC0gbGlzdGVuQmVmb3JlTGVhdmluZ1JvdXRlKHJvdXRlLCAobmV4dExvY2F0aW9uKSA9PiB7fSlcbiAqIC0gbWF0Y2gobG9jYXRpb24sIChlcnJvciwgcmVkaXJlY3RMb2NhdGlvbiwgbmV4dFN0YXRlKSA9PiB7fSlcbiAqIC0gaXNBY3RpdmUocGF0aG5hbWUsIHF1ZXJ5LCBpbmRleE9ubHk9ZmFsc2UpXG4gKi9cbmZ1bmN0aW9uIHVzZVJvdXRlcyhjcmVhdGVIaXN0b3J5KSB7XG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKGZhbHNlLCAnYHVzZVJvdXRlc2AgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBgY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXJgIGluc3RlYWQuJykgOiB2b2lkIDA7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXG4gICAgdmFyIHJvdXRlcyA9IF9yZWYucm91dGVzO1xuXG4gICAgdmFyIG9wdGlvbnMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgWydyb3V0ZXMnXSk7XG5cbiAgICB2YXIgaGlzdG9yeSA9ICgwLCBfdXNlUXVlcmllczIuZGVmYXVsdCkoY3JlYXRlSGlzdG9yeSkob3B0aW9ucyk7XG4gICAgdmFyIHRyYW5zaXRpb25NYW5hZ2VyID0gKDAsIF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcjIuZGVmYXVsdCkoaGlzdG9yeSwgcm91dGVzKTtcbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIGhpc3RvcnksIHRyYW5zaXRpb25NYW5hZ2VyKTtcbiAgfTtcbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gdXNlUm91dGVzO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvdXNlUm91dGVzLmpzXG4vLyBtb2R1bGUgaWQgPSA5MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHdpdGhSb3V0ZXI7XG5cbnZhciBfaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5cbnZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9ob2lzdE5vblJlYWN0U3RhdGljcyA9IHJlcXVpcmUoJ2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzJyk7XG5cbnZhciBfaG9pc3ROb25SZWFjdFN0YXRpY3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaG9pc3ROb25SZWFjdFN0YXRpY3MpO1xuXG52YXIgX1Byb3BUeXBlcyA9IHJlcXVpcmUoJy4vUHJvcFR5cGVzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldERpc3BsYXlOYW1lKFdyYXBwZWRDb21wb25lbnQpIHtcbiAgcmV0dXJuIFdyYXBwZWRDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgV3JhcHBlZENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnO1xufVxuXG5mdW5jdGlvbiB3aXRoUm91dGVyKFdyYXBwZWRDb21wb25lbnQsIG9wdGlvbnMpIHtcbiAgdmFyIHdpdGhSZWYgPSBvcHRpb25zICYmIG9wdGlvbnMud2l0aFJlZjtcblxuICB2YXIgV2l0aFJvdXRlciA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVDbGFzcyh7XG4gICAgZGlzcGxheU5hbWU6ICdXaXRoUm91dGVyJyxcblxuICAgIGNvbnRleHRUeXBlczogeyByb3V0ZXI6IF9Qcm9wVHlwZXMucm91dGVyU2hhcGUgfSxcbiAgICBwcm9wVHlwZXM6IHsgcm91dGVyOiBfUHJvcFR5cGVzLnJvdXRlclNoYXBlIH0sXG5cbiAgICBnZXRXcmFwcGVkSW5zdGFuY2U6IGZ1bmN0aW9uIGdldFdyYXBwZWRJbnN0YW5jZSgpIHtcbiAgICAgICF3aXRoUmVmID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSwgJ1RvIGFjY2VzcyB0aGUgd3JhcHBlZCBpbnN0YW5jZSwgeW91IG5lZWQgdG8gc3BlY2lmeSAnICsgJ2B7IHdpdGhSZWY6IHRydWUgfWAgYXMgdGhlIHNlY29uZCBhcmd1bWVudCBvZiB0aGUgd2l0aFJvdXRlcigpIGNhbGwuJykgOiAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UpIDogdm9pZCAwO1xuXG4gICAgICByZXR1cm4gdGhpcy53cmFwcGVkSW5zdGFuY2U7XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciByb3V0ZXIgPSB0aGlzLnByb3BzLnJvdXRlciB8fCB0aGlzLmNvbnRleHQucm91dGVyO1xuICAgICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHsgcm91dGVyOiByb3V0ZXIgfSk7XG5cbiAgICAgIGlmICh3aXRoUmVmKSB7XG4gICAgICAgIHByb3BzLnJlZiA9IGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgX3RoaXMud3JhcHBlZEluc3RhbmNlID0gYztcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFdyYXBwZWRDb21wb25lbnQsIHByb3BzKTtcbiAgICB9XG4gIH0pO1xuXG4gIFdpdGhSb3V0ZXIuZGlzcGxheU5hbWUgPSAnd2l0aFJvdXRlcignICsgZ2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCkgKyAnKSc7XG4gIFdpdGhSb3V0ZXIuV3JhcHBlZENvbXBvbmVudCA9IFdyYXBwZWRDb21wb25lbnQ7XG5cbiAgcmV0dXJuICgwLCBfaG9pc3ROb25SZWFjdFN0YXRpY3MyLmRlZmF1bHQpKFdpdGhSb3V0ZXIsIFdyYXBwZWRDb21wb25lbnQpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvd2l0aFJvdXRlci5qc1xuLy8gbW9kdWxlIGlkID0gOTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5wcmludEJ1ZmZlciA9IHByaW50QnVmZmVyO1xuXG52YXIgX2hlbHBlcnMgPSByZXF1aXJlKCcuL2hlbHBlcnMnKTtcblxudmFyIF9kaWZmID0gcmVxdWlyZSgnLi9kaWZmJyk7XG5cbnZhciBfZGlmZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kaWZmKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9XG5cbi8qKlxuICogR2V0IGxvZyBsZXZlbCBzdHJpbmcgYmFzZWQgb24gc3VwcGxpZWQgcGFyYW1zXG4gKlxuICogQHBhcmFtIHtzdHJpbmcgfCBmdW5jdGlvbiB8IG9iamVjdH0gbGV2ZWwgLSBjb25zb2xlW2xldmVsXVxuICogQHBhcmFtIHtvYmplY3R9IGFjdGlvbiAtIHNlbGVjdGVkIGFjdGlvblxuICogQHBhcmFtIHthcnJheX0gcGF5bG9hZCAtIHNlbGVjdGVkIHBheWxvYWRcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gbG9nIGVudHJ5IHR5cGVcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBsZXZlbFxuICovXG5mdW5jdGlvbiBnZXRMb2dMZXZlbChsZXZlbCwgYWN0aW9uLCBwYXlsb2FkLCB0eXBlKSB7XG4gIHN3aXRjaCAodHlwZW9mIGxldmVsID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihsZXZlbCkpIHtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgcmV0dXJuIHR5cGVvZiBsZXZlbFt0eXBlXSA9PT0gJ2Z1bmN0aW9uJyA/IGxldmVsW3R5cGVdLmFwcGx5KGxldmVsLCBfdG9Db25zdW1hYmxlQXJyYXkocGF5bG9hZCkpIDogbGV2ZWxbdHlwZV07XG4gICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgcmV0dXJuIGxldmVsKGFjdGlvbik7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBsZXZlbDtcbiAgfVxufVxuXG5mdW5jdGlvbiBkZWZhdWx0VGl0bGVGb3JtYXR0ZXIob3B0aW9ucykge1xuICB2YXIgdGltZXN0YW1wID0gb3B0aW9ucy50aW1lc3RhbXA7XG4gIHZhciBkdXJhdGlvbiA9IG9wdGlvbnMuZHVyYXRpb247XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24sIHRpbWUsIHRvb2spIHtcbiAgICB2YXIgcGFydHMgPSBbJ2FjdGlvbiddO1xuICAgIGlmICh0aW1lc3RhbXApIHtcbiAgICAgIHBhcnRzLnB1c2goJ0AgJyArIHRpbWUpO1xuICAgIH1cbiAgICBwYXJ0cy5wdXNoKGFjdGlvbi50eXBlKTtcbiAgICBpZiAoZHVyYXRpb24pIHtcbiAgICAgIHBhcnRzLnB1c2goJyhpbiAnICsgdG9vay50b0ZpeGVkKDIpICsgJyBtcyknKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnRzLmpvaW4oJyAnKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gcHJpbnRCdWZmZXIoYnVmZmVyLCBvcHRpb25zKSB7XG4gIHZhciBsb2dnZXIgPSBvcHRpb25zLmxvZ2dlcjtcbiAgdmFyIGFjdGlvblRyYW5zZm9ybWVyID0gb3B0aW9ucy5hY3Rpb25UcmFuc2Zvcm1lcjtcbiAgdmFyIF9vcHRpb25zJHRpdGxlRm9ybWF0dCA9IG9wdGlvbnMudGl0bGVGb3JtYXR0ZXI7XG4gIHZhciB0aXRsZUZvcm1hdHRlciA9IF9vcHRpb25zJHRpdGxlRm9ybWF0dCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFRpdGxlRm9ybWF0dGVyKG9wdGlvbnMpIDogX29wdGlvbnMkdGl0bGVGb3JtYXR0O1xuICB2YXIgY29sbGFwc2VkID0gb3B0aW9ucy5jb2xsYXBzZWQ7XG4gIHZhciBjb2xvcnMgPSBvcHRpb25zLmNvbG9ycztcbiAgdmFyIGxldmVsID0gb3B0aW9ucy5sZXZlbDtcbiAgdmFyIGRpZmYgPSBvcHRpb25zLmRpZmY7XG5cbiAgYnVmZmVyLmZvckVhY2goZnVuY3Rpb24gKGxvZ0VudHJ5LCBrZXkpIHtcbiAgICB2YXIgc3RhcnRlZCA9IGxvZ0VudHJ5LnN0YXJ0ZWQ7XG4gICAgdmFyIHN0YXJ0ZWRUaW1lID0gbG9nRW50cnkuc3RhcnRlZFRpbWU7XG4gICAgdmFyIGFjdGlvbiA9IGxvZ0VudHJ5LmFjdGlvbjtcbiAgICB2YXIgcHJldlN0YXRlID0gbG9nRW50cnkucHJldlN0YXRlO1xuICAgIHZhciBlcnJvciA9IGxvZ0VudHJ5LmVycm9yO1xuICAgIHZhciB0b29rID0gbG9nRW50cnkudG9vaztcbiAgICB2YXIgbmV4dFN0YXRlID0gbG9nRW50cnkubmV4dFN0YXRlO1xuXG4gICAgdmFyIG5leHRFbnRyeSA9IGJ1ZmZlcltrZXkgKyAxXTtcblxuICAgIGlmIChuZXh0RW50cnkpIHtcbiAgICAgIG5leHRTdGF0ZSA9IG5leHRFbnRyeS5wcmV2U3RhdGU7XG4gICAgICB0b29rID0gbmV4dEVudHJ5LnN0YXJ0ZWQgLSBzdGFydGVkO1xuICAgIH1cblxuICAgIC8vIE1lc3NhZ2VcbiAgICB2YXIgZm9ybWF0dGVkQWN0aW9uID0gYWN0aW9uVHJhbnNmb3JtZXIoYWN0aW9uKTtcbiAgICB2YXIgaXNDb2xsYXBzZWQgPSB0eXBlb2YgY29sbGFwc2VkID09PSAnZnVuY3Rpb24nID8gY29sbGFwc2VkKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuZXh0U3RhdGU7XG4gICAgfSwgYWN0aW9uKSA6IGNvbGxhcHNlZDtcblxuICAgIHZhciBmb3JtYXR0ZWRUaW1lID0gKDAsIF9oZWxwZXJzLmZvcm1hdFRpbWUpKHN0YXJ0ZWRUaW1lKTtcbiAgICB2YXIgdGl0bGVDU1MgPSBjb2xvcnMudGl0bGUgPyAnY29sb3I6ICcgKyBjb2xvcnMudGl0bGUoZm9ybWF0dGVkQWN0aW9uKSArICc7JyA6IG51bGw7XG4gICAgdmFyIHRpdGxlID0gdGl0bGVGb3JtYXR0ZXIoZm9ybWF0dGVkQWN0aW9uLCBmb3JtYXR0ZWRUaW1lLCB0b29rKTtcblxuICAgIC8vIFJlbmRlclxuICAgIHRyeSB7XG4gICAgICBpZiAoaXNDb2xsYXBzZWQpIHtcbiAgICAgICAgaWYgKGNvbG9ycy50aXRsZSkgbG9nZ2VyLmdyb3VwQ29sbGFwc2VkKCclYyAnICsgdGl0bGUsIHRpdGxlQ1NTKTtlbHNlIGxvZ2dlci5ncm91cENvbGxhcHNlZCh0aXRsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoY29sb3JzLnRpdGxlKSBsb2dnZXIuZ3JvdXAoJyVjICcgKyB0aXRsZSwgdGl0bGVDU1MpO2Vsc2UgbG9nZ2VyLmdyb3VwKHRpdGxlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsb2dnZXIubG9nKHRpdGxlKTtcbiAgICB9XG5cbiAgICB2YXIgcHJldlN0YXRlTGV2ZWwgPSBnZXRMb2dMZXZlbChsZXZlbCwgZm9ybWF0dGVkQWN0aW9uLCBbcHJldlN0YXRlXSwgJ3ByZXZTdGF0ZScpO1xuICAgIHZhciBhY3Rpb25MZXZlbCA9IGdldExvZ0xldmVsKGxldmVsLCBmb3JtYXR0ZWRBY3Rpb24sIFtmb3JtYXR0ZWRBY3Rpb25dLCAnYWN0aW9uJyk7XG4gICAgdmFyIGVycm9yTGV2ZWwgPSBnZXRMb2dMZXZlbChsZXZlbCwgZm9ybWF0dGVkQWN0aW9uLCBbZXJyb3IsIHByZXZTdGF0ZV0sICdlcnJvcicpO1xuICAgIHZhciBuZXh0U3RhdGVMZXZlbCA9IGdldExvZ0xldmVsKGxldmVsLCBmb3JtYXR0ZWRBY3Rpb24sIFtuZXh0U3RhdGVdLCAnbmV4dFN0YXRlJyk7XG5cbiAgICBpZiAocHJldlN0YXRlTGV2ZWwpIHtcbiAgICAgIGlmIChjb2xvcnMucHJldlN0YXRlKSBsb2dnZXJbcHJldlN0YXRlTGV2ZWxdKCclYyBwcmV2IHN0YXRlJywgJ2NvbG9yOiAnICsgY29sb3JzLnByZXZTdGF0ZShwcmV2U3RhdGUpICsgJzsgZm9udC13ZWlnaHQ6IGJvbGQnLCBwcmV2U3RhdGUpO2Vsc2UgbG9nZ2VyW3ByZXZTdGF0ZUxldmVsXSgncHJldiBzdGF0ZScsIHByZXZTdGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKGFjdGlvbkxldmVsKSB7XG4gICAgICBpZiAoY29sb3JzLmFjdGlvbikgbG9nZ2VyW2FjdGlvbkxldmVsXSgnJWMgYWN0aW9uJywgJ2NvbG9yOiAnICsgY29sb3JzLmFjdGlvbihmb3JtYXR0ZWRBY3Rpb24pICsgJzsgZm9udC13ZWlnaHQ6IGJvbGQnLCBmb3JtYXR0ZWRBY3Rpb24pO2Vsc2UgbG9nZ2VyW2FjdGlvbkxldmVsXSgnYWN0aW9uJywgZm9ybWF0dGVkQWN0aW9uKTtcbiAgICB9XG5cbiAgICBpZiAoZXJyb3IgJiYgZXJyb3JMZXZlbCkge1xuICAgICAgaWYgKGNvbG9ycy5lcnJvcikgbG9nZ2VyW2Vycm9yTGV2ZWxdKCclYyBlcnJvcicsICdjb2xvcjogJyArIGNvbG9ycy5lcnJvcihlcnJvciwgcHJldlN0YXRlKSArICc7IGZvbnQtd2VpZ2h0OiBib2xkJywgZXJyb3IpO2Vsc2UgbG9nZ2VyW2Vycm9yTGV2ZWxdKCdlcnJvcicsIGVycm9yKTtcbiAgICB9XG5cbiAgICBpZiAobmV4dFN0YXRlTGV2ZWwpIHtcbiAgICAgIGlmIChjb2xvcnMubmV4dFN0YXRlKSBsb2dnZXJbbmV4dFN0YXRlTGV2ZWxdKCclYyBuZXh0IHN0YXRlJywgJ2NvbG9yOiAnICsgY29sb3JzLm5leHRTdGF0ZShuZXh0U3RhdGUpICsgJzsgZm9udC13ZWlnaHQ6IGJvbGQnLCBuZXh0U3RhdGUpO2Vsc2UgbG9nZ2VyW25leHRTdGF0ZUxldmVsXSgnbmV4dCBzdGF0ZScsIG5leHRTdGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKGRpZmYpIHtcbiAgICAgICgwLCBfZGlmZjIuZGVmYXVsdCkocHJldlN0YXRlLCBuZXh0U3RhdGUsIGxvZ2dlciwgaXNDb2xsYXBzZWQpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBsb2dnZXIuZ3JvdXBFbmQoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsb2dnZXIubG9nKCfigJTigJQgbG9nIGVuZCDigJTigJQnKTtcbiAgICB9XG4gIH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWR1eC1sb2dnZXIvbGliL2NvcmUuanNcbi8vIG1vZHVsZSBpZCA9IDk0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICBsZXZlbDogXCJsb2dcIixcbiAgbG9nZ2VyOiBjb25zb2xlLFxuICBsb2dFcnJvcnM6IHRydWUsXG4gIGNvbGxhcHNlZDogdW5kZWZpbmVkLFxuICBwcmVkaWNhdGU6IHVuZGVmaW5lZCxcbiAgZHVyYXRpb246IGZhbHNlLFxuICB0aW1lc3RhbXA6IHRydWUsXG4gIHN0YXRlVHJhbnNmb3JtZXI6IGZ1bmN0aW9uIHN0YXRlVHJhbnNmb3JtZXIoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGU7XG4gIH0sXG4gIGFjdGlvblRyYW5zZm9ybWVyOiBmdW5jdGlvbiBhY3Rpb25UcmFuc2Zvcm1lcihhY3Rpb24pIHtcbiAgICByZXR1cm4gYWN0aW9uO1xuICB9LFxuICBlcnJvclRyYW5zZm9ybWVyOiBmdW5jdGlvbiBlcnJvclRyYW5zZm9ybWVyKGVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9LFxuICBjb2xvcnM6IHtcbiAgICB0aXRsZTogZnVuY3Rpb24gdGl0bGUoKSB7XG4gICAgICByZXR1cm4gXCJpbmhlcml0XCI7XG4gICAgfSxcbiAgICBwcmV2U3RhdGU6IGZ1bmN0aW9uIHByZXZTdGF0ZSgpIHtcbiAgICAgIHJldHVybiBcIiM5RTlFOUVcIjtcbiAgICB9LFxuICAgIGFjdGlvbjogZnVuY3Rpb24gYWN0aW9uKCkge1xuICAgICAgcmV0dXJuIFwiIzAzQTlGNFwiO1xuICAgIH0sXG4gICAgbmV4dFN0YXRlOiBmdW5jdGlvbiBuZXh0U3RhdGUoKSB7XG4gICAgICByZXR1cm4gXCIjNENBRjUwXCI7XG4gICAgfSxcbiAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoKSB7XG4gICAgICByZXR1cm4gXCIjRjIwNDA0XCI7XG4gICAgfVxuICB9LFxuICBkaWZmOiBmYWxzZSxcbiAgZGlmZlByZWRpY2F0ZTogdW5kZWZpbmVkLFxuXG4gIC8vIERlcHJlY2F0ZWQgb3B0aW9uc1xuICB0cmFuc2Zvcm1lcjogdW5kZWZpbmVkXG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlZHV4LWxvZ2dlci9saWIvZGVmYXVsdHMuanNcbi8vIG1vZHVsZSBpZCA9IDk1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGRpZmZMb2dnZXI7XG5cbnZhciBfZGVlcERpZmYgPSByZXF1aXJlKCdkZWVwLWRpZmYnKTtcblxudmFyIF9kZWVwRGlmZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWVwRGlmZik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mbGl0Yml0L2RpZmYjZGlmZmVyZW5jZXNcbnZhciBkaWN0aW9uYXJ5ID0ge1xuICAnRSc6IHtcbiAgICBjb2xvcjogJyMyMTk2RjMnLFxuICAgIHRleHQ6ICdDSEFOR0VEOidcbiAgfSxcbiAgJ04nOiB7XG4gICAgY29sb3I6ICcjNENBRjUwJyxcbiAgICB0ZXh0OiAnQURERUQ6J1xuICB9LFxuICAnRCc6IHtcbiAgICBjb2xvcjogJyNGNDQzMzYnLFxuICAgIHRleHQ6ICdERUxFVEVEOidcbiAgfSxcbiAgJ0EnOiB7XG4gICAgY29sb3I6ICcjMjE5NkYzJyxcbiAgICB0ZXh0OiAnQVJSQVk6J1xuICB9XG59O1xuXG5mdW5jdGlvbiBzdHlsZShraW5kKSB7XG4gIHJldHVybiAnY29sb3I6ICcgKyBkaWN0aW9uYXJ5W2tpbmRdLmNvbG9yICsgJzsgZm9udC13ZWlnaHQ6IGJvbGQnO1xufVxuXG5mdW5jdGlvbiByZW5kZXIoZGlmZikge1xuICB2YXIga2luZCA9IGRpZmYua2luZDtcbiAgdmFyIHBhdGggPSBkaWZmLnBhdGg7XG4gIHZhciBsaHMgPSBkaWZmLmxocztcbiAgdmFyIHJocyA9IGRpZmYucmhzO1xuICB2YXIgaW5kZXggPSBkaWZmLmluZGV4O1xuICB2YXIgaXRlbSA9IGRpZmYuaXRlbTtcblxuICBzd2l0Y2ggKGtpbmQpIHtcbiAgICBjYXNlICdFJzpcbiAgICAgIHJldHVybiBwYXRoLmpvaW4oJy4nKSArICcgJyArIGxocyArICcg4oaSICcgKyByaHM7XG4gICAgY2FzZSAnTic6XG4gICAgICByZXR1cm4gcGF0aC5qb2luKCcuJykgKyAnICcgKyByaHM7XG4gICAgY2FzZSAnRCc6XG4gICAgICByZXR1cm4gJycgKyBwYXRoLmpvaW4oJy4nKTtcbiAgICBjYXNlICdBJzpcbiAgICAgIHJldHVybiBbcGF0aC5qb2luKCcuJykgKyAnWycgKyBpbmRleCArICddJywgaXRlbV07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRpZmZMb2dnZXIocHJldlN0YXRlLCBuZXdTdGF0ZSwgbG9nZ2VyLCBpc0NvbGxhcHNlZCkge1xuICB2YXIgZGlmZiA9ICgwLCBfZGVlcERpZmYyLmRlZmF1bHQpKHByZXZTdGF0ZSwgbmV3U3RhdGUpO1xuXG4gIHRyeSB7XG4gICAgaWYgKGlzQ29sbGFwc2VkKSB7XG4gICAgICBsb2dnZXIuZ3JvdXBDb2xsYXBzZWQoJ2RpZmYnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nZ2VyLmdyb3VwKCdkaWZmJyk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgbG9nZ2VyLmxvZygnZGlmZicpO1xuICB9XG5cbiAgaWYgKGRpZmYpIHtcbiAgICBkaWZmLmZvckVhY2goZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgIHZhciBraW5kID0gZWxlbS5raW5kO1xuXG4gICAgICB2YXIgb3V0cHV0ID0gcmVuZGVyKGVsZW0pO1xuXG4gICAgICBsb2dnZXIubG9nKCclYyAnICsgZGljdGlvbmFyeVtraW5kXS50ZXh0LCBzdHlsZShraW5kKSwgb3V0cHV0KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBsb2dnZXIubG9nKCfigJTigJQgbm8gZGlmZiDigJTigJQnKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgbG9nZ2VyLmdyb3VwRW5kKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2dnZXIubG9nKCfigJTigJQgZGlmZiBlbmQg4oCU4oCUICcpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVkdXgtbG9nZ2VyL2xpYi9kaWZmLmpzXG4vLyBtb2R1bGUgaWQgPSA5NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4vY29yZScpO1xuXG52YXIgX2hlbHBlcnMgPSByZXF1aXJlKCcuL2hlbHBlcnMnKTtcblxudmFyIF9kZWZhdWx0cyA9IHJlcXVpcmUoJy4vZGVmYXVsdHMnKTtcblxudmFyIF9kZWZhdWx0czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZhdWx0cyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogQ3JlYXRlcyBsb2dnZXIgd2l0aCBmb2xsb3dpbmcgb3B0aW9uc1xuICpcbiAqIEBuYW1lc3BhY2VcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBmb3IgbG9nZ2VyXG4gKiBAcGFyYW0ge3N0cmluZyB8IGZ1bmN0aW9uIHwgb2JqZWN0fSBvcHRpb25zLmxldmVsIC0gY29uc29sZVtsZXZlbF1cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5kdXJhdGlvbiAtIHByaW50IGR1cmF0aW9uIG9mIGVhY2ggYWN0aW9uP1xuICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLnRpbWVzdGFtcCAtIHByaW50IHRpbWVzdGFtcCB3aXRoIGVhY2ggYWN0aW9uP1xuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMuY29sb3JzIC0gY3VzdG9tIGNvbG9yc1xuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMubG9nZ2VyIC0gaW1wbGVtZW50YXRpb24gb2YgdGhlIGBjb25zb2xlYCBBUElcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5sb2dFcnJvcnMgLSBzaG91bGQgZXJyb3JzIGluIGFjdGlvbiBleGVjdXRpb24gYmUgY2F1Z2h0LCBsb2dnZWQsIGFuZCByZS10aHJvd24/XG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMuY29sbGFwc2VkIC0gaXMgZ3JvdXAgY29sbGFwc2VkP1xuICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLnByZWRpY2F0ZSAtIGNvbmRpdGlvbiB3aGljaCByZXNvbHZlcyBsb2dnZXIgYmVoYXZpb3JcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9wdGlvbnMuc3RhdGVUcmFuc2Zvcm1lciAtIHRyYW5zZm9ybSBzdGF0ZSBiZWZvcmUgcHJpbnRcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9wdGlvbnMuYWN0aW9uVHJhbnNmb3JtZXIgLSB0cmFuc2Zvcm0gYWN0aW9uIGJlZm9yZSBwcmludFxuICogQHBhcmFtIHtmdW5jdGlvbn0gb3B0aW9ucy5lcnJvclRyYW5zZm9ybWVyIC0gdHJhbnNmb3JtIGVycm9yIGJlZm9yZSBwcmludFxuICpcbiAqIEByZXR1cm5zIHtmdW5jdGlvbn0gbG9nZ2VyIG1pZGRsZXdhcmVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTG9nZ2VyKCkge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXG4gIHZhciBsb2dnZXJPcHRpb25zID0gX2V4dGVuZHMoe30sIF9kZWZhdWx0czIuZGVmYXVsdCwgb3B0aW9ucyk7XG5cbiAgdmFyIGxvZ2dlciA9IGxvZ2dlck9wdGlvbnMubG9nZ2VyO1xuICB2YXIgdHJhbnNmb3JtZXIgPSBsb2dnZXJPcHRpb25zLnRyYW5zZm9ybWVyO1xuICB2YXIgc3RhdGVUcmFuc2Zvcm1lciA9IGxvZ2dlck9wdGlvbnMuc3RhdGVUcmFuc2Zvcm1lcjtcbiAgdmFyIGVycm9yVHJhbnNmb3JtZXIgPSBsb2dnZXJPcHRpb25zLmVycm9yVHJhbnNmb3JtZXI7XG4gIHZhciBwcmVkaWNhdGUgPSBsb2dnZXJPcHRpb25zLnByZWRpY2F0ZTtcbiAgdmFyIGxvZ0Vycm9ycyA9IGxvZ2dlck9wdGlvbnMubG9nRXJyb3JzO1xuICB2YXIgZGlmZlByZWRpY2F0ZSA9IGxvZ2dlck9wdGlvbnMuZGlmZlByZWRpY2F0ZTtcblxuICAvLyBSZXR1cm4gaWYgJ2NvbnNvbGUnIG9iamVjdCBpcyBub3QgZGVmaW5lZFxuXG4gIGlmICh0eXBlb2YgbG9nZ2VyID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgICByZXR1cm4gbmV4dChhY3Rpb24pO1xuICAgICAgICB9O1xuICAgICAgfTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKHRyYW5zZm9ybWVyKSB7XG4gICAgY29uc29sZS5lcnJvcignT3B0aW9uIFxcJ3RyYW5zZm9ybWVyXFwnIGlzIGRlcHJlY2F0ZWQsIHVzZSBcXCdzdGF0ZVRyYW5zZm9ybWVyXFwnIGluc3RlYWQhJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICB9XG5cbiAgdmFyIGxvZ0J1ZmZlciA9IFtdO1xuXG4gIHJldHVybiBmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBnZXRTdGF0ZSA9IF9yZWYuZ2V0U3RhdGU7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICAvLyBFeGl0IGVhcmx5IGlmIHByZWRpY2F0ZSBmdW5jdGlvbiByZXR1cm5zICdmYWxzZSdcbiAgICAgICAgaWYgKHR5cGVvZiBwcmVkaWNhdGUgPT09ICdmdW5jdGlvbicgJiYgIXByZWRpY2F0ZShnZXRTdGF0ZSwgYWN0aW9uKSkge1xuICAgICAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbG9nRW50cnkgPSB7fTtcbiAgICAgICAgbG9nQnVmZmVyLnB1c2gobG9nRW50cnkpO1xuXG4gICAgICAgIGxvZ0VudHJ5LnN0YXJ0ZWQgPSBfaGVscGVycy50aW1lci5ub3coKTtcbiAgICAgICAgbG9nRW50cnkuc3RhcnRlZFRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBsb2dFbnRyeS5wcmV2U3RhdGUgPSBzdGF0ZVRyYW5zZm9ybWVyKGdldFN0YXRlKCkpO1xuICAgICAgICBsb2dFbnRyeS5hY3Rpb24gPSBhY3Rpb247XG5cbiAgICAgICAgdmFyIHJldHVybmVkVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChsb2dFcnJvcnMpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuZWRWYWx1ZSA9IG5leHQoYWN0aW9uKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBsb2dFbnRyeS5lcnJvciA9IGVycm9yVHJhbnNmb3JtZXIoZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybmVkVmFsdWUgPSBuZXh0KGFjdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBsb2dFbnRyeS50b29rID0gX2hlbHBlcnMudGltZXIubm93KCkgLSBsb2dFbnRyeS5zdGFydGVkO1xuICAgICAgICBsb2dFbnRyeS5uZXh0U3RhdGUgPSBzdGF0ZVRyYW5zZm9ybWVyKGdldFN0YXRlKCkpO1xuXG4gICAgICAgIHZhciBkaWZmID0gbG9nZ2VyT3B0aW9ucy5kaWZmICYmIHR5cGVvZiBkaWZmUHJlZGljYXRlID09PSAnZnVuY3Rpb24nID8gZGlmZlByZWRpY2F0ZShnZXRTdGF0ZSwgYWN0aW9uKSA6IGxvZ2dlck9wdGlvbnMuZGlmZjtcblxuICAgICAgICAoMCwgX2NvcmUucHJpbnRCdWZmZXIpKGxvZ0J1ZmZlciwgX2V4dGVuZHMoe30sIGxvZ2dlck9wdGlvbnMsIHsgZGlmZjogZGlmZiB9KSk7XG4gICAgICAgIGxvZ0J1ZmZlci5sZW5ndGggPSAwO1xuXG4gICAgICAgIGlmIChsb2dFbnRyeS5lcnJvcikgdGhyb3cgbG9nRW50cnkuZXJyb3I7XG4gICAgICAgIHJldHVybiByZXR1cm5lZFZhbHVlO1xuICAgICAgfTtcbiAgICB9O1xuICB9O1xufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVMb2dnZXI7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVkdXgtbG9nZ2VyL2xpYi9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gOTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZnVuY3Rpb24gY3JlYXRlVGh1bmtNaWRkbGV3YXJlKGV4dHJhQXJndW1lbnQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaCxcbiAgICAgICAgZ2V0U3RhdGUgPSBfcmVmLmdldFN0YXRlO1xuICAgIHJldHVybiBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICByZXR1cm4gYWN0aW9uKGRpc3BhdGNoLCBnZXRTdGF0ZSwgZXh0cmFBcmd1bWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV4dChhY3Rpb24pO1xuICAgICAgfTtcbiAgICB9O1xuICB9O1xufVxuXG52YXIgdGh1bmsgPSBjcmVhdGVUaHVua01pZGRsZXdhcmUoKTtcbnRodW5rLndpdGhFeHRyYUFyZ3VtZW50ID0gY3JlYXRlVGh1bmtNaWRkbGV3YXJlO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSB0aHVuaztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVkdXgtdGh1bmsvbGliL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA5OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHIpIHtcblx0cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL1shJygpKl0vZywgZnVuY3Rpb24gKGMpIHtcblx0XHRyZXR1cm4gJyUnICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xuXHR9KTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vc3RyaWN0LXVyaS1lbmNvZGUvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDk5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguc2Nzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRleC5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguc2Nzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9wdWJsaWMvYXBwL2NvbXBvbmVudHMvQ2ZpZ3VyZS9pbmRleC5zY3NzXG4vLyBtb2R1bGUgaWQgPSAxMDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRleC5zY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRleC5zY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3B1YmxpYy9hcHAvY29tcG9uZW50cy9DaGFubmVsL2luZGV4LnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDEwMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LnNjc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LnNjc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vcHVibGljL2FwcC9jb21wb25lbnRzL1Nob3dMaXN0L2luZGV4LnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDEwMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LnNjc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LnNjc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vcHVibGljL2FwcC9jb21wb25lbnRzL1RpdGxlL2luZGV4LnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDEwM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LnNjc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LnNjc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vcHVibGljL2FwcC9wYWdlcy9GaXJzdFBhZ2UvaW5kZXguc2Nzc1xuLy8gbW9kdWxlIGlkID0gMTA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguc2Nzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRleC5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguc2Nzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9wdWJsaWMvYXBwL3BhZ2VzL0luZGV4L2luZGV4LnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDEwNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL0xvZ2luLnNjc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vTG9naW4uc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL0xvZ2luLnNjc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vcHVibGljL2FwcC9wYWdlcy9Mb2dpbi9Mb2dpbi5zY3NzXG4vLyBtb2R1bGUgaWQgPSAxMDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRleC5zY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRleC5zY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3B1YmxpYy9hcHAvc3R5bGVzaGVldHMvaW5kZXguc2Nzc1xuLy8gbW9kdWxlIGlkID0gMTA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjVjYjg3OTdmOGIxYmQ0ZTJiNjUwNDM1YmYyZjc0ODdhLmpwZ1wiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vcHVibGljL2FwcC9pbWFnZXMvNjk3LmpwZ1xuLy8gbW9kdWxlIGlkID0gMTA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG4gKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG4gKi9cblxudmFyIHdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB3YXJuaW5nID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGFyZ3MpIHtcbiAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiA+IDIgPyBsZW4gLSAyIDogMCk7XG4gICAgZm9yICh2YXIga2V5ID0gMjsga2V5IDwgbGVuOyBrZXkrKykge1xuICAgICAgYXJnc1trZXkgLSAyXSA9IGFyZ3VtZW50c1trZXldO1xuICAgIH1cbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgK1xuICAgICAgICAnbWVzc2FnZSBhcmd1bWVudCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGZvcm1hdC5sZW5ndGggPCAxMCB8fCAoL15bc1xcV10qJC8pLnRlc3QoZm9ybWF0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIHdhcm5pbmcgZm9ybWF0IHNob3VsZCBiZSBhYmxlIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgJyArXG4gICAgICAgICd3YXJuaW5nLiBQbGVhc2UsIHVzZSBhIG1vcmUgZGVzY3JpcHRpdmUgZm9ybWF0IHRoYW46ICcgKyBmb3JtYXRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICtcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgICB9KTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgfSBjYXRjaCh4KSB7fVxuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3dhcm5pbmcvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMTA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIihmdW5jdGlvbihzZWxmKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBpZiAoc2VsZi5mZXRjaCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgdmFyIHN1cHBvcnQgPSB7XG4gICAgc2VhcmNoUGFyYW1zOiAnVVJMU2VhcmNoUGFyYW1zJyBpbiBzZWxmLFxuICAgIGl0ZXJhYmxlOiAnU3ltYm9sJyBpbiBzZWxmICYmICdpdGVyYXRvcicgaW4gU3ltYm9sLFxuICAgIGJsb2I6ICdGaWxlUmVhZGVyJyBpbiBzZWxmICYmICdCbG9iJyBpbiBzZWxmICYmIChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ldyBCbG9iKClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9KSgpLFxuICAgIGZvcm1EYXRhOiAnRm9ybURhdGEnIGluIHNlbGYsXG4gICAgYXJyYXlCdWZmZXI6ICdBcnJheUJ1ZmZlcicgaW4gc2VsZlxuICB9XG5cbiAgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIpIHtcbiAgICB2YXIgdmlld0NsYXNzZXMgPSBbXG4gICAgICAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgICAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgRmxvYXQ2NEFycmF5XSdcbiAgICBdXG5cbiAgICB2YXIgaXNEYXRhVmlldyA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBEYXRhVmlldy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihvYmopXG4gICAgfVxuXG4gICAgdmFyIGlzQXJyYXlCdWZmZXJWaWV3ID0gQXJyYXlCdWZmZXIuaXNWaWV3IHx8IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB2aWV3Q2xhc3Nlcy5pbmRleE9mKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopKSA+IC0xXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplTmFtZShuYW1lKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgbmFtZSA9IFN0cmluZyhuYW1lKVxuICAgIH1cbiAgICBpZiAoL1teYS16MC05XFwtIyQlJicqKy5cXF5fYHx+XS9pLnRlc3QobmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY2hhcmFjdGVyIGluIGhlYWRlciBmaWVsZCBuYW1lJylcbiAgICB9XG4gICAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKVxuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpXG4gICAgfVxuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgLy8gQnVpbGQgYSBkZXN0cnVjdGl2ZSBpdGVyYXRvciBmb3IgdGhlIHZhbHVlIGxpc3RcbiAgZnVuY3Rpb24gaXRlcmF0b3JGb3IoaXRlbXMpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSB7XG4gICAgICBuZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gaXRlbXMuc2hpZnQoKVxuICAgICAgICByZXR1cm4ge2RvbmU6IHZhbHVlID09PSB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZX1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgICAgaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaXRlcmF0b3JcbiAgfVxuXG4gIGZ1bmN0aW9uIEhlYWRlcnMoaGVhZGVycykge1xuICAgIHRoaXMubWFwID0ge31cblxuICAgIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKVxuICAgICAgfSwgdGhpcylcblxuICAgIH0gZWxzZSBpZiAoaGVhZGVycykge1xuICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIGhlYWRlcnNbbmFtZV0pXG4gICAgICB9LCB0aGlzKVxuICAgIH1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgICB2YWx1ZSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxuICAgIHZhciBvbGRWYWx1ZSA9IHRoaXMubWFwW25hbWVdXG4gICAgdGhpcy5tYXBbbmFtZV0gPSBvbGRWYWx1ZSA/IG9sZFZhbHVlKycsJyt2YWx1ZSA6IHZhbHVlXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgZGVsZXRlIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgICByZXR1cm4gdGhpcy5oYXMobmFtZSkgPyB0aGlzLm1hcFtuYW1lXSA6IG51bGxcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAuaGFzT3duUHJvcGVydHkobm9ybWFsaXplTmFtZShuYW1lKSlcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihjYWxsYmFjaywgdGhpc0FyZykge1xuICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcy5tYXApIHtcbiAgICAgIGlmICh0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHRoaXMubWFwW25hbWVdLCBuYW1lLCB0aGlzKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXVxuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkgeyBpdGVtcy5wdXNoKG5hbWUpIH0pXG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW11cbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHsgaXRlbXMucHVzaCh2YWx1ZSkgfSlcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW11cbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHsgaXRlbXMucHVzaChbbmFtZSwgdmFsdWVdKSB9KVxuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfVxuXG4gIGlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gICAgSGVhZGVycy5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXNcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnN1bWVkKGJvZHkpIHtcbiAgICBpZiAoYm9keS5ib2R5VXNlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpKVxuICAgIH1cbiAgICBib2R5LmJvZHlVc2VkID0gdHJ1ZVxuICB9XG5cbiAgZnVuY3Rpb24gZmlsZVJlYWRlclJlYWR5KHJlYWRlcikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KVxuICAgICAgfVxuICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KHJlYWRlci5lcnJvcilcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEJsb2JBc0FycmF5QnVmZmVyKGJsb2IpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICAgIHZhciBwcm9taXNlID0gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYilcbiAgICByZXR1cm4gcHJvbWlzZVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEJsb2JBc1RleHQoYmxvYikge1xuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuICAgIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpXG4gICAgcmV0dXJuIHByb21pc2VcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRBcnJheUJ1ZmZlckFzVGV4dChidWYpIHtcbiAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1ZilcbiAgICB2YXIgY2hhcnMgPSBuZXcgQXJyYXkodmlldy5sZW5ndGgpXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNoYXJzW2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZSh2aWV3W2ldKVxuICAgIH1cbiAgICByZXR1cm4gY2hhcnMuam9pbignJylcbiAgfVxuXG4gIGZ1bmN0aW9uIGJ1ZmZlckNsb25lKGJ1Zikge1xuICAgIGlmIChidWYuc2xpY2UpIHtcbiAgICAgIHJldHVybiBidWYuc2xpY2UoMClcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYuYnl0ZUxlbmd0aClcbiAgICAgIHZpZXcuc2V0KG5ldyBVaW50OEFycmF5KGJ1ZikpXG4gICAgICByZXR1cm4gdmlldy5idWZmZXJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBCb2R5KCkge1xuICAgIHRoaXMuYm9keVVzZWQgPSBmYWxzZVxuXG4gICAgdGhpcy5faW5pdEJvZHkgPSBmdW5jdGlvbihib2R5KSB7XG4gICAgICB0aGlzLl9ib2R5SW5pdCA9IGJvZHlcbiAgICAgIGlmICghYm9keSkge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9ICcnXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5ibG9iICYmIEJsb2IucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUJsb2IgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuZm9ybURhdGEgJiYgRm9ybURhdGEucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUZvcm1EYXRhID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5LnRvU3RyaW5nKClcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiBzdXBwb3J0LmJsb2IgJiYgaXNEYXRhVmlldyhib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5QXJyYXlCdWZmZXIgPSBidWZmZXJDbG9uZShib2R5LmJ1ZmZlcilcbiAgICAgICAgLy8gSUUgMTAtMTEgY2FuJ3QgaGFuZGxlIGEgRGF0YVZpZXcgYm9keS5cbiAgICAgICAgdGhpcy5fYm9keUluaXQgPSBuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiAoQXJyYXlCdWZmZXIucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkgfHwgaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vuc3VwcG9ydGVkIEJvZHlJbml0IHR5cGUnKVxuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04JylcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QmxvYiAmJiB0aGlzLl9ib2R5QmxvYi50eXBlKSB7XG4gICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgdGhpcy5fYm9keUJsb2IudHlwZSlcbiAgICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgnKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN1cHBvcnQuYmxvYikge1xuICAgICAgdGhpcy5ibG9iID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICAgIHJldHVybiByZWplY3RlZFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QmxvYilcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKSlcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgYmxvYicpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmFycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICByZXR1cm4gY29uc3VtZWQodGhpcykgfHwgUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ibG9iKCkudGhlbihyZWFkQmxvYkFzQXJyYXlCdWZmZXIpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICBpZiAocmVqZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuICAgICAgICByZXR1cm4gcmVhZEJsb2JBc1RleHQodGhpcy5fYm9keUJsb2IpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlYWRBcnJheUJ1ZmZlckFzVGV4dCh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIHRleHQnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5mb3JtRGF0YSkge1xuICAgICAgdGhpcy5mb3JtRGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihkZWNvZGUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5qc29uID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihKU09OLnBhcnNlKVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvLyBIVFRQIG1ldGhvZHMgd2hvc2UgY2FwaXRhbGl6YXRpb24gc2hvdWxkIGJlIG5vcm1hbGl6ZWRcbiAgdmFyIG1ldGhvZHMgPSBbJ0RFTEVURScsICdHRVQnLCAnSEVBRCcsICdPUFRJT05TJywgJ1BPU1QnLCAnUFVUJ11cblxuICBmdW5jdGlvbiBub3JtYWxpemVNZXRob2QobWV0aG9kKSB7XG4gICAgdmFyIHVwY2FzZWQgPSBtZXRob2QudG9VcHBlckNhc2UoKVxuICAgIHJldHVybiAobWV0aG9kcy5pbmRleE9mKHVwY2FzZWQpID4gLTEpID8gdXBjYXNlZCA6IG1ldGhvZFxuICB9XG5cbiAgZnVuY3Rpb24gUmVxdWVzdChpbnB1dCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gICAgdmFyIGJvZHkgPSBvcHRpb25zLmJvZHlcblxuICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIFJlcXVlc3QpIHtcbiAgICAgIGlmIChpbnB1dC5ib2R5VXNlZCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKVxuICAgICAgfVxuICAgICAgdGhpcy51cmwgPSBpbnB1dC51cmxcbiAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSBpbnB1dC5jcmVkZW50aWFsc1xuICAgICAgaWYgKCFvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5wdXQuaGVhZGVycylcbiAgICAgIH1cbiAgICAgIHRoaXMubWV0aG9kID0gaW5wdXQubWV0aG9kXG4gICAgICB0aGlzLm1vZGUgPSBpbnB1dC5tb2RlXG4gICAgICBpZiAoIWJvZHkgJiYgaW5wdXQuX2JvZHlJbml0ICE9IG51bGwpIHtcbiAgICAgICAgYm9keSA9IGlucHV0Ll9ib2R5SW5pdFxuICAgICAgICBpbnB1dC5ib2R5VXNlZCA9IHRydWVcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51cmwgPSBTdHJpbmcoaW5wdXQpXG4gICAgfVxuXG4gICAgdGhpcy5jcmVkZW50aWFscyA9IG9wdGlvbnMuY3JlZGVudGlhbHMgfHwgdGhpcy5jcmVkZW50aWFscyB8fCAnb21pdCdcbiAgICBpZiAob3B0aW9ucy5oZWFkZXJzIHx8ICF0aGlzLmhlYWRlcnMpIHtcbiAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgICB9XG4gICAgdGhpcy5tZXRob2QgPSBub3JtYWxpemVNZXRob2Qob3B0aW9ucy5tZXRob2QgfHwgdGhpcy5tZXRob2QgfHwgJ0dFVCcpXG4gICAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlIHx8IHRoaXMubW9kZSB8fCBudWxsXG4gICAgdGhpcy5yZWZlcnJlciA9IG51bGxcblxuICAgIGlmICgodGhpcy5tZXRob2QgPT09ICdHRVQnIHx8IHRoaXMubWV0aG9kID09PSAnSEVBRCcpICYmIGJvZHkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0JvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzJylcbiAgICB9XG4gICAgdGhpcy5faW5pdEJvZHkoYm9keSlcbiAgfVxuXG4gIFJlcXVlc3QucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZXF1ZXN0KHRoaXMsIHsgYm9keTogdGhpcy5fYm9keUluaXQgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlY29kZShib2R5KSB7XG4gICAgdmFyIGZvcm0gPSBuZXcgRm9ybURhdGEoKVxuICAgIGJvZHkudHJpbSgpLnNwbGl0KCcmJykuZm9yRWFjaChmdW5jdGlvbihieXRlcykge1xuICAgICAgaWYgKGJ5dGVzKSB7XG4gICAgICAgIHZhciBzcGxpdCA9IGJ5dGVzLnNwbGl0KCc9JylcbiAgICAgICAgdmFyIG5hbWUgPSBzcGxpdC5zaGlmdCgpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIHZhciB2YWx1ZSA9IHNwbGl0LmpvaW4oJz0nKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICBmb3JtLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQobmFtZSksIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gZm9ybVxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VIZWFkZXJzKHJhd0hlYWRlcnMpIHtcbiAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKClcbiAgICByYXdIZWFkZXJzLnNwbGl0KC9cXHI/XFxuLykuZm9yRWFjaChmdW5jdGlvbihsaW5lKSB7XG4gICAgICB2YXIgcGFydHMgPSBsaW5lLnNwbGl0KCc6JylcbiAgICAgIHZhciBrZXkgPSBwYXJ0cy5zaGlmdCgpLnRyaW0oKVxuICAgICAgaWYgKGtleSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBwYXJ0cy5qb2luKCc6JykudHJpbSgpXG4gICAgICAgIGhlYWRlcnMuYXBwZW5kKGtleSwgdmFsdWUpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gaGVhZGVyc1xuICB9XG5cbiAgQm9keS5jYWxsKFJlcXVlc3QucHJvdG90eXBlKVxuXG4gIGZ1bmN0aW9uIFJlc3BvbnNlKGJvZHlJbml0LCBvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0ge31cbiAgICB9XG5cbiAgICB0aGlzLnR5cGUgPSAnZGVmYXVsdCdcbiAgICB0aGlzLnN0YXR1cyA9ICdzdGF0dXMnIGluIG9wdGlvbnMgPyBvcHRpb25zLnN0YXR1cyA6IDIwMFxuICAgIHRoaXMub2sgPSB0aGlzLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy5zdGF0dXMgPCAzMDBcbiAgICB0aGlzLnN0YXR1c1RleHQgPSAnc3RhdHVzVGV4dCcgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhdHVzVGV4dCA6ICdPSydcbiAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG4gICAgdGhpcy51cmwgPSBvcHRpb25zLnVybCB8fCAnJ1xuICAgIHRoaXMuX2luaXRCb2R5KGJvZHlJbml0KVxuICB9XG5cbiAgQm9keS5jYWxsKFJlc3BvbnNlLnByb3RvdHlwZSlcblxuICBSZXNwb25zZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHRoaXMuX2JvZHlJbml0LCB7XG4gICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgICAgc3RhdHVzVGV4dDogdGhpcy5zdGF0dXNUZXh0LFxuICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnModGhpcy5oZWFkZXJzKSxcbiAgICAgIHVybDogdGhpcy51cmxcbiAgICB9KVxuICB9XG5cbiAgUmVzcG9uc2UuZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogMCwgc3RhdHVzVGV4dDogJyd9KVxuICAgIHJlc3BvbnNlLnR5cGUgPSAnZXJyb3InXG4gICAgcmV0dXJuIHJlc3BvbnNlXG4gIH1cblxuICB2YXIgcmVkaXJlY3RTdGF0dXNlcyA9IFszMDEsIDMwMiwgMzAzLCAzMDcsIDMwOF1cblxuICBSZXNwb25zZS5yZWRpcmVjdCA9IGZ1bmN0aW9uKHVybCwgc3RhdHVzKSB7XG4gICAgaWYgKHJlZGlyZWN0U3RhdHVzZXMuaW5kZXhPZihzdGF0dXMpID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgc3RhdHVzIGNvZGUnKVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogc3RhdHVzLCBoZWFkZXJzOiB7bG9jYXRpb246IHVybH19KVxuICB9XG5cbiAgc2VsZi5IZWFkZXJzID0gSGVhZGVyc1xuICBzZWxmLlJlcXVlc3QgPSBSZXF1ZXN0XG4gIHNlbGYuUmVzcG9uc2UgPSBSZXNwb25zZVxuXG4gIHNlbGYuZmV0Y2ggPSBmdW5jdGlvbihpbnB1dCwgaW5pdCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoaW5wdXQsIGluaXQpXG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcblxuICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXMsXG4gICAgICAgICAgc3RhdHVzVGV4dDogeGhyLnN0YXR1c1RleHQsXG4gICAgICAgICAgaGVhZGVyczogcGFyc2VIZWFkZXJzKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSB8fCAnJylcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLnVybCA9ICdyZXNwb25zZVVSTCcgaW4geGhyID8geGhyLnJlc3BvbnNlVVJMIDogb3B0aW9ucy5oZWFkZXJzLmdldCgnWC1SZXF1ZXN0LVVSTCcpXG4gICAgICAgIHZhciBib2R5ID0gJ3Jlc3BvbnNlJyBpbiB4aHIgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0XG4gICAgICAgIHJlc29sdmUobmV3IFJlc3BvbnNlKGJvZHksIG9wdGlvbnMpKVxuICAgICAgfVxuXG4gICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgICAgfVxuXG4gICAgICB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vcGVuKHJlcXVlc3QubWV0aG9kLCByZXF1ZXN0LnVybCwgdHJ1ZSlcblxuICAgICAgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdpbmNsdWRlJykge1xuICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICBpZiAoJ3Jlc3BvbnNlVHlwZScgaW4geGhyICYmIHN1cHBvcnQuYmxvYikge1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InXG4gICAgICB9XG5cbiAgICAgIHJlcXVlc3QuaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKG5hbWUsIHZhbHVlKVxuICAgICAgfSlcblxuICAgICAgeGhyLnNlbmQodHlwZW9mIHJlcXVlc3QuX2JvZHlJbml0ID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiByZXF1ZXN0Ll9ib2R5SW5pdClcbiAgICB9KVxuICB9XG4gIHNlbGYuZmV0Y2gucG9seWZpbGwgPSB0cnVlXG59KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vd2hhdHdnLWZldGNoL2ZldGNoLmpzXG4vLyBtb2R1bGUgaWQgPSAxMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcIlJlYWN0RE9NXCJcbi8vIG1vZHVsZSBpZCA9IDExMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IG1vbWVudDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcIm1vbWVudFwiXG4vLyBtb2R1bGUgaWQgPSAxMTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSB0cnVlO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwidHJ1ZVwiXG4vLyBtb2R1bGUgaWQgPSAxMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==